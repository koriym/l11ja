
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://github.com/koriym/l11ja/collections.html">
      
      
        <link rel="prev" href="cache.html">
      
      
        <link rel="next" href="concurrency.html">
      
      
      <link rel="icon" href="assets/images/favicon_io/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.35">
    
    
      
        <title>コレクション - L11JA</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.35f28582.min.css">
      
      


    
    

    

    
      <link rel="stylesheet" href="assets/css/php.css">
    
      <link rel="stylesheet" href="assets/css/mkdocs_material_extra.css">
    
      <link rel="stylesheet" href="assets/css/extra.css">
    
      <link rel="stylesheet" href="assets/css/giscuss.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-G60CEHXLQ1"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-G60CEHXLQ1",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-G60CEHXLQ1",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    

  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <!-- Determine classes -->



<!-- Header -->
<header class="md-header" data-md-component="header">
  <nav
          class="md-header__inner md-grid"
          aria-label="Header"
  >

    <!-- Link to home -->
    <a
            href="."
            title="L11JA"
            class="md-header__button md-logo"
            aria-label="L11JA"
            data-md-component="logo"
    >
      
  <img src="assets/images/logo.png" alt="logo">

    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            <span style="font-family: 'Noto Sans'; font-size: 20px" >
            L11JA
            </span>
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            <span style="font-family: 'Noto Sans Batak'; font-size: 20px" >
            
              コレクション
            
            </span>
          </span>
        </div>
      </div>
    </div>

    <!-- Color palette toggle -->
    

    <!-- User preference: color palette -->
    
    <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
    <label class="md-header__button md-icon" for="__search">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
    </label>

    <!-- Search interface -->
    <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <!-- Repository information -->
    
    <div class="md-header__source">
      

<!--
  Check whether the repository is hosted on one of the supported code hosting
  platforms (GitHub, GitLab or Bitbucket) to show icon.
-->


  


<!-- Repository containing source -->
<a href="https://github.com/koriym/l11ja" title="source.link.title"
    class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg width="24" height="24" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z" fill="#000"/></svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="releases.html" class="md-tabs__link">
          
  
  プロローグ

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="installation.html" class="md-tabs__link">
          
  
  はじめに

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="lifecycle.html" class="md-tabs__link">
          
  
  アーキテクチャ

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="routing.html" class="md-tabs__link">
          
  
  基本

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="artisan.html" class="md-tabs__link">
          
  
  掘り下げる

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="authentication.html" class="md-tabs__link">
          
  
  セキュリティ

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="database.html" class="md-tabs__link">
          
  
  データベース

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="eloquent.html" class="md-tabs__link">
          
  
  Eloquent ORM

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="testing.html" class="md-tabs__link">
          
  
  テスト

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="starter-kits.html" class="md-tabs__link">
          
  
  パッケージ

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="L11JA" class="md-nav__button md-logo" aria-label="L11JA" data-md-component="logo">
      
  <img src="assets/images/logo.png" alt="logo">

    </a>
    L11JA
  </label>
  
    <div class="md-nav__source">
      

<!--
  Check whether the repository is hosted on one of the supported code hosting
  platforms (GitHub, GitLab or Bitbucket) to show icon.
-->


  


<!-- Repository containing source -->
<a href="https://github.com/koriym/l11ja" title="source.link.title"
    class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg width="24" height="24" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z" fill="#000"/></svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    プロローグ
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            プロローグ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="releases.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    リリースノート
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="upgrade.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    アップグレードガイド
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="contributions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    貢献ガイド
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    はじめに
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            はじめに
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="installation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    インストール
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="configuration.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    設定
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="structure.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ディレクトリ構造
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="frontend.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    フロントエンド
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="starter-kits.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    スターターキット
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="deployment.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    デプロイ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    アーキテクチャ
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            アーキテクチャ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="lifecycle.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    リクエストライフサイクル
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="container.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    サービスコンテナ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="providers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    サービスプロバイダ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="facades.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ファサード
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    基本
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            基本
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="routing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ルーティング
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="middleware.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ミドルウェア
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="csrf.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSRF保護
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="controllers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    コントローラ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="requests.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    リクエスト
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="responses.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    レスポンス
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="views.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ビュー
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="blade.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bladeテンプレート
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="vite.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    アセットバンドル
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="urls.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    URL生成
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="session.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    セッション
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="validation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    バリデーション
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="errors.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    エラー処理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="logging.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ログ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    掘り下げる
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            掘り下げる
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="artisan.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Artisanコンソール
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="broadcasting.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ブロードキャスティング
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="cache.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    キャッシュ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    コレクション
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="collections.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    コレクション
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      イントロダクション
    </span>
  </a>
  
    <nav class="md-nav" aria-label="イントロダクション">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      コレクションの作成
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      コレクションの拡張
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コレクションの拡張">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      マクロ引数
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      利用可能なメソッド
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      メソッド一覧
    </span>
  </a>
  
    <nav class="md-nav" aria-label="メソッド一覧">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#after" class="md-nav__link">
    <span class="md-ellipsis">
      after()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#all" class="md-nav__link">
    <span class="md-ellipsis">
      all()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#average" class="md-nav__link">
    <span class="md-ellipsis">
      average()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avg" class="md-nav__link">
    <span class="md-ellipsis">
      avg()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#before" class="md-nav__link">
    <span class="md-ellipsis">
      before()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chunk" class="md-nav__link">
    <span class="md-ellipsis">
      chunk()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chunkwhile" class="md-nav__link">
    <span class="md-ellipsis">
      chunkWhile()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collapse" class="md-nav__link">
    <span class="md-ellipsis">
      collapse()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collect" class="md-nav__link">
    <span class="md-ellipsis">
      collect()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combine" class="md-nav__link">
    <span class="md-ellipsis">
      combine()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#concat" class="md-nav__link">
    <span class="md-ellipsis">
      concat()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contains" class="md-nav__link">
    <span class="md-ellipsis">
      contains()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#containsoneitem" class="md-nav__link">
    <span class="md-ellipsis">
      containsOneItem()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#containsstrict" class="md-nav__link">
    <span class="md-ellipsis">
      containsStrict()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#count" class="md-nav__link">
    <span class="md-ellipsis">
      count()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#countby" class="md-nav__link">
    <span class="md-ellipsis">
      countBy()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crossjoin" class="md-nav__link">
    <span class="md-ellipsis">
      crossJoin()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dd" class="md-nav__link">
    <span class="md-ellipsis">
      dd()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diff" class="md-nav__link">
    <span class="md-ellipsis">
      diff()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diffassoc" class="md-nav__link">
    <span class="md-ellipsis">
      diffAssoc()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diffassocusing" class="md-nav__link">
    <span class="md-ellipsis">
      diffAssocUsing()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diffkeys" class="md-nav__link">
    <span class="md-ellipsis">
      diffKeys()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#doesntcontain" class="md-nav__link">
    <span class="md-ellipsis">
      doesntContain()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dot" class="md-nav__link">
    <span class="md-ellipsis">
      dot()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dump" class="md-nav__link">
    <span class="md-ellipsis">
      dump()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#duplicates" class="md-nav__link">
    <span class="md-ellipsis">
      duplicates()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#duplicatesstrict" class="md-nav__link">
    <span class="md-ellipsis">
      duplicatesStrict()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#each" class="md-nav__link">
    <span class="md-ellipsis">
      each()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eachspread" class="md-nav__link">
    <span class="md-ellipsis">
      eachSpread()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ensure" class="md-nav__link">
    <span class="md-ellipsis">
      ensure()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#every" class="md-nav__link">
    <span class="md-ellipsis">
      every()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#except" class="md-nav__link">
    <span class="md-ellipsis">
      except()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filter" class="md-nav__link">
    <span class="md-ellipsis">
      filter()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#first" class="md-nav__link">
    <span class="md-ellipsis">
      first()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#firstorfail" class="md-nav__link">
    <span class="md-ellipsis">
      firstOrFail()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#firstwhere" class="md-nav__link">
    <span class="md-ellipsis">
      firstWhere()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flatmap" class="md-nav__link">
    <span class="md-ellipsis">
      flatMap()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flatten" class="md-nav__link">
    <span class="md-ellipsis">
      flatten()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flip" class="md-nav__link">
    <span class="md-ellipsis">
      flip()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#forget" class="md-nav__link">
    <span class="md-ellipsis">
      forget()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#forpage" class="md-nav__link">
    <span class="md-ellipsis">
      forPage()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get" class="md-nav__link">
    <span class="md-ellipsis">
      get()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#groupby" class="md-nav__link">
    <span class="md-ellipsis">
      groupBy()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#has" class="md-nav__link">
    <span class="md-ellipsis">
      has()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hasany" class="md-nav__link">
    <span class="md-ellipsis">
      hasAny()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implode" class="md-nav__link">
    <span class="md-ellipsis">
      implode()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intersect" class="md-nav__link">
    <span class="md-ellipsis">
      intersect()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intersectassoc" class="md-nav__link">
    <span class="md-ellipsis">
      intersectAssoc()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intersectbykeys" class="md-nav__link">
    <span class="md-ellipsis">
      intersectByKeys()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#isempty" class="md-nav__link">
    <span class="md-ellipsis">
      isEmpty()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#isnotempty" class="md-nav__link">
    <span class="md-ellipsis">
      isNotEmpty()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join" class="md-nav__link">
    <span class="md-ellipsis">
      join()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keyby" class="md-nav__link">
    <span class="md-ellipsis">
      keyBy()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keys" class="md-nav__link">
    <span class="md-ellipsis">
      keys()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#last" class="md-nav__link">
    <span class="md-ellipsis">
      last()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lazy" class="md-nav__link">
    <span class="md-ellipsis">
      lazy()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#macro" class="md-nav__link">
    <span class="md-ellipsis">
      macro()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#make" class="md-nav__link">
    <span class="md-ellipsis">
      make()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#map" class="md-nav__link">
    <span class="md-ellipsis">
      map()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapinto" class="md-nav__link">
    <span class="md-ellipsis">
      mapInto()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapspread" class="md-nav__link">
    <span class="md-ellipsis">
      mapSpread()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maptogroups" class="md-nav__link">
    <span class="md-ellipsis">
      mapToGroups()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapwithkeys" class="md-nav__link">
    <span class="md-ellipsis">
      mapWithKeys()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max" class="md-nav__link">
    <span class="md-ellipsis">
      max()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#median" class="md-nav__link">
    <span class="md-ellipsis">
      median()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merge" class="md-nav__link">
    <span class="md-ellipsis">
      merge()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mergerecursive" class="md-nav__link">
    <span class="md-ellipsis">
      mergeRecursive()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#min" class="md-nav__link">
    <span class="md-ellipsis">
      min()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mode" class="md-nav__link">
    <span class="md-ellipsis">
      mode()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiply" class="md-nav__link">
    <span class="md-ellipsis">
      multiply()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nth" class="md-nav__link">
    <span class="md-ellipsis">
      nth()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#only" class="md-nav__link">
    <span class="md-ellipsis">
      only()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pad" class="md-nav__link">
    <span class="md-ellipsis">
      pad()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partition" class="md-nav__link">
    <span class="md-ellipsis">
      partition()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#percentage" class="md-nav__link">
    <span class="md-ellipsis">
      percentage()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pipe" class="md-nav__link">
    <span class="md-ellipsis">
      pipe()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pipeinto" class="md-nav__link">
    <span class="md-ellipsis">
      pipeInto()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pipethrough" class="md-nav__link">
    <span class="md-ellipsis">
      pipeThrough()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pluck" class="md-nav__link">
    <span class="md-ellipsis">
      pluck()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pop" class="md-nav__link">
    <span class="md-ellipsis">
      pop()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prepend" class="md-nav__link">
    <span class="md-ellipsis">
      prepend()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pull" class="md-nav__link">
    <span class="md-ellipsis">
      pull()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#push" class="md-nav__link">
    <span class="md-ellipsis">
      push()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#put" class="md-nav__link">
    <span class="md-ellipsis">
      put()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random" class="md-nav__link">
    <span class="md-ellipsis">
      random()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#range" class="md-nav__link">
    <span class="md-ellipsis">
      range()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reduce" class="md-nav__link">
    <span class="md-ellipsis">
      reduce()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reducespread" class="md-nav__link">
    <span class="md-ellipsis">
      reduceSpread()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reject" class="md-nav__link">
    <span class="md-ellipsis">
      reject()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replace" class="md-nav__link">
    <span class="md-ellipsis">
      replace()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replacerecursive" class="md-nav__link">
    <span class="md-ellipsis">
      replaceRecursive()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reverse" class="md-nav__link">
    <span class="md-ellipsis">
      reverse()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search" class="md-nav__link">
    <span class="md-ellipsis">
      search()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select" class="md-nav__link">
    <span class="md-ellipsis">
      select()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shift" class="md-nav__link">
    <span class="md-ellipsis">
      shift()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shuffle" class="md-nav__link">
    <span class="md-ellipsis">
      shuffle()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skip" class="md-nav__link">
    <span class="md-ellipsis">
      skip()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skipuntil" class="md-nav__link">
    <span class="md-ellipsis">
      skipUntil()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skipwhile" class="md-nav__link">
    <span class="md-ellipsis">
      skipWhile()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slice" class="md-nav__link">
    <span class="md-ellipsis">
      slice()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sliding" class="md-nav__link">
    <span class="md-ellipsis">
      sliding()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sole" class="md-nav__link">
    <span class="md-ellipsis">
      sole()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#some" class="md-nav__link">
    <span class="md-ellipsis">
      some()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sort" class="md-nav__link">
    <span class="md-ellipsis">
      sort()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sortby" class="md-nav__link">
    <span class="md-ellipsis">
      sortBy()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sortbydesc" class="md-nav__link">
    <span class="md-ellipsis">
      sortByDesc()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sortdesc" class="md-nav__link">
    <span class="md-ellipsis">
      sortDesc()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sortkeys" class="md-nav__link">
    <span class="md-ellipsis">
      sortKeys()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sortkeysdesc" class="md-nav__link">
    <span class="md-ellipsis">
      sortKeysDesc()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sortkeysusing" class="md-nav__link">
    <span class="md-ellipsis">
      sortKeysUsing()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#splice" class="md-nav__link">
    <span class="md-ellipsis">
      splice()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#split" class="md-nav__link">
    <span class="md-ellipsis">
      split()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#splitin" class="md-nav__link">
    <span class="md-ellipsis">
      splitIn()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sum" class="md-nav__link">
    <span class="md-ellipsis">
      sum()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#take" class="md-nav__link">
    <span class="md-ellipsis">
      take()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#takeuntil" class="md-nav__link">
    <span class="md-ellipsis">
      takeUntil()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#takewhile" class="md-nav__link">
    <span class="md-ellipsis">
      takeWhile()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tap" class="md-nav__link">
    <span class="md-ellipsis">
      tap()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#times" class="md-nav__link">
    <span class="md-ellipsis">
      times()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toarray" class="md-nav__link">
    <span class="md-ellipsis">
      toArray()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tojson" class="md-nav__link">
    <span class="md-ellipsis">
      toJson()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transform" class="md-nav__link">
    <span class="md-ellipsis">
      transform()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#undot" class="md-nav__link">
    <span class="md-ellipsis">
      undot()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union" class="md-nav__link">
    <span class="md-ellipsis">
      union()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unique" class="md-nav__link">
    <span class="md-ellipsis">
      unique()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uniquestrict" class="md-nav__link">
    <span class="md-ellipsis">
      uniqueStrict()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unless" class="md-nav__link">
    <span class="md-ellipsis">
      unless()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unlessempty" class="md-nav__link">
    <span class="md-ellipsis">
      unlessEmpty()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unlessnotempty" class="md-nav__link">
    <span class="md-ellipsis">
      unlessNotEmpty()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unwrap" class="md-nav__link">
    <span class="md-ellipsis">
      unwrap()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#value" class="md-nav__link">
    <span class="md-ellipsis">
      value()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#values" class="md-nav__link">
    <span class="md-ellipsis">
      values()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when" class="md-nav__link">
    <span class="md-ellipsis">
      when()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#whenempty" class="md-nav__link">
    <span class="md-ellipsis">
      whenEmpty()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#whennotempty" class="md-nav__link">
    <span class="md-ellipsis">
      whenNotEmpty()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#where" class="md-nav__link">
    <span class="md-ellipsis">
      where()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wherestrict" class="md-nav__link">
    <span class="md-ellipsis">
      whereStrict()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wherebetween" class="md-nav__link">
    <span class="md-ellipsis">
      whereBetween()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wherein" class="md-nav__link">
    <span class="md-ellipsis">
      whereIn()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#whereinstrict" class="md-nav__link">
    <span class="md-ellipsis">
      whereInStrict()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#whereinstanceof" class="md-nav__link">
    <span class="md-ellipsis">
      whereInstanceOf()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wherenotbetween" class="md-nav__link">
    <span class="md-ellipsis">
      whereNotBetween()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wherenotin" class="md-nav__link">
    <span class="md-ellipsis">
      whereNotIn()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wherenotinstrict" class="md-nav__link">
    <span class="md-ellipsis">
      whereNotInStrict()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wherenotnull" class="md-nav__link">
    <span class="md-ellipsis">
      whereNotNull()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wherenull" class="md-nav__link">
    <span class="md-ellipsis">
      whereNull()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrap" class="md-nav__link">
    <span class="md-ellipsis">
      wrap()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zip" class="md-nav__link">
    <span class="md-ellipsis">
      zip()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      高階メッセージ
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      遅延コレクション
    </span>
  </a>
  
    <nav class="md-nav" aria-label="遅延コレクション">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      はじめに
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      遅延コレクションの作成
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enumerable" class="md-nav__link">
    <span class="md-ellipsis">
      Enumerable契約
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      遅延コレクションメソッド
    </span>
  </a>
  
    <nav class="md-nav" aria-label="遅延コレクションメソッド">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#takeuntiltimeout" class="md-nav__link">
    <span class="md-ellipsis">
      takeUntilTimeout()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tapeach" class="md-nav__link">
    <span class="md-ellipsis">
      tapEach()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#throttle" class="md-nav__link">
    <span class="md-ellipsis">
      throttle()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remember" class="md-nav__link">
    <span class="md-ellipsis">
      remember()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="concurrency.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    並行処理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="context.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    コンテキスト
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="contracts.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    コントラクト
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="events.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    イベント
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="filesystem.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ファイルストレージ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="helpers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ヘルパー
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="http-client.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTTPクライアント
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="localization.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ローカライゼーション
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="mail.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    メール
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="notifications.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    通知
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="packages.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    パッケージ開発
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="processes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    プロセス
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="queues.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    キュー
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="rate-limiting.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    レート制限
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="strings.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    文字列
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="scheduling.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    タスクスケジューリング
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    セキュリティ
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            セキュリティ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="authentication.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    認証
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="authorization.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    認可
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="verification.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    メール確認
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="encryption.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    暗号化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="hashing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ハッシュ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="passwords.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    パスワードリセット
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    データベース
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            データベース
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="database.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    はじめに
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="queries.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クエリビルダ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="pagination.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ページネーション
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="migrations.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    マイグレーション
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="seeding.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    シーディング
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="redis.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Redis
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Eloquent ORM
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Eloquent ORM
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="eloquent.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    はじめに
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="eloquent-relationships.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    リレーションシップ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="eloquent-collections.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    コレクション
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="eloquent-mutators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ミューテータ / キャスト
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="eloquent-resources.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    APIリソース
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="eloquent-serialization.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    シリアライゼーション
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="eloquent-factories.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ファクトリ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    テスト
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            テスト
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="testing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    はじめに
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="http-tests.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTTPテスト
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="console-tests.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    コンソールテスト
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="dusk.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ブラウザテスト
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="database-testing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    データベース
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="mocking.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    モック
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    パッケージ
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            パッケージ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="starter-kits.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    スターターキット
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="billing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cashier (Stripe)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="cashier-paddle.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cashier (Paddle)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="dusk.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ブラウザテスト
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="envoy.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Envoy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="fortify.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fortify
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="folio.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Folio
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="homestead.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Homestead
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="horizon.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Horizon
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="mix.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mix
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="octane.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Octane
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="passport.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Passport
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="pennant.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pennant
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="pint.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pint
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="precognition.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Precognition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="prompts.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prompts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="pulse.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pulse
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="reverb.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reverb
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="sail.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sail
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="sanctum.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sanctum
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="scout.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scout
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="socialite.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Socialite
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="telescope.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Telescope
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="valet.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Valet
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      イントロダクション
    </span>
  </a>
  
    <nav class="md-nav" aria-label="イントロダクション">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      コレクションの作成
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      コレクションの拡張
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コレクションの拡張">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      マクロ引数
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      利用可能なメソッド
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      メソッド一覧
    </span>
  </a>
  
    <nav class="md-nav" aria-label="メソッド一覧">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#after" class="md-nav__link">
    <span class="md-ellipsis">
      after()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#all" class="md-nav__link">
    <span class="md-ellipsis">
      all()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#average" class="md-nav__link">
    <span class="md-ellipsis">
      average()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avg" class="md-nav__link">
    <span class="md-ellipsis">
      avg()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#before" class="md-nav__link">
    <span class="md-ellipsis">
      before()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chunk" class="md-nav__link">
    <span class="md-ellipsis">
      chunk()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chunkwhile" class="md-nav__link">
    <span class="md-ellipsis">
      chunkWhile()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collapse" class="md-nav__link">
    <span class="md-ellipsis">
      collapse()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collect" class="md-nav__link">
    <span class="md-ellipsis">
      collect()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combine" class="md-nav__link">
    <span class="md-ellipsis">
      combine()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#concat" class="md-nav__link">
    <span class="md-ellipsis">
      concat()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contains" class="md-nav__link">
    <span class="md-ellipsis">
      contains()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#containsoneitem" class="md-nav__link">
    <span class="md-ellipsis">
      containsOneItem()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#containsstrict" class="md-nav__link">
    <span class="md-ellipsis">
      containsStrict()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#count" class="md-nav__link">
    <span class="md-ellipsis">
      count()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#countby" class="md-nav__link">
    <span class="md-ellipsis">
      countBy()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crossjoin" class="md-nav__link">
    <span class="md-ellipsis">
      crossJoin()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dd" class="md-nav__link">
    <span class="md-ellipsis">
      dd()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diff" class="md-nav__link">
    <span class="md-ellipsis">
      diff()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diffassoc" class="md-nav__link">
    <span class="md-ellipsis">
      diffAssoc()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diffassocusing" class="md-nav__link">
    <span class="md-ellipsis">
      diffAssocUsing()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diffkeys" class="md-nav__link">
    <span class="md-ellipsis">
      diffKeys()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#doesntcontain" class="md-nav__link">
    <span class="md-ellipsis">
      doesntContain()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dot" class="md-nav__link">
    <span class="md-ellipsis">
      dot()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dump" class="md-nav__link">
    <span class="md-ellipsis">
      dump()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#duplicates" class="md-nav__link">
    <span class="md-ellipsis">
      duplicates()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#duplicatesstrict" class="md-nav__link">
    <span class="md-ellipsis">
      duplicatesStrict()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#each" class="md-nav__link">
    <span class="md-ellipsis">
      each()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eachspread" class="md-nav__link">
    <span class="md-ellipsis">
      eachSpread()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ensure" class="md-nav__link">
    <span class="md-ellipsis">
      ensure()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#every" class="md-nav__link">
    <span class="md-ellipsis">
      every()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#except" class="md-nav__link">
    <span class="md-ellipsis">
      except()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filter" class="md-nav__link">
    <span class="md-ellipsis">
      filter()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#first" class="md-nav__link">
    <span class="md-ellipsis">
      first()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#firstorfail" class="md-nav__link">
    <span class="md-ellipsis">
      firstOrFail()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#firstwhere" class="md-nav__link">
    <span class="md-ellipsis">
      firstWhere()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flatmap" class="md-nav__link">
    <span class="md-ellipsis">
      flatMap()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flatten" class="md-nav__link">
    <span class="md-ellipsis">
      flatten()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flip" class="md-nav__link">
    <span class="md-ellipsis">
      flip()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#forget" class="md-nav__link">
    <span class="md-ellipsis">
      forget()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#forpage" class="md-nav__link">
    <span class="md-ellipsis">
      forPage()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get" class="md-nav__link">
    <span class="md-ellipsis">
      get()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#groupby" class="md-nav__link">
    <span class="md-ellipsis">
      groupBy()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#has" class="md-nav__link">
    <span class="md-ellipsis">
      has()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hasany" class="md-nav__link">
    <span class="md-ellipsis">
      hasAny()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implode" class="md-nav__link">
    <span class="md-ellipsis">
      implode()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intersect" class="md-nav__link">
    <span class="md-ellipsis">
      intersect()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intersectassoc" class="md-nav__link">
    <span class="md-ellipsis">
      intersectAssoc()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intersectbykeys" class="md-nav__link">
    <span class="md-ellipsis">
      intersectByKeys()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#isempty" class="md-nav__link">
    <span class="md-ellipsis">
      isEmpty()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#isnotempty" class="md-nav__link">
    <span class="md-ellipsis">
      isNotEmpty()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join" class="md-nav__link">
    <span class="md-ellipsis">
      join()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keyby" class="md-nav__link">
    <span class="md-ellipsis">
      keyBy()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keys" class="md-nav__link">
    <span class="md-ellipsis">
      keys()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#last" class="md-nav__link">
    <span class="md-ellipsis">
      last()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lazy" class="md-nav__link">
    <span class="md-ellipsis">
      lazy()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#macro" class="md-nav__link">
    <span class="md-ellipsis">
      macro()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#make" class="md-nav__link">
    <span class="md-ellipsis">
      make()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#map" class="md-nav__link">
    <span class="md-ellipsis">
      map()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapinto" class="md-nav__link">
    <span class="md-ellipsis">
      mapInto()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapspread" class="md-nav__link">
    <span class="md-ellipsis">
      mapSpread()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maptogroups" class="md-nav__link">
    <span class="md-ellipsis">
      mapToGroups()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapwithkeys" class="md-nav__link">
    <span class="md-ellipsis">
      mapWithKeys()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max" class="md-nav__link">
    <span class="md-ellipsis">
      max()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#median" class="md-nav__link">
    <span class="md-ellipsis">
      median()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merge" class="md-nav__link">
    <span class="md-ellipsis">
      merge()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mergerecursive" class="md-nav__link">
    <span class="md-ellipsis">
      mergeRecursive()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#min" class="md-nav__link">
    <span class="md-ellipsis">
      min()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mode" class="md-nav__link">
    <span class="md-ellipsis">
      mode()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiply" class="md-nav__link">
    <span class="md-ellipsis">
      multiply()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nth" class="md-nav__link">
    <span class="md-ellipsis">
      nth()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#only" class="md-nav__link">
    <span class="md-ellipsis">
      only()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pad" class="md-nav__link">
    <span class="md-ellipsis">
      pad()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partition" class="md-nav__link">
    <span class="md-ellipsis">
      partition()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#percentage" class="md-nav__link">
    <span class="md-ellipsis">
      percentage()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pipe" class="md-nav__link">
    <span class="md-ellipsis">
      pipe()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pipeinto" class="md-nav__link">
    <span class="md-ellipsis">
      pipeInto()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pipethrough" class="md-nav__link">
    <span class="md-ellipsis">
      pipeThrough()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pluck" class="md-nav__link">
    <span class="md-ellipsis">
      pluck()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pop" class="md-nav__link">
    <span class="md-ellipsis">
      pop()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prepend" class="md-nav__link">
    <span class="md-ellipsis">
      prepend()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pull" class="md-nav__link">
    <span class="md-ellipsis">
      pull()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#push" class="md-nav__link">
    <span class="md-ellipsis">
      push()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#put" class="md-nav__link">
    <span class="md-ellipsis">
      put()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random" class="md-nav__link">
    <span class="md-ellipsis">
      random()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#range" class="md-nav__link">
    <span class="md-ellipsis">
      range()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reduce" class="md-nav__link">
    <span class="md-ellipsis">
      reduce()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reducespread" class="md-nav__link">
    <span class="md-ellipsis">
      reduceSpread()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reject" class="md-nav__link">
    <span class="md-ellipsis">
      reject()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replace" class="md-nav__link">
    <span class="md-ellipsis">
      replace()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replacerecursive" class="md-nav__link">
    <span class="md-ellipsis">
      replaceRecursive()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reverse" class="md-nav__link">
    <span class="md-ellipsis">
      reverse()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search" class="md-nav__link">
    <span class="md-ellipsis">
      search()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select" class="md-nav__link">
    <span class="md-ellipsis">
      select()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shift" class="md-nav__link">
    <span class="md-ellipsis">
      shift()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shuffle" class="md-nav__link">
    <span class="md-ellipsis">
      shuffle()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skip" class="md-nav__link">
    <span class="md-ellipsis">
      skip()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skipuntil" class="md-nav__link">
    <span class="md-ellipsis">
      skipUntil()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skipwhile" class="md-nav__link">
    <span class="md-ellipsis">
      skipWhile()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slice" class="md-nav__link">
    <span class="md-ellipsis">
      slice()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sliding" class="md-nav__link">
    <span class="md-ellipsis">
      sliding()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sole" class="md-nav__link">
    <span class="md-ellipsis">
      sole()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#some" class="md-nav__link">
    <span class="md-ellipsis">
      some()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sort" class="md-nav__link">
    <span class="md-ellipsis">
      sort()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sortby" class="md-nav__link">
    <span class="md-ellipsis">
      sortBy()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sortbydesc" class="md-nav__link">
    <span class="md-ellipsis">
      sortByDesc()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sortdesc" class="md-nav__link">
    <span class="md-ellipsis">
      sortDesc()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sortkeys" class="md-nav__link">
    <span class="md-ellipsis">
      sortKeys()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sortkeysdesc" class="md-nav__link">
    <span class="md-ellipsis">
      sortKeysDesc()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sortkeysusing" class="md-nav__link">
    <span class="md-ellipsis">
      sortKeysUsing()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#splice" class="md-nav__link">
    <span class="md-ellipsis">
      splice()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#split" class="md-nav__link">
    <span class="md-ellipsis">
      split()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#splitin" class="md-nav__link">
    <span class="md-ellipsis">
      splitIn()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sum" class="md-nav__link">
    <span class="md-ellipsis">
      sum()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#take" class="md-nav__link">
    <span class="md-ellipsis">
      take()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#takeuntil" class="md-nav__link">
    <span class="md-ellipsis">
      takeUntil()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#takewhile" class="md-nav__link">
    <span class="md-ellipsis">
      takeWhile()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tap" class="md-nav__link">
    <span class="md-ellipsis">
      tap()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#times" class="md-nav__link">
    <span class="md-ellipsis">
      times()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toarray" class="md-nav__link">
    <span class="md-ellipsis">
      toArray()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tojson" class="md-nav__link">
    <span class="md-ellipsis">
      toJson()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transform" class="md-nav__link">
    <span class="md-ellipsis">
      transform()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#undot" class="md-nav__link">
    <span class="md-ellipsis">
      undot()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union" class="md-nav__link">
    <span class="md-ellipsis">
      union()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unique" class="md-nav__link">
    <span class="md-ellipsis">
      unique()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uniquestrict" class="md-nav__link">
    <span class="md-ellipsis">
      uniqueStrict()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unless" class="md-nav__link">
    <span class="md-ellipsis">
      unless()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unlessempty" class="md-nav__link">
    <span class="md-ellipsis">
      unlessEmpty()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unlessnotempty" class="md-nav__link">
    <span class="md-ellipsis">
      unlessNotEmpty()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unwrap" class="md-nav__link">
    <span class="md-ellipsis">
      unwrap()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#value" class="md-nav__link">
    <span class="md-ellipsis">
      value()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#values" class="md-nav__link">
    <span class="md-ellipsis">
      values()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when" class="md-nav__link">
    <span class="md-ellipsis">
      when()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#whenempty" class="md-nav__link">
    <span class="md-ellipsis">
      whenEmpty()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#whennotempty" class="md-nav__link">
    <span class="md-ellipsis">
      whenNotEmpty()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#where" class="md-nav__link">
    <span class="md-ellipsis">
      where()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wherestrict" class="md-nav__link">
    <span class="md-ellipsis">
      whereStrict()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wherebetween" class="md-nav__link">
    <span class="md-ellipsis">
      whereBetween()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wherein" class="md-nav__link">
    <span class="md-ellipsis">
      whereIn()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#whereinstrict" class="md-nav__link">
    <span class="md-ellipsis">
      whereInStrict()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#whereinstanceof" class="md-nav__link">
    <span class="md-ellipsis">
      whereInstanceOf()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wherenotbetween" class="md-nav__link">
    <span class="md-ellipsis">
      whereNotBetween()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wherenotin" class="md-nav__link">
    <span class="md-ellipsis">
      whereNotIn()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wherenotinstrict" class="md-nav__link">
    <span class="md-ellipsis">
      whereNotInStrict()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wherenotnull" class="md-nav__link">
    <span class="md-ellipsis">
      whereNotNull()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wherenull" class="md-nav__link">
    <span class="md-ellipsis">
      whereNull()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrap" class="md-nav__link">
    <span class="md-ellipsis">
      wrap()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zip" class="md-nav__link">
    <span class="md-ellipsis">
      zip()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      高階メッセージ
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      遅延コレクション
    </span>
  </a>
  
    <nav class="md-nav" aria-label="遅延コレクション">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      はじめに
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      遅延コレクションの作成
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enumerable" class="md-nav__link">
    <span class="md-ellipsis">
      Enumerable契約
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      遅延コレクションメソッド
    </span>
  </a>
  
    <nav class="md-nav" aria-label="遅延コレクションメソッド">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#takeuntiltimeout" class="md-nav__link">
    <span class="md-ellipsis">
      takeUntilTimeout()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tapeach" class="md-nav__link">
    <span class="md-ellipsis">
      tapEach()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#throttle" class="md-nav__link">
    <span class="md-ellipsis">
      throttle()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remember" class="md-nav__link">
    <span class="md-ellipsis">
      remember()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/koriym/l11ja/edit/11.x-ja/collections.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="_1">コレクション<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<ul>
<li><a href="#introduction">イントロダクション</a><ul>
<li><a href="#creating-collections">コレクションの作成</a></li>
<li><a href="#extending-collections">コレクションの拡張</a></li>
</ul>
</li>
<li><a href="#available-methods">利用可能なメソッド</a></li>
<li><a href="#higher-order-messages">高階メッセージ</a></li>
<li><a href="#lazy-collections">遅延コレクション</a><ul>
<li><a href="#lazy-collection-introduction">イントロダクション</a></li>
<li><a href="#creating-lazy-collections">遅延コレクションの作成</a></li>
<li><a href="#the-enumerable-contract">Enumerable契約</a></li>
<li><a href="#lazy-collection-methods">遅延コレクションメソッド</a></li>
</ul>
</li>
</ul>
<p><a name="introduction"></a></p>
<h2 id="_2">イントロダクション<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p><code>Illuminate\Support\Collection</code>クラスは、配列データを操作するための流暢で便利なラッパーを提供します。たとえば、次のコードを見てください。<code>collect</code>ヘルパーを使用して、配列から新しいコレクションインスタンスを作成し、各要素に<code>strtoupper</code>関数を実行し、空の要素をすべて削除します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;taylor&#39;</span><span class="p">,</span> <span class="s1">&#39;abigail&#39;</span><span class="p">,</span> <span class="k">null</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">map</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="o">?</span><span class="nx">string</span> <span class="nv">$name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">strtoupper</span><span class="p">(</span><span class="nv">$name</span><span class="p">);</span>
<span class="p">})</span><span class="o">-&gt;</span><span class="na">reject</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">string</span> <span class="nv">$name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">empty</span><span class="p">(</span><span class="nv">$name</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>ご覧のとおり、<code>Collection</code>クラスを使用すると、メソッドをチェーンして、基になる配列を流暢にマッピングおよび縮小できます。一般的に、コレクションは不変であり、すべての<code>Collection</code>メソッドは完全に新しい<code>Collection</code>インスタンスを返します。</p>
<p><a name="creating-collections"></a></p>
<h3 id="_3">コレクションの作成<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>前述のように、<code>collect</code>ヘルパーは、指定された配列の新しい<code>Illuminate\Support\Collection</code>インスタンスを返します。したがって、コレクションを作成するのは次のように簡単です。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a href="eloquent.html">Eloquent</a>クエリの結果は常に<code>Collection</code>インスタンスとして返されます。</p>
</div>
<p><a name="extending-collections"></a></p>
<h3 id="_4">コレクションの拡張<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p>コレクションは「マクロ化可能」であり、実行時に<code>Collection</code>クラスに追加のメソッドを追加できます。<code>Illuminate\Support\Collection</code>クラスの<code>macro</code>メソッドは、マクロが呼び出されたときに実行されるクロージャを受け取ります。マクロクロージャは、コレクションの他のメソッドを<code>$this</code>を介してアクセスできます。たとえば、次のコードは<code>Collection</code>クラスに<code>toUpper</code>メソッドを追加します。</p>
<div class="highlight"><pre><span></span><code><span class="k">use</span> <span class="nx">Illuminate\Support\Collection</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Support\Str</span><span class="p">;</span>

<span class="nx">Collection</span><span class="o">::</span><span class="na">macro</span><span class="p">(</span><span class="s1">&#39;toUpper&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">map</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">string</span> <span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">Str</span><span class="o">::</span><span class="na">upper</span><span class="p">(</span><span class="nv">$value</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">});</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="s1">&#39;second&#39;</span><span class="p">]);</span>

<span class="nv">$upper</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">toUpper</span><span class="p">();</span>

<span class="c1">// [&#39;FIRST&#39;, &#39;SECOND&#39;]</span>
</code></pre></div>
<p>通常、コレクションマクロは<a href="providers.html">サービスプロバイダ</a>の<code>boot</code>メソッドで宣言する必要があります。</p>
<p><a name="macro-arguments"></a></p>
<h4 id="_5">マクロ引数<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h4>
<p>必要に応じて、追加の引数を受け取るマクロを定義できます。</p>
<div class="highlight"><pre><span></span><code><span class="k">use</span> <span class="nx">Illuminate\Support\Collection</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Lang</span><span class="p">;</span>

<span class="nx">Collection</span><span class="o">::</span><span class="na">macro</span><span class="p">(</span><span class="s1">&#39;toLocale&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nx">string</span> <span class="nv">$locale</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">map</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">string</span> <span class="nv">$value</span><span class="p">)</span> <span class="k">use</span> <span class="p">(</span><span class="nv">$locale</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">Lang</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="nv">$value</span><span class="p">,</span> <span class="p">[],</span> <span class="nv">$locale</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">});</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="s1">&#39;second&#39;</span><span class="p">]);</span>

<span class="nv">$translated</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">toLocale</span><span class="p">(</span><span class="s1">&#39;es&#39;</span><span class="p">);</span>
</code></pre></div>
<p><a name="available-methods"></a></p>
<h2 id="_6">利用可能なメソッド<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h2>
<p>このコレクションドキュメントの残りの部分では、<code>Collection</code>クラスで利用可能な各メソッドについて説明します。これらのメソッドはすべて、基になる配列を流暢に操作するためにチェーンできることを覚えておいてください。さらに、ほとんどのメソッドは新しい<code>Collection</code>インスタンスを返し、必要に応じてコレクションの元のコピーを保持できます。</p>
<style>
    .collection-method-list > p {
        columns: 10.8em 3; -moz-columns: 10.8em 3; -webkit-columns: 10.8em 3;
    }

    .collection-method-list a {
        display: block;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
</style>

<div class="collection-method-list">
<p><a href="#method-after">after</a>
<a href="#method-all">all</a>
<a href="#method-average">average</a>
<a href="#method-avg">avg</a>
<a href="#method-before">before</a>
<a href="#method-chunk">chunk</a>
<a href="#method-chunkwhile">chunkWhile</a>
<a href="#method-collapse">collapse</a>
<a href="#method-collect">collect</a>
<a href="#method-combine">combine</a>
<a href="#method-concat">concat</a>
<a href="#method-contains">contains</a>
<a href="#method-containsoneitem">containsOneItem</a>
<a href="#method-containsstrict">containsStrict</a>
<a href="#method-count">count</a>
<a href="#method-countBy">countBy</a>
<a href="#method-crossjoin">crossJoin</a>
<a href="#method-dd">dd</a>
<a href="#method-diff">diff</a>
<a href="#method-diffassoc">diffAssoc</a>
<a href="#method-diffassocusing">diffAssocUsing</a>
<a href="#method-diffkeys">diffKeys</a>
<a href="#method-doesntcontain">doesntContain</a>
<a href="#method-dot">dot</a>
<a href="#method-dump">dump</a>
<a href="#method-duplicates">duplicates</a>
<a href="#method-duplicatesstrict">duplicatesStrict</a>
<a href="#method-each">each</a>
<a href="#method-eachspread">eachSpread</a>
<a href="#method-ensure">ensure</a>
<a href="#method-every">every</a>
<a href="#method-except">except</a>
<a href="#method-filter">filter</a>
<a href="#method-first">first</a>
<a href="#method-first-or-fail">firstOrFail</a>
<a href="#method-first-where">firstWhere</a>
<a href="#method-flatmap">flatMap</a>
<a href="#method-flatten">flatten</a>
<a href="#method-flip">flip</a>
<a href="#method-forget">forget</a>
<a href="#method-forpage">forPage</a>
<a href="#method-get">get</a>
<a href="#method-groupby">groupBy</a>
<a href="#method-has">has</a>
<a href="#method-hasany">hasAny</a>
<a href="#method-implode">implode</a>
<a href="#method-intersect">intersect</a>
<a href="#method-intersectAssoc">intersectAssoc</a>
<a href="#method-intersectbykeys">intersectByKeys</a>
<a href="#method-isempty">isEmpty</a>
<a href="#method-isnotempty">isNotEmpty</a>
<a href="#method-join">join</a>
<a href="#method-keyby">keyBy</a>
<a href="#method-keys">keys</a>
<a href="#method-last">last</a>
<a href="#method-lazy">lazy</a>
<a href="#method-macro">macro</a>
<a href="#method-make">make</a>
<a href="#method-map">map</a>
<a href="#method-mapinto">mapInto</a>
<a href="#method-mapspread">mapSpread</a>
<a href="#method-maptogroups">mapToGroups</a>
<a href="#method-mapwithkeys">mapWithKeys</a>
<a href="#method-max">max</a>
<a href="#method-median">median</a>
<a href="#method-merge">merge</a>
<a href="#method-mergerecursive">mergeRecursive</a>
<a href="#method-min">min</a>
<a href="#method-mode">mode</a>
<a href="#method-multiply">multiply</a>
<a href="#method-nth">nth</a>
<a href="#method-only">only</a>
<a href="#method-pad">pad</a>
<a href="#method-partition">partition</a>
<a href="#method-percentage">percentage</a>
<a href="#method-pipe">pipe</a>
<a href="#method-pipeinto">pipeInto</a>
<a href="#method-pipethrough">pipeThrough</a>
<a href="#method-pluck">pluck</a>
<a href="#method-pop">pop</a>
<a href="#method-prepend">prepend</a>
<a href="#method-pull">pull</a>
<a href="#method-push">push</a>
<a href="#method-put">put</a>
<a href="#method-random">random</a>
<a href="#method-range">range</a>
<a href="#method-reduce">reduce</a>
<a href="#method-reduce-spread">reduceSpread</a>
<a href="#method-reject">reject</a>
<a href="#method-replace">replace</a>
<a href="#method-replacerecursive">replaceRecursive</a>
<a href="#method-reverse">reverse</a>
<a href="#method-search">search</a>
<a href="#method-select">select</a>
<a href="#method-shift">shift</a>
<a href="#method-shuffle">shuffle</a>
<a href="#method-skip">skip</a>
<a href="#method-skipuntil">skipUntil</a>
<a href="#method-skipwhile">skipWhile</a>
<a href="#method-slice">slice</a>
<a href="#method-sliding">sliding</a>
<a href="#method-sole">sole</a>
<a href="#method-some">some</a>
<a href="#method-sort">sort</a>
<a href="#method-sortby">sortBy</a>
<a href="#method-sortbydesc">sortByDesc</a>
<a href="#method-sortdesc">sortDesc</a>
<a href="#method-sortkeys">sortKeys</a>
<a href="#method-sortkeysdesc">sortKeysDesc</a>
<a href="#method-sortkeysusing">sortKeysUsing</a>
<a href="#method-splice">splice</a>
<a href="#method-split">split</a>
<a href="#method-splitin">splitIn</a>
<a href="#method-sum">sum</a>
<a href="#method-take">take</a>
<a href="#method-takeuntil">takeUntil</a>
<a href="#method-takewhile">takeWhile</a>
<a href="#method-tap">tap</a>
<a href="#method-times">times</a>
<a href="#method-toarray">toArray</a>
<a href="#method-tojson">toJson</a>
<a href="#method-transform">transform</a>
<a href="#method-undot">undot</a>
<a href="#method-union">union</a>
<a href="#method-unique">unique</a>
<a href="#method-uniquestrict">uniqueStrict</a>
<a href="#method-unless">unless</a>
<a href="#method-unlessempty">unlessEmpty</a>
<a href="#method-unlessnotempty">unlessNotEmpty</a>
<a href="#method-unwrap">unwrap</a>
<a href="#method-value">value</a>
<a href="#method-values">values</a>
<a href="#method-when">when</a>
<a href="#method-whenempty">whenEmpty</a>
<a href="#method-whennotempty">whenNotEmpty</a>
<a href="#method-where">where</a>
<a href="#method-wherestrict">whereStrict</a>
<a href="#method-wherebetween">whereBetween</a>
<a href="#method-wherein">whereIn</a>
<a href="#method-whereinstrict">whereInStrict</a>
<a href="#method-whereinstanceof">whereInstanceOf</a>
<a href="#method-wherenotbetween">whereNotBetween</a>
<a href="#method-wherenotin">whereNotIn</a>
<a href="#method-wherenotinstrict">whereNotInStrict</a>
<a href="#method-wherenotnull">whereNotNull</a>
<a href="#method-wherenull">whereNull</a>
<a href="#method-wrap">wrap</a>
<a href="#method-zip">zip</a></p>
</div>
<p><a name="method-listing"></a></p>
<h2 id="_7">メソッド一覧<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h2>
<style>
    .collection-method code {
        font-size: 14px;
    }

    .collection-method:not(.first-collection-method) {
        margin-top: 50px;
    }
</style>

<p><a name="method-after"></a></p>
<h4 class="collection-method first-collection-method" id="after"><code>after()</code><a class="headerlink" href="#after" title="Permanent link">&para;</a></h4>
<p><code>after</code>メソッドは、指定されたアイテムの後のアイテムを返します。指定されたアイテムが見つからないか、最後のアイテムである場合は<code>null</code>を返します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]);</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">after</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>

<span class="c1">// 4</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">after</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>

<span class="c1">// null</span>
</code></pre></div>
<p>このメソッドは、指定されたアイテムを「緩い」比較で検索します。つまり、整数値を含む文字列は、同じ値の整数と等しいと見なされます。「厳密な」比較を使用するには、メソッドに<code>strict</code>引数を指定できます。</p>
<div class="highlight"><pre><span></span><code><span class="nx">collect</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">after</span><span class="p">(</span><span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="nx">strict</span><span class="o">:</span> <span class="k">true</span><span class="p">);</span>

<span class="c1">// null</span>
</code></pre></div>
<p>または、最初のアイテムが特定の真理テストに合格するように、独自のクロージャを提供することもできます。</p>
<div class="highlight"><pre><span></span><code><span class="nx">collect</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">after</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">int</span> <span class="nv">$item</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$item</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// 8</span>
</code></pre></div>
<p><a name="method-all"></a></p>
<h4 class="collection-method" id="all"><code>all()</code><a class="headerlink" href="#all" title="Permanent link">&para;</a></h4>
<p><code>all</code>メソッドは、コレクションによって表される基になる配列を返します。</p>
<div class="highlight"><pre><span></span><code><span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [1, 2, 3]</span>
</code></pre></div>
<p><a name="method-average"></a></p>
<h4 class="collection-method" id="average"><code>average()</code><a class="headerlink" href="#average" title="Permanent link">&para;</a></h4>
<p><a href="#method-avg"><code>avg</code></a>メソッドのエイリアスです。</p>
<p><a name="method-avg"></a></p>
<h4 class="collection-method" id="avg"><code>avg()</code><a class="headerlink" href="#avg" title="Permanent link">&para;</a></h4>
<p><code>avg</code>メソッドは、指定されたキーの<a href="https://en.wikipedia.org/wiki/Average">平均値</a>を返します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$average</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="p">[</span><span class="s1">&#39;foo&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;foo&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;foo&#39;</span> <span class="o">=&gt;</span> <span class="mi">20</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;foo&#39;</span> <span class="o">=&gt;</span> <span class="mi">40</span><span class="p">]</span>
<span class="p">])</span><span class="o">-&gt;</span><span class="na">avg</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>

<span class="c1">// 20</span>

<span class="nv">$average</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">avg</span><span class="p">();</span>

<span class="c1">// 2</span>
</code></pre></div>
<p><a name="method-before"></a></p>
<h4 class="collection-method" id="before"><code>before()</code><a class="headerlink" href="#before" title="Permanent link">&para;</a></h4>
<p><code>before</code>メソッドは、<a href="#method-after"><code>after</code></a>メソッドとは逆の動作をします。指定されたアイテムの前のアイテムを返します。指定されたアイテムが見つからないか、最初のアイテムである場合は<code>null</code>が返されます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]);</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">before</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>

<span class="c1">// 2</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">before</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

<span class="c1">// null</span>

<span class="nx">collect</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">before</span><span class="p">(</span><span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="nx">strict</span><span class="o">:</span> <span class="k">true</span><span class="p">);</span>

<span class="c1">// null</span>

<span class="nx">collect</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">before</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">int</span> <span class="nv">$item</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$item</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// 4</span>
</code></pre></div>
<p><a name="method-chunk"></a></p>
<h4 class="collection-method" id="chunk"><code>chunk()</code><a class="headerlink" href="#chunk" title="Permanent link">&para;</a></h4>
<p><code>chunk</code>メソッドは、コレクションを指定されたサイズの複数の小さなコレクションに分割します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]);</span>

<span class="nv">$chunks</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">chunk</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>

<span class="nv">$chunks</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [[1, 2, 3, 4], [5, 6, 7]]</span>
</code></pre></div>
<p>このメソッドは、<a href="https://getbootstrap.com/docs/5.3/layout/grid/">Bootstrap</a>のようなグリッドシステムを使用する際に、<a href="views.html">ビュー</a>で特に便利です。例えば、グリッドに表示したい<a href="eloquent.html">Eloquent</a>モデルのコレクションがあるとします。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="x">@foreach ($products-&gt;chunk(3) as $chunk)</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="x">    &lt;div class=&quot;row&quot;&gt;</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="x">        @foreach ($chunk as $product)</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="x">            &lt;div class=&quot;col-xs-4&quot;&gt;{{ $product-&gt;name }}&lt;/div&gt;</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="x">        @endforeach</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="x">    &lt;/div&gt;</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="x">@endforeach</span>
</code></pre></div>
<p><a name="method-chunkwhile"></a></p>
<h4 class="collection-method" id="chunkwhile"><code>chunkWhile()</code><a class="headerlink" href="#chunkwhile" title="Permanent link">&para;</a></h4>
<p><code>chunkWhile</code>メソッドは、指定されたコールバックの評価に基づいて、コレクションを複数の小さなコレクションに分割します。クロージャに渡される<code>$chunk</code>変数を使用して、前の要素を検査することができます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">(</span><span class="nb">str_split</span><span class="p">(</span><span class="s1">&#39;AABBCCCD&#39;</span><span class="p">));</span>

<span class="nv">$chunks</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">chunkWhile</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">string</span> <span class="nv">$value</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$key</span><span class="p">,</span> <span class="nx">Collection</span> <span class="nv">$chunk</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$value</span> <span class="o">===</span> <span class="nv">$chunk</span><span class="o">-&gt;</span><span class="na">last</span><span class="p">();</span>
<span class="p">});</span>

<span class="nv">$chunks</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [[&#39;A&#39;, &#39;A&#39;], [&#39;B&#39;, &#39;B&#39;], [&#39;C&#39;, &#39;C&#39;, &#39;C&#39;], [&#39;D&#39;]]</span>
</code></pre></div>
<p><a name="method-collapse"></a></p>
<h4 class="collection-method" id="collapse"><code>collapse()</code><a class="headerlink" href="#collapse" title="Permanent link">&para;</a></h4>
<p><code>collapse</code>メソッドは、配列のコレクションを単一のフラットなコレクションに折りたたみます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span>
<span class="p">]);</span>

<span class="nv">$collapsed</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">collapse</span><span class="p">();</span>

<span class="nv">$collapsed</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
</code></pre></div>
<p><a name="method-collect"></a></p>
<h4 class="collection-method" id="collect"><code>collect()</code><a class="headerlink" href="#collect" title="Permanent link">&para;</a></h4>
<p><code>collect</code>メソッドは、現在コレクション内にあるアイテムを持つ新しい<code>Collection</code>インスタンスを返します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collectionA</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>

<span class="nv">$collectionB</span> <span class="o">=</span> <span class="nv">$collectionA</span><span class="o">-&gt;</span><span class="na">collect</span><span class="p">();</span>

<span class="nv">$collectionB</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [1, 2, 3]</span>
</code></pre></div>
<p><code>collect</code>メソッドは主に、<a href="#lazy-collections">遅延コレクション</a>を標準の<code>Collection</code>インスタンスに変換する際に便利です。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$lazyCollection</span> <span class="o">=</span> <span class="nx">LazyCollection</span><span class="o">::</span><span class="na">make</span><span class="p">(</span><span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">yield</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">yield</span> <span class="mi">2</span><span class="p">;</span>
    <span class="k">yield</span> <span class="mi">3</span><span class="p">;</span>
<span class="p">});</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nv">$lazyCollection</span><span class="o">-&gt;</span><span class="na">collect</span><span class="p">();</span>

<span class="nv">$collection</span><span class="o">::</span><span class="na">class</span><span class="p">;</span>

<span class="c1">// &#39;Illuminate\Support\Collection&#39;</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [1, 2, 3]</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>collect</code>メソッドは、<code>Enumerable</code>のインスタンスがあり、非遅延のコレクションインスタンスが必要な場合に特に便利です。<code>collect()</code>は<code>Enumerable</code>契約の一部であるため、<code>Collection</code>インスタンスを取得するために安全に使用できます。</p>
</div>
<p><a name="method-combine"></a></p>
<h4 class="collection-method" id="combine"><code>combine()</code><a class="headerlink" href="#combine" title="Permanent link">&para;</a></h4>
<p><code>combine</code>メソッドは、コレクションの値をキーとして、別の配列またはコレクションの値と結合します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">]);</span>

<span class="nv">$combined</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">combine</span><span class="p">([</span><span class="s1">&#39;George&#39;</span><span class="p">,</span> <span class="mi">29</span><span class="p">]);</span>

<span class="nv">$combined</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [&#39;name&#39; =&gt; &#39;George&#39;, &#39;age&#39; =&gt; 29]</span>
</code></pre></div>
<p><a name="method-concat"></a></p>
<h4 class="collection-method" id="concat"><code>concat()</code><a class="headerlink" href="#concat" title="Permanent link">&para;</a></h4>
<p><code>concat</code>メソッドは、指定された<code>array</code>またはコレクションの値を別のコレクションの末尾に追加します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;John Doe&#39;</span><span class="p">]);</span>

<span class="nv">$concatenated</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">concat</span><span class="p">([</span><span class="s1">&#39;Jane Doe&#39;</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">concat</span><span class="p">([</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Johnny Doe&#39;</span><span class="p">]);</span>

<span class="nv">$concatenated</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [&#39;John Doe&#39;, &#39;Jane Doe&#39;, &#39;Johnny Doe&#39;]</span>
</code></pre></div>
<p><code>concat</code>メソッドは、元のコレクションに連結されたアイテムの数値キーを再インデックスします。連想コレクションでキーを維持するには、<a href="#method-merge">merge</a>メソッドを参照してください。</p>
<p><a name="method-contains"></a></p>
<h4 class="collection-method" id="contains"><code>contains()</code><a class="headerlink" href="#contains" title="Permanent link">&para;</a></h4>
<p><code>contains</code>メソッドは、コレクションに指定されたアイテムが含まれているかどうかを判断します。クロージャを<code>contains</code>メソッドに渡して、指定された真偽テストに一致する要素がコレクション内に存在するかどうかを判断できます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]);</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">contains</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">int</span> <span class="nv">$value</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$value</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// false</span>
</code></pre></div>
<p>または、文字列を<code>contains</code>メソッドに渡して、コレクションに指定されたアイテムの値が含まれているかどうかを判断できます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Desk&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">]);</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">contains</span><span class="p">(</span><span class="s1">&#39;Desk&#39;</span><span class="p">);</span>

<span class="c1">// true</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">contains</span><span class="p">(</span><span class="s1">&#39;New York&#39;</span><span class="p">);</span>

<span class="c1">// false</span>
</code></pre></div>
<p>さらに、キーと値のペアを<code>contains</code>メソッドに渡して、指定されたペアがコレクション内に存在するかどうかを判断できます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="p">[</span><span class="s1">&#39;product&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Desk&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mi">200</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;product&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Chair&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">],</span>
<span class="p">]);</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">contains</span><span class="p">(</span><span class="s1">&#39;product&#39;</span><span class="p">,</span> <span class="s1">&#39;Bookcase&#39;</span><span class="p">);</span>

<span class="c1">// false</span>
</code></pre></div>
<p><code>contains</code>メソッドは、アイテムの値をチェックする際に「緩い」比較を使用します。つまり、整数値を持つ文字列は、同じ値の整数と等しいと見なされます。「厳密な」比較を使用してフィルタリングするには、<a href="#method-containsstrict"><code>containsStrict</code></a>メソッドを使用してください。</p>
<p><code>contains</code>の逆の動作については、<a href="#method-doesntcontain">doesntContain</a>メソッドを参照してください。</p>
<p><a name="method-containsoneitem"></a></p>
<h4 class="collection-method" id="containsoneitem"><code>containsOneItem()</code><a class="headerlink" href="#containsoneitem" title="Permanent link">&para;</a></h4>
<p><code>containsOneItem</code>メソッドは、コレクションに1つのアイテムが含まれているかどうかを判断します。</p>
<div class="highlight"><pre><span></span><code><span class="nx">collect</span><span class="p">([])</span><span class="o">-&gt;</span><span class="na">containsOneItem</span><span class="p">();</span>

<span class="c1">// false</span>

<span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;1&#39;</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">containsOneItem</span><span class="p">();</span>

<span class="c1">// true</span>

<span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">containsOneItem</span><span class="p">();</span>

<span class="c1">// false</span>
</code></pre></div>
<p><a name="method-containsstrict"></a></p>
<h4 class="collection-method" id="containsstrict"><code>containsStrict()</code><a class="headerlink" href="#containsstrict" title="Permanent link">&para;</a></h4>
<p>このメソッドは<a href="#method-contains"><code>contains</code></a>メソッドと同じシグネチャを持ちますが、すべての値は「厳密な」比較を使用して比較されます。</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>このメソッドの動作は、<a href="eloquent-collections.html#method-contains">Eloquentコレクション</a>を使用する際に変更されます。</p>
</div>
<p><a name="method-count"></a></p>
<h4 class="collection-method" id="count"><code>count()</code><a class="headerlink" href="#count" title="Permanent link">&para;</a></h4>
<p><code>count</code>メソッドは、コレクション内のアイテムの総数を返します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]);</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">count</span><span class="p">();</span>

<span class="c1">// 4</span>
</code></pre></div>
<p><a name="method-countBy"></a></p>
<h4 class="collection-method" id="countby"><code>countBy()</code><a class="headerlink" href="#countby" title="Permanent link">&para;</a></h4>
<p><code>countBy</code>メソッドは、コレクション内の値の出現回数をカウントします。デフォルトでは、このメソッドはすべての要素の出現回数をカウントし、コレクション内の特定の「タイプ」の要素をカウントできます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>

<span class="nv">$counted</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">countBy</span><span class="p">();</span>

<span class="nv">$counted</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [1 =&gt; 1, 2 =&gt; 3, 3 =&gt; 1]</span>
</code></pre></div>
<p>クロージャを<code>countBy</code>メソッドに渡して、すべてのアイテムをカスタム値でカウントすることもできます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;alice@gmail.com&#39;</span><span class="p">,</span> <span class="s1">&#39;bob@yahoo.com&#39;</span><span class="p">,</span> <span class="s1">&#39;carlos@gmail.com&#39;</span><span class="p">]);</span>

<span class="nv">$counted</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">countBy</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">string</span> <span class="nv">$email</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">substr</span><span class="p">(</span><span class="nb">strrchr</span><span class="p">(</span><span class="nv">$email</span><span class="p">,</span> <span class="s2">&quot;@&quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">});</span>

<span class="nv">$counted</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [&#39;gmail.com&#39; =&gt; 2, &#39;yahoo.com&#39; =&gt; 1]</span>
</code></pre></div>
<p><a name="method-crossjoin"></a></p>
<h4 class="collection-method" id="crossjoin"><code>crossJoin()</code><a class="headerlink" href="#crossjoin" title="Permanent link">&para;</a></h4>
<p><code>crossJoin</code>メソッドは、コレクションの値を指定された配列またはコレクションの間でクロス結合し、すべての可能な順列を持つデカルト積を返します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]);</span>

<span class="nv">$matrix</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">crossJoin</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]);</span>

<span class="nv">$matrix</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="cm">/*</span>
<span class="cm">    [</span>
<span class="cm">        [1, &#39;a&#39;],</span>
<span class="cm">        [1, &#39;b&#39;],</span>
<span class="cm">        [2, &#39;a&#39;],</span>
<span class="cm">        [2, &#39;b&#39;],</span>
<span class="cm">    ]</span>
<span class="cm">*/</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]);</span>

<span class="nv">$matrix</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">crossJoin</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="s1">&#39;II&#39;</span><span class="p">]);</span>

<span class="nv">$matrix</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="cm">/*</span>
<span class="cm">    [</span>
<span class="cm">        [1, &#39;a&#39;, &#39;I&#39;],</span>
<span class="cm">        [1, &#39;a&#39;, &#39;II&#39;],</span>
<span class="cm">        [1, &#39;b&#39;, &#39;I&#39;],</span>
<span class="cm">        [1, &#39;b&#39;, &#39;II&#39;],</span>
<span class="cm">        [2, &#39;a&#39;, &#39;I&#39;],</span>
<span class="cm">        [2, &#39;a&#39;, &#39;II&#39;],</span>
<span class="cm">        [2, &#39;b&#39;, &#39;I&#39;],</span>
<span class="cm">        [2, &#39;b&#39;, &#39;II&#39;],</span>
<span class="cm">    ]</span>
<span class="cm">*/</span>
</code></pre></div>
<p><a name="method-dd"></a></p>
<h4 class="collection-method" id="dd"><code>dd()</code><a class="headerlink" href="#dd" title="Permanent link">&para;</a></h4>
<p><code>dd</code>メソッドは、コレクションのアイテムをダンプし、スクリプトの実行を終了します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;John Doe&#39;</span><span class="p">,</span> <span class="s1">&#39;Jane Doe&#39;</span><span class="p">]);</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">dd</span><span class="p">();</span>

<span class="cm">/*</span>
<span class="cm">    Collection {</span>
<span class="cm">        #items: array:2 [</span>
<span class="cm">            0 =&gt; &quot;John Doe&quot;</span>
<span class="cm">            1 =&gt; &quot;Jane Doe&quot;</span>
<span class="cm">        ]</span>
<span class="cm">    }</span>
<span class="cm">*/</span>
</code></pre></div>
<p>スクリプトの実行を停止したくない場合は、代わりに<a href="#method-dump"><code>dump</code></a>メソッドを使用してください。</p>
<p><a name="method-diff"></a></p>
<h4 class="collection-method" id="diff"><code>diff()</code><a class="headerlink" href="#diff" title="Permanent link">&para;</a></h4>
<p><code>diff</code>メソッドは、コレクションを別のコレクションまたはプレーンなPHPの<code>array</code>の値に基づいて比較します。このメソッドは、元のコレクションに存在しない指定されたコレクションの値を返します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]);</span>

<span class="nv">$diff</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">diff</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">]);</span>

<span class="nv">$diff</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [1, 3, 5]</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>このメソッドの動作は、<a href="eloquent-collections.html#method-diff">Eloquentコレクション</a>を使用する際に変更されます。</p>
</div>
<p><a name="method-diffassoc"></a></p>
<h4 class="collection-method" id="diffassoc"><code>diffAssoc()</code><a class="headerlink" href="#diffassoc" title="Permanent link">&para;</a></h4>
<p><code>diffAssoc</code>メソッドは、コレクションを別のコレクションまたはプレーンなPHPの<code>array</code>のキーと値に基づいて比較します。このメソッドは、元のコレクションに存在しない指定されたコレクションのキーと値のペアを返します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="s1">&#39;color&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span>
    <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;fruit&#39;</span><span class="p">,</span>
    <span class="s1">&#39;remain&#39;</span> <span class="o">=&gt;</span> <span class="mi">6</span><span class="p">,</span>
<span class="p">]);</span>

<span class="nv">$diff</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">diffAssoc</span><span class="p">([</span>
    <span class="s1">&#39;color&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yellow&#39;</span><span class="p">,</span>
    <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;fruit&#39;</span><span class="p">,</span>
    <span class="s1">&#39;remain&#39;</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s1">&#39;used&#39;</span> <span class="o">=&gt;</span> <span class="mi">6</span><span class="p">,</span>
<span class="p">]);</span>

<span class="nv">$diff</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [&#39;color&#39; =&gt; &#39;orange&#39;, &#39;remain&#39; =&gt; 6]</span>
</code></pre></div>
<p><a name="method-diffassocusing"></a></p>
<h4 class="collection-method" id="diffassocusing"><code>diffAssocUsing()</code><a class="headerlink" href="#diffassocusing" title="Permanent link">&para;</a></h4>
<p><code>diffAssoc</code>とは異なり、<code>diffAssocUsing</code>はインデックスの比較にユーザーが指定したコールバック関数を受け入れます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>    <span class="s1">&#39;color&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>    <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;fruit&#39;</span><span class="p">,</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>    <span class="s1">&#39;remain&#39;</span> <span class="o">=&gt;</span> <span class="mi">6</span><span class="p">,</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="p">]);</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="nv">$diff</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">diffAssocUsing</span><span class="p">([</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>    <span class="s1">&#39;Color&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;yellow&#39;</span><span class="p">,</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>    <span class="s1">&#39;Type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;fruit&#39;</span><span class="p">,</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>    <span class="s1">&#39;Remain&#39;</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">,</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="p">],</span> <span class="s1">&#39;strnatcasecmp&#39;</span><span class="p">);</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="nv">$diff</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="c1">// [&#39;color&#39; =&gt; &#39;orange&#39;, &#39;remain&#39; =&gt; 6]</span>
</code></pre></div>
<p>コールバックは、ゼロより小さい、等しい、またはゼロより大きい整数を返す比較関数でなければなりません。詳細については、<code>diffAssocUsing</code>メソッドが内部的に利用しているPHP関数である<a href="https://www.php.net/array_diff_uassoc#refsect1-function.array-diff-uassoc-parameters"><code>array_diff_uassoc</code></a>のPHPドキュメントを参照してください。</p>
<p><a name="method-diffkeys"></a></p>
<h4 class="collection-method" id="diffkeys"><code>diffKeys()</code><a class="headerlink" href="#diffkeys" title="Permanent link">&para;</a></h4>
<p><code>diffKeys</code>メソッドは、コレクションを別のコレクションまたはプレーンなPHP <code>array</code>とそのキーに基づいて比較します。このメソッドは、指定されたコレクションに存在しない元のコレクションのキー/値ペアを返します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>    <span class="s1">&#39;one&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>    <span class="s1">&#39;two&#39;</span> <span class="o">=&gt;</span> <span class="mi">20</span><span class="p">,</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>    <span class="s1">&#39;three&#39;</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>    <span class="s1">&#39;four&#39;</span> <span class="o">=&gt;</span> <span class="mi">40</span><span class="p">,</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>    <span class="s1">&#39;five&#39;</span> <span class="o">=&gt;</span> <span class="mi">50</span><span class="p">,</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="p">]);</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="nv">$diff</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">diffKeys</span><span class="p">([</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>    <span class="s1">&#39;two&#39;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>    <span class="s1">&#39;four&#39;</span> <span class="o">=&gt;</span> <span class="mi">4</span><span class="p">,</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>    <span class="s1">&#39;six&#39;</span> <span class="o">=&gt;</span> <span class="mi">6</span><span class="p">,</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>    <span class="s1">&#39;eight&#39;</span> <span class="o">=&gt;</span> <span class="mi">8</span><span class="p">,</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="p">]);</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="nv">$diff</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="c1">// [&#39;one&#39; =&gt; 10, &#39;three&#39; =&gt; 30, &#39;five&#39; =&gt; 50]</span>
</code></pre></div>
<p><a name="method-doesntcontain"></a></p>
<h4 class="collection-method" id="doesntcontain"><code>doesntContain()</code><a class="headerlink" href="#doesntcontain" title="Permanent link">&para;</a></h4>
<p><code>doesntContain</code>メソッドは、コレクションに指定されたアイテムが含まれていないかどうかを判断します。クロージャを<code>doesntContain</code>メソッドに渡して、指定された真偽テストに一致する要素がコレクションに存在しないかどうかを判断できます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]);</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">doesntContain</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">int</span> <span class="nv">$value</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>    <span class="k">return</span> <span class="nv">$value</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="p">});</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="c1">// false</span>
</code></pre></div>
<p>また、<code>doesntContain</code>メソッドに文字列を渡して、コレクションに指定されたアイテム値が含まれていないかどうかを判断することもできます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Desk&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">]);</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">doesntContain</span><span class="p">(</span><span class="s1">&#39;Table&#39;</span><span class="p">);</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="c1">// true</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">doesntContain</span><span class="p">(</span><span class="s1">&#39;Desk&#39;</span><span class="p">);</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="c1">// false</span>
</code></pre></div>
<p>さらに、<code>doesntContain</code>メソッドにキー/値のペアを渡して、指定されたペアがコレクションに存在しないかどうかを判断することもできます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>    <span class="p">[</span><span class="s1">&#39;product&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Desk&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mi">200</span><span class="p">],</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>    <span class="p">[</span><span class="s1">&#39;product&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Chair&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">],</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="p">]);</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">doesntContain</span><span class="p">(</span><span class="s1">&#39;product&#39;</span><span class="p">,</span> <span class="s1">&#39;Bookcase&#39;</span><span class="p">);</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="c1">// true</span>
</code></pre></div>
<p><code>doesntContain</code>メソッドは、アイテム値をチェックする際に「緩い」比較を使用します。つまり、整数値を持つ文字列は、同じ値の整数と等しいと見なされます。</p>
<p><a name="method-dot"></a></p>
<h4 class="collection-method" id="dot"><code>dot()</code><a class="headerlink" href="#dot" title="Permanent link">&para;</a></h4>
<p><code>dot</code>メソッドは、多次元コレクションを深さを示す「ドット」表記を使用して単一レベルのコレクションに平坦化します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;products&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;desk&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">]]]);</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="nv">$flattened</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">dot</span><span class="p">();</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="nv">$flattened</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="c1">// [&#39;products.desk.price&#39; =&gt; 100]</span>
</code></pre></div>
<p><a name="method-dump"></a></p>
<h4 class="collection-method" id="dump"><code>dump()</code><a class="headerlink" href="#dump" title="Permanent link">&para;</a></h4>
<p><code>dump</code>メソッドは、コレクションのアイテムをダンプします。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;John Doe&#39;</span><span class="p">,</span> <span class="s1">&#39;Jane Doe&#39;</span><span class="p">]);</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">dump</span><span class="p">();</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="cm">/*</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="cm">    Collection {</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="cm">        #items: array:2 [</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="cm">            0 =&gt; &quot;John Doe&quot;</span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="cm">            1 =&gt; &quot;Jane Doe&quot;</span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="cm">        ]</span>
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="cm">    }</span>
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="cm">*/</span>
</code></pre></div>
<p>コレクションをダンプした後にスクリプトの実行を停止したい場合は、代わりに<a href="#method-dd"><code>dd</code></a>メソッドを使用してください。</p>
<p><a name="method-duplicates"></a></p>
<h4 class="collection-method" id="duplicates"><code>duplicates()</code><a class="headerlink" href="#duplicates" title="Permanent link">&para;</a></h4>
<p><code>duplicates</code>メソッドは、コレクションから重複する値を取得して返します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]);</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">duplicates</span><span class="p">();</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="c1">// [2 =&gt; &#39;a&#39;, 4 =&gt; &#39;b&#39;]</span>
</code></pre></div>
<p>コレクションに配列またはオブジェクトが含まれている場合、重複する値をチェックしたい属性のキーを渡すことができます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nv">$employees</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>    <span class="p">[</span><span class="s1">&#39;email&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;abigail@example.com&#39;</span><span class="p">,</span> <span class="s1">&#39;position&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Developer&#39;</span><span class="p">],</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>    <span class="p">[</span><span class="s1">&#39;email&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;james@example.com&#39;</span><span class="p">,</span> <span class="s1">&#39;position&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Designer&#39;</span><span class="p">],</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>    <span class="p">[</span><span class="s1">&#39;email&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;victoria@example.com&#39;</span><span class="p">,</span> <span class="s1">&#39;position&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Developer&#39;</span><span class="p">],</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="p">]);</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="nv">$employees</span><span class="o">-&gt;</span><span class="na">duplicates</span><span class="p">(</span><span class="s1">&#39;position&#39;</span><span class="p">);</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="c1">// [2 =&gt; &#39;Developer&#39;]</span>
</code></pre></div>
<p><a name="method-duplicatesstrict"></a></p>
<h4 class="collection-method" id="duplicatesstrict"><code>duplicatesStrict()</code><a class="headerlink" href="#duplicatesstrict" title="Permanent link">&para;</a></h4>
<p>このメソッドは<a href="#method-duplicates"><code>duplicates</code></a>メソッドと同じシグネチャを持ちますが、すべての値は「厳密な」比較を使用して比較されます。</p>
<p><a name="method-each"></a></p>
<h4 class="collection-method" id="each"><code>each()</code><a class="headerlink" href="#each" title="Permanent link">&para;</a></h4>
<p><code>each</code>メソッドは、コレクション内のアイテムを反復処理し、各アイテムをクロージャに渡します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]);</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">each</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">int</span> <span class="nv">$item</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>    <span class="c1">// ...</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="p">});</span>
</code></pre></div>
<p>アイテムの反復処理を停止したい場合は、クロージャから<code>false</code>を返すことができます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">each</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">int</span> <span class="nv">$item</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>    <span class="k">if</span> <span class="p">(</span><span class="cm">/* condition */</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>        <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>    <span class="p">}</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="p">});</span>
</code></pre></div>
<p><a name="method-eachspread"></a></p>
<h4 class="collection-method" id="eachspread"><code>eachSpread()</code><a class="headerlink" href="#eachspread" title="Permanent link">&para;</a></h4>
<p><code>eachSpread</code>メソッドは、コレクションのアイテムを反復処理し、各ネストされたアイテムの値を指定されたコールバックに渡します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([[</span><span class="s1">&#39;John Doe&#39;</span><span class="p">,</span> <span class="mi">35</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;Jane Doe&#39;</span><span class="p">,</span> <span class="mi">33</span><span class="p">]]);</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">eachSpread</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">string</span> <span class="nv">$name</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$age</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>    <span class="c1">// ...</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="p">});</span>
</code></pre></div>
<p>コールバックから<code>false</code>を返すことで、アイテムの反復処理を停止できます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">eachSpread</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">string</span> <span class="nv">$name</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$age</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>    <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="p">});</span>
</code></pre></div>
<p><a name="method-ensure"></a></p>
<h4 class="collection-method" id="ensure"><code>ensure()</code><a class="headerlink" href="#ensure" title="Permanent link">&para;</a></h4>
<p><code>ensure</code>メソッドは、コレクションのすべての要素が指定された型または型のリストであることを確認するために使用できます。そうでない場合、<code>UnexpectedValueException</code>がスローされます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="k">return</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">ensure</span><span class="p">(</span><span class="nx">User</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="k">return</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">ensure</span><span class="p">([</span><span class="nx">User</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="nx">Customer</span><span class="o">::</span><span class="na">class</span><span class="p">]);</span>
</code></pre></div>
<p>プリミティブ型（<code>string</code>、<code>int</code>、<code>float</code>、<code>bool</code>、<code>array</code>）も指定できます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="k">return</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">ensure</span><span class="p">(</span><span class="s1">&#39;int&#39;</span><span class="p">);</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code>ensure</code>メソッドは、後で異なる型の要素がコレクションに追加されないことを保証するものではありません。</p>
</div>
<p><a name="method-every"></a></p>
<h4 class="collection-method" id="every"><code>every()</code><a class="headerlink" href="#every" title="Permanent link">&para;</a></h4>
<p><code>every</code>メソッドは、コレクションのすべての要素が指定された真偽テストに合格するかどうかを確認するために使用できます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">every</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">int</span> <span class="nv">$value</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>    <span class="k">return</span> <span class="nv">$value</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">;</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="p">});</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="c1">// false</span>
</code></pre></div>
<p>コレクションが空の場合、<code>every</code>メソッドはtrueを返します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([]);</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">every</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">int</span> <span class="nv">$value</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>    <span class="k">return</span> <span class="nv">$value</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">;</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="p">});</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="c1">// true</span>
</code></pre></div>
<p><a name="method-except"></a></p>
<h4 class="collection-method" id="except"><code>except()</code><a class="headerlink" href="#except" title="Permanent link">&para;</a></h4>
<p><code>except</code>メソッドは、指定されたキーを持つアイテムを除くコレクション内のすべてのアイテムを返します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;product_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;discount&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">]);</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="nv">$filtered</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">except</span><span class="p">([</span><span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="s1">&#39;discount&#39;</span><span class="p">]);</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="nv">$filtered</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="c1">// [&#39;product_id&#39; =&gt; 1]</span>
</code></pre></div>
<p><code>except</code>の逆は、<a href="#method-only">only</a>メソッドを参照してください。</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>このメソッドの動作は、<a href="eloquent-collections.html#method-except">Eloquent Collections</a>を使用する場合に変更されます。</p>
</div>
<p><a name="method-filter"></a></p>
<h4 class="collection-method" id="filter"><code>filter()</code><a class="headerlink" href="#filter" title="Permanent link">&para;</a></h4>
<p><code>filter</code>メソッドは、指定されたコールバックを使用してコレクションをフィルタリングし、指定された真偽テストに合格したアイテムのみを保持します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]);</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="nv">$filtered</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">int</span> <span class="nv">$value</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>    <span class="k">return</span> <span class="nv">$value</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">;</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="p">});</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="nv">$filtered</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="c1">// [3, 4]</span>
</code></pre></div>
<p>コールバックが提供されない場合、コレクションの<code>false</code>と等価なすべてのエントリが削除されます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="k">null</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[]]);</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="c1">// [1, 2, 3]</span>
</code></pre></div>
<p><code>filter</code>の逆は、<a href="#method-reject">reject</a>メソッドを参照してください。</p>
<p><a name="method-first"></a></p>
<h4 class="collection-method" id="first"><code>first()</code><a class="headerlink" href="#first" title="Permanent link">&para;</a></h4>
<p><code>first</code>メソッドは、指定された真偽テストに合格するコレクション内の最初の要素を返します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">first</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">int</span> <span class="nv">$value</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>    <span class="k">return</span> <span class="nv">$value</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">;</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="p">});</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="c1">// 3</span>
</code></pre></div>
<p>引数なしで<code>first</code>メソッドを呼び出して、コレクション内の最初の要素を取得することもできます。コレクションが空の場合、<code>null</code>が返されます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">first</span><span class="p">();</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="c1">// 1</span>
</code></pre></div>
<p><a name="method-first-or-fail"></a></p>
<h4 class="collection-method" id="firstorfail"><code>firstOrFail()</code><a class="headerlink" href="#firstorfail" title="Permanent link">&para;</a></h4>
<p><code>firstOrFail</code>メソッドは<code>first</code>メソッドと同じですが、結果が見つからない場合、<code>Illuminate\Support\ItemNotFoundException</code>例外がスローされます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">firstOrFail</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">int</span> <span class="nv">$value</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>    <span class="k">return</span> <span class="nv">$value</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">;</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="p">});</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="c1">// Throws ItemNotFoundException...</span>
</code></pre></div>
<p>引数なしで<code>firstOrFail</code>メソッドを呼び出して、コレクション内の最初の要素を取得することもできます。コレクションが空の場合、<code>Illuminate\Support\ItemNotFoundException</code>例外がスローされます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="nx">collect</span><span class="p">([])</span><span class="o">-&gt;</span><span class="na">firstOrFail</span><span class="p">();</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="c1">// Throws ItemNotFoundException...</span>
</code></pre></div>
<p><a name="method-first-where"></a></p>
<h4 class="collection-method" id="firstwhere"><code>firstWhere()</code><a class="headerlink" href="#firstwhere" title="Permanent link">&para;</a></h4>
<p><code>firstWhere</code>メソッドは、指定されたキー/値のペアを持つコレクション内の最初の要素を返します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Regena&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">],</span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Linda&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">14</span><span class="p">],</span>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Diego&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">23</span><span class="p">],</span>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Linda&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">84</span><span class="p">],</span>
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="p">]);</span>
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a>
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">firstWhere</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;Linda&#39;</span><span class="p">);</span>
<a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a>
<a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a><span class="c1">// [&#39;name&#39; =&gt; &#39;Linda&#39;, &#39;age&#39; =&gt; 14]</span>
</code></pre></div>
<p>比較演算子を使用して<code>firstWhere</code>メソッドを呼び出すこともできます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">firstWhere</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">,</span> <span class="mi">18</span><span class="p">);</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="c1">// [&#39;name&#39; =&gt; &#39;Diego&#39;, &#39;age&#39; =&gt; 23]</span>
</code></pre></div>
<p><a href="#method-where">where</a>メソッドと同様に、<code>firstWhere</code>メソッドに1つの引数を渡すことができます。この場合、<code>firstWhere</code>メソッドは、指定されたアイテムキーの値が「真」である最初のアイテムを返します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">firstWhere</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">);</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="c1">// [&#39;name&#39; =&gt; &#39;Linda&#39;, &#39;age&#39; =&gt; 14]</span>
</code></pre></div>
<p><a name="method-flatmap"></a></p>
<h4 class="collection-method" id="flatmap"><code>flatMap()</code><a class="headerlink" href="#flatmap" title="Permanent link">&para;</a></h4>
<p><code>flatMap</code>メソッドは、各値をクロージャに渡してコレクションを反復処理します。クロージャは値を自由に変更して返すことができ、その結果は新しいコレクションにマージされます。その後、配列は1レベル平坦化されます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Sally&#39;</span><span class="p">],</span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>    <span class="p">[</span><span class="s1">&#39;school&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Arkansas&#39;</span><span class="p">],</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>    <span class="p">[</span><span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">28</span><span class="p">]</span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="p">]);</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="nv">$flattened</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">flatMap</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="k">array</span> <span class="nv">$values</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a>    <span class="k">return</span> <span class="nb">array_map</span><span class="p">(</span><span class="s1">&#39;strtoupper&#39;</span><span class="p">,</span> <span class="nv">$values</span><span class="p">);</span>
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="p">});</span>
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a>
<a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="nv">$flattened</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a>
<a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="c1">// [&#39;name&#39; =&gt; &#39;SALLY&#39;, &#39;school&#39; =&gt; &#39;ARKANSAS&#39;, &#39;age&#39; =&gt; &#39;28&#39;];</span>
</code></pre></div>
<p><code>flatMap</code>メソッドは、コレクションを反復処理し、各値を与えられたクロージャに渡します。クロージャはアイテムを自由に変更して返すことができ、それによって変更されたアイテムの新しいコレクションが形成されます。その後、配列は1レベル平坦化されます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Sally&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;school&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Arkansas&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">28</span><span class="p">]</span>
<span class="p">]);</span>

<span class="nv">$flattened</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">flatMap</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="k">array</span> <span class="nv">$values</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">array_map</span><span class="p">(</span><span class="s1">&#39;strtoupper&#39;</span><span class="p">,</span> <span class="nv">$values</span><span class="p">);</span>
<span class="p">});</span>

<span class="nv">$flattened</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [&#39;name&#39; =&gt; &#39;SALLY&#39;, &#39;school&#39; =&gt; &#39;ARKANSAS&#39;, &#39;age&#39; =&gt; &#39;28&#39;];</span>
</code></pre></div>
<p><a name="method-flatten"></a></p>
<h4 class="collection-method" id="flatten"><code>flatten()</code><a class="headerlink" href="#flatten" title="Permanent link">&para;</a></h4>
<p><code>flatten</code>メソッドは、多次元コレクションを1次元に平坦化します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;taylor&#39;</span><span class="p">,</span>
    <span class="s1">&#39;languages&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">&#39;php&#39;</span><span class="p">,</span> <span class="s1">&#39;javascript&#39;</span>
    <span class="p">]</span>
<span class="p">]);</span>

<span class="nv">$flattened</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">flatten</span><span class="p">();</span>

<span class="nv">$flattened</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [&#39;taylor&#39;, &#39;php&#39;, &#39;javascript&#39;];</span>
</code></pre></div>
<p>必要に応じて、<code>flatten</code>メソッドに「深さ」引数を渡すことができます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="s1">&#39;Apple&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="p">[</span>
            <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;iPhone 6S&#39;</span><span class="p">,</span>
            <span class="s1">&#39;brand&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Apple&#39;</span>
        <span class="p">],</span>
    <span class="p">],</span>
    <span class="s1">&#39;Samsung&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="p">[</span>
            <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Galaxy S7&#39;</span><span class="p">,</span>
            <span class="s1">&#39;brand&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Samsung&#39;</span>
        <span class="p">],</span>
    <span class="p">],</span>
<span class="p">]);</span>

<span class="nv">$products</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">flatten</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

<span class="nv">$products</span><span class="o">-&gt;</span><span class="na">values</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="cm">/*</span>
<span class="cm">    [</span>
<span class="cm">        [&#39;name&#39; =&gt; &#39;iPhone 6S&#39;, &#39;brand&#39; =&gt; &#39;Apple&#39;],</span>
<span class="cm">        [&#39;name&#39; =&gt; &#39;Galaxy S7&#39;, &#39;brand&#39; =&gt; &#39;Samsung&#39;],</span>
<span class="cm">    ]</span>
<span class="cm">*/</span>
</code></pre></div>
<p>この例では、深さを指定せずに<code>flatten</code>を呼び出すと、ネストされた配列も平坦化され、<code>['iPhone 6S', 'Apple', 'Galaxy S7', 'Samsung']</code>となります。深さを指定することで、ネストされた配列が平坦化されるレベルを指定できます。</p>
<p><a name="method-flip"></a></p>
<h4 class="collection-method" id="flip"><code>flip()</code><a class="headerlink" href="#flip" title="Permanent link">&para;</a></h4>
<p><code>flip</code>メソッドは、コレクションのキーとそれに対応する値を入れ替えます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;taylor&#39;</span><span class="p">,</span> <span class="s1">&#39;framework&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;laravel&#39;</span><span class="p">]);</span>

<span class="nv">$flipped</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">flip</span><span class="p">();</span>

<span class="nv">$flipped</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [&#39;taylor&#39; =&gt; &#39;name&#39;, &#39;laravel&#39; =&gt; &#39;framework&#39;]</span>
</code></pre></div>
<p><a name="method-forget"></a></p>
<h4 class="collection-method" id="forget"><code>forget()</code><a class="headerlink" href="#forget" title="Permanent link">&para;</a></h4>
<p><code>forget</code>メソッドは、キーによってコレクションからアイテムを削除します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;taylor&#39;</span><span class="p">,</span> <span class="s1">&#39;framework&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;laravel&#39;</span><span class="p">]);</span>

<span class="c1">// 単一のキーを忘れる...</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">forget</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">);</span>

<span class="c1">// [&#39;framework&#39; =&gt; &#39;laravel&#39;]</span>

<span class="c1">// 複数のキーを忘れる...</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">forget</span><span class="p">([</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;framework&#39;</span><span class="p">]);</span>

<span class="c1">// []</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>他のほとんどのコレクションメソッドとは異なり、<code>forget</code>は新しい変更されたコレクションを返しません。呼び出されたコレクションを変更します。</p>
</div>
<p><a name="method-forpage"></a></p>
<h4 class="collection-method" id="forpage"><code>forPage()</code><a class="headerlink" href="#forpage" title="Permanent link">&para;</a></h4>
<p><code>forPage</code>メソッドは、指定されたページ番号に存在するアイテムを含む新しいコレクションを返します。このメソッドは、ページ番号を最初の引数として受け取り、1ページあたりに表示するアイテム数を2番目の引数として受け取ります。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]);</span>

<span class="nv">$chunk</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">forPage</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>

<span class="nv">$chunk</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [4, 5, 6]</span>
</code></pre></div>
<p><a name="method-get"></a></p>
<h4 class="collection-method" id="get"><code>get()</code><a class="headerlink" href="#get" title="Permanent link">&para;</a></h4>
<p><code>get</code>メソッドは、指定されたキーのアイテムを返します。キーが存在しない場合、<code>null</code>が返されます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;taylor&#39;</span><span class="p">,</span> <span class="s1">&#39;framework&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;laravel&#39;</span><span class="p">]);</span>

<span class="nv">$value</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">);</span>

<span class="c1">// taylor</span>
</code></pre></div>
<p>オプションで、2番目の引数としてデフォルト値を渡すことができます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;taylor&#39;</span><span class="p">,</span> <span class="s1">&#39;framework&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;laravel&#39;</span><span class="p">]);</span>

<span class="nv">$value</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="mi">34</span><span class="p">);</span>

<span class="c1">// 34</span>
</code></pre></div>
<p>メソッドのデフォルト値としてクロージャを渡すこともできます。指定されたキーが存在しない場合、クロージャの結果が返されます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">&#39;taylor@example.com&#39;</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// taylor@example.com</span>
</code></pre></div>
<p><a name="method-groupby"></a></p>
<h4 class="collection-method" id="groupby"><code>groupBy()</code><a class="headerlink" href="#groupby" title="Permanent link">&para;</a></h4>
<p><code>groupBy</code>メソッドは、指定されたキーによってコレクションのアイテムをグループ化します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="p">[</span><span class="s1">&#39;account_id&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;account-x10&#39;</span><span class="p">,</span> <span class="s1">&#39;product&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Chair&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;account_id&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;account-x10&#39;</span><span class="p">,</span> <span class="s1">&#39;product&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Bookcase&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;account_id&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;account-x11&#39;</span><span class="p">,</span> <span class="s1">&#39;product&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Desk&#39;</span><span class="p">],</span>
<span class="p">]);</span>

<span class="nv">$grouped</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">groupBy</span><span class="p">(</span><span class="s1">&#39;account_id&#39;</span><span class="p">);</span>

<span class="nv">$grouped</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="cm">/*</span>
<span class="cm">    [</span>
<span class="cm">        &#39;account-x10&#39; =&gt; [</span>
<span class="cm">            [&#39;account_id&#39; =&gt; &#39;account-x10&#39;, &#39;product&#39; =&gt; &#39;Chair&#39;],</span>
<span class="cm">            [&#39;account_id&#39; =&gt; &#39;account-x10&#39;, &#39;product&#39; =&gt; &#39;Bookcase&#39;],</span>
<span class="cm">        ],</span>
<span class="cm">        &#39;account-x11&#39; =&gt; [</span>
<span class="cm">            [&#39;account_id&#39; =&gt; &#39;account-x11&#39;, &#39;product&#39; =&gt; &#39;Desk&#39;],</span>
<span class="cm">        ],</span>
<span class="cm">    ]</span>
<span class="cm">*/</span>
</code></pre></div>
<p>文字列の<code>key</code>を渡す代わりに、コールバックを渡すことができます。コールバックは、グループ化するキーとして返す値を返すべきです。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$grouped</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">groupBy</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="k">array</span> <span class="nv">$item</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">substr</span><span class="p">(</span><span class="nv">$item</span><span class="p">[</span><span class="s1">&#39;account_id&#39;</span><span class="p">],</span> <span class="o">-</span><span class="mi">3</span><span class="p">);</span>
<span class="p">});</span>

<span class="nv">$grouped</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="cm">/*</span>
<span class="cm">    [</span>
<span class="cm">        &#39;x10&#39; =&gt; [</span>
<span class="cm">            [&#39;account_id&#39; =&gt; &#39;account-x10&#39;, &#39;product&#39; =&gt; &#39;Chair&#39;],</span>
<span class="cm">            [&#39;account_id&#39; =&gt; &#39;account-x10&#39;, &#39;product&#39; =&gt; &#39;Bookcase&#39;],</span>
<span class="cm">        ],</span>
<span class="cm">        &#39;x11&#39; =&gt; [</span>
<span class="cm">            [&#39;account_id&#39; =&gt; &#39;account-x11&#39;, &#39;product&#39; =&gt; &#39;Desk&#39;],</span>
<span class="cm">        ],</span>
<span class="cm">    ]</span>
<span class="cm">*/</span>
</code></pre></div>
<p>複数のグループ化基準を配列として渡すことができます。各配列要素は、多次元配列内の対応するレベルに適用されます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$data</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Collection</span><span class="p">([</span>
    <span class="mi">10</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;user&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;skill&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;roles&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;Role_1&#39;</span><span class="p">,</span> <span class="s1">&#39;Role_3&#39;</span><span class="p">]],</span>
    <span class="mi">20</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;user&#39;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;skill&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;roles&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;Role_1&#39;</span><span class="p">,</span> <span class="s1">&#39;Role_2&#39;</span><span class="p">]],</span>
    <span class="mi">30</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;user&#39;</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;skill&#39;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;roles&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;Role_1&#39;</span><span class="p">]],</span>
    <span class="mi">40</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;user&#39;</span> <span class="o">=&gt;</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;skill&#39;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;roles&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;Role_2&#39;</span><span class="p">]],</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$data</span><span class="o">-&gt;</span><span class="na">groupBy</span><span class="p">([</span><span class="s1">&#39;skill&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="k">array</span> <span class="nv">$item</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$item</span><span class="p">[</span><span class="s1">&#39;roles&#39;</span><span class="p">];</span>
<span class="p">}],</span> <span class="nx">preserveKeys</span><span class="o">:</span> <span class="k">true</span><span class="p">);</span>

<span class="cm">/*</span>
<span class="cm">[</span>
<span class="cm">    1 =&gt; [</span>
<span class="cm">        &#39;Role_1&#39; =&gt; [</span>
<span class="cm">            10 =&gt; [&#39;user&#39; =&gt; 1, &#39;skill&#39; =&gt; 1, &#39;roles&#39; =&gt; [&#39;Role_1&#39;, &#39;Role_3&#39;]],</span>
<span class="cm">            20 =&gt; [&#39;user&#39; =&gt; 2, &#39;skill&#39; =&gt; 1, &#39;roles&#39; =&gt; [&#39;Role_1&#39;, &#39;Role_2&#39;]],</span>
<span class="cm">        ],</span>
<span class="cm">        &#39;Role_2&#39; =&gt; [</span>
<span class="cm">            20 =&gt; [&#39;user&#39; =&gt; 2, &#39;skill&#39; =&gt; 1, &#39;roles&#39; =&gt; [&#39;Role_1&#39;, &#39;Role_2&#39;]],</span>
<span class="cm">        ],</span>
<span class="cm">        &#39;Role_3&#39; =&gt; [</span>
<span class="cm">            10 =&gt; [&#39;user&#39; =&gt; 1, &#39;skill&#39; =&gt; 1, &#39;roles&#39; =&gt; [&#39;Role_1&#39;, &#39;Role_3&#39;]],</span>
<span class="cm">        ],</span>
<span class="cm">    ],</span>
<span class="cm">    2 =&gt; [</span>
<span class="cm">        &#39;Role_1&#39; =&gt; [</span>
<span class="cm">            30 =&gt; [&#39;user&#39; =&gt; 3, &#39;skill&#39; =&gt; 2, &#39;roles&#39; =&gt; [&#39;Role_1&#39;]],</span>
<span class="cm">        ],</span>
<span class="cm">        &#39;Role_2&#39; =&gt; [</span>
<span class="cm">            40 =&gt; [&#39;user&#39; =&gt; 4, &#39;skill&#39; =&gt; 2, &#39;roles&#39; =&gt; [&#39;Role_2&#39;]],</span>
<span class="cm">        ],</span>
<span class="cm">    ],</span>
<span class="cm">];</span>
<span class="cm">*/</span>
</code></pre></div>
<p><a name="method-has"></a></p>
<h4 class="collection-method" id="has"><code>has()</code><a class="headerlink" href="#has" title="Permanent link">&para;</a></h4>
<p><code>has</code>メソッドは、指定されたキーがコレクション内に存在するかどうかを判断します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;account_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;product&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Desk&#39;</span><span class="p">,</span> <span class="s1">&#39;amount&#39;</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">]);</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">has</span><span class="p">(</span><span class="s1">&#39;product&#39;</span><span class="p">);</span>

<span class="c1">// true</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">has</span><span class="p">([</span><span class="s1">&#39;product&#39;</span><span class="p">,</span> <span class="s1">&#39;amount&#39;</span><span class="p">]);</span>

<span class="c1">// true</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">has</span><span class="p">([</span><span class="s1">&#39;amount&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">]);</span>

<span class="c1">// false</span>
</code></pre></div>
<p><a name="method-hasany"></a></p>
<h4 class="collection-method" id="hasany"><code>hasAny()</code><a class="headerlink" href="#hasany" title="Permanent link">&para;</a></h4>
<p><code>hasAny</code>メソッドは、指定されたキーのいずれかがコレクション内に存在するかどうかを判断します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;account_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;product&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Desk&#39;</span><span class="p">,</span> <span class="s1">&#39;amount&#39;</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">]);</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">hasAny</span><span class="p">([</span><span class="s1">&#39;product&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">]);</span>

<span class="c1">// true</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">hasAny</span><span class="p">([</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">]);</span>

<span class="c1">// false</span>
</code></pre></div>
<p><a name="method-implode"></a></p>
<h4 class="collection-method" id="implode"><code>implode()</code><a class="headerlink" href="#implode" title="Permanent link">&para;</a></h4>
<p><code>implode</code>メソッドは、コレクション内のアイテムを結合します。その引数は、コレクション内のアイテムのタイプに依存します。コレクションに配列またはオブジェクトが含まれている場合、結合したい属性のキーと、値の間に配置したい「接着剤」文字列を渡す必要があります。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="p">[</span><span class="s1">&#39;account_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;product&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Desk&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;account_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;product&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Chair&#39;</span><span class="p">],</span>
<span class="p">]);</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">implode</span><span class="p">(</span><span class="s1">&#39;product&#39;</span><span class="p">,</span> <span class="s1">&#39;, &#39;</span><span class="p">);</span>

<span class="c1">// Desk, Chair</span>
</code></pre></div>
<p>コレクションに単純な文字列または数値が含まれている場合、メソッドに「接着剤」を唯一の引数として渡すだけです。</p>
<div class="highlight"><pre><span></span><code><span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">implode</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">);</span>

<span class="c1">// &#39;1-2-3-4-5&#39;</span>
</code></pre></div>
<p>結合される値をフォーマットしたい場合は、<code>implode</code>メソッドにクロージャを渡すことができます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">implode</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="k">array</span> <span class="nv">$item</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">strtoupper</span><span class="p">(</span><span class="nv">$item</span><span class="p">[</span><span class="s1">&#39;product&#39;</span><span class="p">]);</span>
<span class="p">},</span> <span class="s1">&#39;, &#39;</span><span class="p">);</span>

<span class="c1">// DESK, CHAIR</span>
</code></pre></div>
<p><a name="method-intersect"></a></p>
<h4 class="collection-method" id="intersect"><code>intersect()</code><a class="headerlink" href="#intersect" title="Permanent link">&para;</a></h4>
<p><code>intersect</code>メソッドは、元のコレクションから指定された<code>array</code>またはコレクションに存在しない値を削除します。結果のコレクションは、元のコレクションのキーを保持します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;Desk&#39;</span><span class="p">,</span> <span class="s1">&#39;Sofa&#39;</span><span class="p">,</span> <span class="s1">&#39;Chair&#39;</span><span class="p">]);</span>

<span class="nv">$intersect</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">intersect</span><span class="p">([</span><span class="s1">&#39;Desk&#39;</span><span class="p">,</span> <span class="s1">&#39;Chair&#39;</span><span class="p">,</span> <span class="s1">&#39;Bookcase&#39;</span><span class="p">]);</span>

<span class="nv">$intersect</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [0 =&gt; &#39;Desk&#39;, 2 =&gt; &#39;Chair&#39;]</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>このメソッドの動作は、<a href="eloquent-collections.html#method-intersect">Eloquent Collections</a>を使用する場合に変更されます。</p>
</div>
<p><a name="method-intersectAssoc"></a></p>
<h4 class="collection-method" id="intersectassoc"><code>intersectAssoc()</code><a class="headerlink" href="#intersectassoc" title="Permanent link">&para;</a></h4>
<p><code>intersectAssoc</code>メソッドは、元のコレクションを別のコレクションまたは<code>array</code>と比較し、すべてのコレクションに存在するキー/値のペアを返します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="s1">&#39;color&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span>
    <span class="s1">&#39;size&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span>
    <span class="s1">&#39;material&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;cotton&#39;</span>
<span class="p">]);</span>

<span class="nv">$intersect</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">intersectAssoc</span><span class="p">([</span>
    <span class="s1">&#39;color&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span>
    <span class="s1">&#39;size&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span>
    <span class="s1">&#39;material&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;polyester&#39;</span>
<span class="p">]);</span>

<span class="nv">$intersect</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [&#39;size&#39; =&gt; &#39;M&#39;]</span>
</code></pre></div>
<p><a name="method-intersectbykeys"></a></p>
<h4 class="collection-method" id="intersectbykeys"><code>intersectByKeys()</code><a class="headerlink" href="#intersectbykeys" title="Permanent link">&para;</a></h4>
<p><code>intersectByKeys</code>メソッドは、元のコレクションから指定された<code>array</code>またはコレクションに存在しないキーとそれに対応する値を削除します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="s1">&#39;serial&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;UX301&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;screen&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span> <span class="o">=&gt;</span> <span class="mi">2009</span><span class="p">,</span>
<span class="p">]);</span>

<span class="nv">$intersect</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">intersectByKeys</span><span class="p">([</span>
    <span class="s1">&#39;reference&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;UX404&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;tab&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span> <span class="o">=&gt;</span> <span class="mi">2011</span>
<span class="p">]);</span>

<span class="nv">$intersect</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [&#39;type&#39; =&gt; &#39;screen&#39;, &#39;year&#39; =&gt; 2009]</span>

<span class="nv">$intersect</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">intersectByKeys</span><span class="p">([</span>
    <span class="s1">&#39;reference&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;UX404&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;tab&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span> <span class="o">=&gt;</span> <span class="mi">2011</span><span class="p">,</span>
<span class="p">]);</span>

<span class="nv">$intersect</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [&#39;type&#39; =&gt; &#39;screen&#39;, &#39;year&#39; =&gt; 2009]</span>
</code></pre></div>
<p><a name="method-isempty"></a></p>
<h4 class="collection-method" id="isempty"><code>isEmpty()</code><a class="headerlink" href="#isempty" title="Permanent link">&para;</a></h4>
<p><code>isEmpty</code>メソッドは、コレクションが空の場合に<code>true</code>を返し、そうでない場合は<code>false</code>を返します。</p>
<div class="highlight"><pre><span></span><code><span class="nx">collect</span><span class="p">([])</span><span class="o">-&gt;</span><span class="na">isEmpty</span><span class="p">();</span>

<span class="c1">// true</span>
</code></pre></div>
<p><a name="method-isnotempty"></a></p>
<h4 class="collection-method" id="isnotempty"><code>isNotEmpty()</code><a class="headerlink" href="#isnotempty" title="Permanent link">&para;</a></h4>
<p><code>isNotEmpty</code>メソッドは、コレクションが空でない場合に<code>true</code>を返し、そうでない場合は<code>false</code>を返します。</p>
<div class="highlight"><pre><span></span><code><span class="nx">collect</span><span class="p">([])</span><span class="o">-&gt;</span><span class="na">isNotEmpty</span><span class="p">();</span>

<span class="c1">// false</span>
</code></pre></div>
<p><a name="method-join"></a></p>
<h4 class="collection-method" id="join"><code>join()</code><a class="headerlink" href="#join" title="Permanent link">&para;</a></h4>
<p><code>join</code>メソッドは、コレクションの値を文字列で結合します。このメソッドの第二引数を使用して、最後の要素の後に追加する方法を指定することもできます。</p>
<div class="highlight"><pre><span></span><code><span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">join</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">);</span> <span class="c1">// &#39;a, b, c&#39;</span>
<span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">join</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">,</span> <span class="s1">&#39;, and &#39;</span><span class="p">);</span> <span class="c1">// &#39;a, b, and c&#39;</span>
<span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">join</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">,</span> <span class="s1">&#39; and &#39;</span><span class="p">);</span> <span class="c1">// &#39;a and b&#39;</span>
<span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">join</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">,</span> <span class="s1">&#39; and &#39;</span><span class="p">);</span> <span class="c1">// &#39;a&#39;</span>
<span class="nx">collect</span><span class="p">([])</span><span class="o">-&gt;</span><span class="na">join</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">,</span> <span class="s1">&#39; and &#39;</span><span class="p">);</span> <span class="c1">// &#39;&#39;</span>
</code></pre></div>
<p><a name="method-keyby"></a></p>
<h4 class="collection-method" id="keyby"><code>keyBy()</code><a class="headerlink" href="#keyby" title="Permanent link">&para;</a></h4>
<p><code>keyBy</code>メソッドは、指定されたキーでコレクションをキー付けします。複数のアイテムが同じキーを持つ場合、新しいコレクションには最後のアイテムのみが表示されます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="p">[</span><span class="s1">&#39;product_id&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;prod-100&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Desk&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;product_id&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;prod-200&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Chair&#39;</span><span class="p">],</span>
<span class="p">]);</span>

<span class="nv">$keyed</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">keyBy</span><span class="p">(</span><span class="s1">&#39;product_id&#39;</span><span class="p">);</span>

<span class="nv">$keyed</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="cm">/*</span>
<span class="cm">    [</span>
<span class="cm">        &#39;prod-100&#39; =&gt; [&#39;product_id&#39; =&gt; &#39;prod-100&#39;, &#39;name&#39; =&gt; &#39;Desk&#39;],</span>
<span class="cm">        &#39;prod-200&#39; =&gt; [&#39;product_id&#39; =&gt; &#39;prod-200&#39;, &#39;name&#39; =&gt; &#39;Chair&#39;],</span>
<span class="cm">    ]</span>
<span class="cm">*/</span>
</code></pre></div>
<p>メソッドにコールバックを渡すこともできます。コールバックは、コレクションのキーとする値を返す必要があります。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$keyed</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">keyBy</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="k">array</span> <span class="nv">$item</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">strtoupper</span><span class="p">(</span><span class="nv">$item</span><span class="p">[</span><span class="s1">&#39;product_id&#39;</span><span class="p">]);</span>
<span class="p">});</span>

<span class="nv">$keyed</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="cm">/*</span>
<span class="cm">    [</span>
<span class="cm">        &#39;PROD-100&#39; =&gt; [&#39;product_id&#39; =&gt; &#39;prod-100&#39;, &#39;name&#39; =&gt; &#39;Desk&#39;],</span>
<span class="cm">        &#39;PROD-200&#39; =&gt; [&#39;product_id&#39; =&gt; &#39;prod-200&#39;, &#39;name&#39; =&gt; &#39;Chair&#39;],</span>
<span class="cm">    ]</span>
<span class="cm">*/</span>
</code></pre></div>
<p><a name="method-keys"></a></p>
<h4 class="collection-method" id="keys"><code>keys()</code><a class="headerlink" href="#keys" title="Permanent link">&para;</a></h4>
<p><code>keys</code>メソッドは、コレクションのすべてのキーを返します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="s1">&#39;prod-100&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;product_id&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;prod-100&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Desk&#39;</span><span class="p">],</span>
    <span class="s1">&#39;prod-200&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;product_id&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;prod-200&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Chair&#39;</span><span class="p">],</span>
<span class="p">]);</span>

<span class="nv">$keys</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">keys</span><span class="p">();</span>

<span class="nv">$keys</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [&#39;prod-100&#39;, &#39;prod-200&#39;]</span>
</code></pre></div>
<p><a name="method-last"></a></p>
<h4 class="collection-method" id="last"><code>last()</code><a class="headerlink" href="#last" title="Permanent link">&para;</a></h4>
<p><code>last</code>メソッドは、指定された真偽テストを通過するコレクションの最後の要素を返します。</p>
<div class="highlight"><pre><span></span><code><span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">last</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">int</span> <span class="nv">$value</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$value</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// 2</span>
</code></pre></div>
<p>引数なしで<code>last</code>メソッドを呼び出して、コレクションの最後の要素を取得することもできます。コレクションが空の場合、<code>null</code>が返されます。</p>
<div class="highlight"><pre><span></span><code><span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">last</span><span class="p">();</span>

<span class="c1">// 4</span>
</code></pre></div>
<p><a name="method-lazy"></a></p>
<h4 class="collection-method" id="lazy"><code>lazy()</code><a class="headerlink" href="#lazy" title="Permanent link">&para;</a></h4>
<p><code>lazy</code>メソッドは、基になるアイテムの配列から新しい<a href="#lazy-collections"><code>LazyCollection</code></a>インスタンスを返します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$lazyCollection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">lazy</span><span class="p">();</span>

<span class="nv">$lazyCollection</span><span class="o">::</span><span class="na">class</span><span class="p">;</span>

<span class="c1">// Illuminate\Support\LazyCollection</span>

<span class="nv">$lazyCollection</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [1, 2, 3, 4]</span>
</code></pre></div>
<p>これは、膨大な数のアイテムを含む<code>Collection</code>に対して変換を行う必要がある場合に特に便利です。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$count</span> <span class="o">=</span> <span class="nv">$hugeCollection</span>
    <span class="o">-&gt;</span><span class="na">lazy</span><span class="p">()</span>
    <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="s1">&#39;FR&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;balance&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;100&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">count</span><span class="p">();</span>
</code></pre></div>
<p>コレクションを<code>LazyCollection</code>に変換することで、大量の追加メモリを割り当てることを回避できます。元のコレクションは依然としてメモリ内に値を保持しますが、後続のフィルターはそうではありません。したがって、コレクションの結果をフィルタリングする際に、事実上追加のメモリは割り当てられません。</p>
<p><a name="method-macro"></a></p>
<h4 class="collection-method" id="macro"><code>macro()</code><a class="headerlink" href="#macro" title="Permanent link">&para;</a></h4>
<p>静的な<code>macro</code>メソッドを使用すると、実行時に<code>Collection</code>クラスにメソッドを追加できます。詳細については、<a href="#extending-collections">コレクションの拡張</a>に関するドキュメントを参照してください。</p>
<p><a name="method-make"></a></p>
<h4 class="collection-method" id="make"><code>make()</code><a class="headerlink" href="#make" title="Permanent link">&para;</a></h4>
<p>静的な<code>make</code>メソッドは、新しいコレクションインスタンスを作成します。<a href="#creating-collections">コレクションの作成</a>セクションを参照してください。</p>
<p><a name="method-map"></a></p>
<h4 class="collection-method" id="map"><code>map()</code><a class="headerlink" href="#map" title="Permanent link">&para;</a></h4>
<p><code>map</code>メソッドは、コレクション全体を反復処理し、各値を指定されたコールバックに渡します。コールバックはアイテムを自由に変更して返すことができ、変更されたアイテムの新しいコレクションを形成します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]);</span>

<span class="nv">$multiplied</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">map</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">int</span> <span class="nv">$item</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$item</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">});</span>

<span class="nv">$multiplied</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [2, 4, 6, 8, 10]</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>他の多くのコレクションメソッドと同様に、<code>map</code>は新しいコレクションインスタンスを返します。呼び出されたコレクションを変更しません。元のコレクションを変換したい場合は、<a href="#method-transform"><code>transform</code></a>メソッドを使用してください。</p>
</div>
<p><a name="method-mapinto"></a></p>
<h4 class="collection-method" id="mapinto"><code>mapInto()</code><a class="headerlink" href="#mapinto" title="Permanent link">&para;</a></h4>
<p><code>mapInto()</code>メソッドは、コレクションを反復処理し、指定されたクラスの新しいインスタンスを作成します。値はコンストラクタに渡されます。</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Currency</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * 新しい通貨インスタンスを作成します。</span>
<span class="sd">     */</span>
    <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span>
        <span class="k">public</span> <span class="nx">string</span> <span class="nv">$code</span><span class="p">,</span>
    <span class="p">)</span> <span class="p">{}</span>
<span class="p">}</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;USD&#39;</span><span class="p">,</span> <span class="s1">&#39;EUR&#39;</span><span class="p">,</span> <span class="s1">&#39;GBP&#39;</span><span class="p">]);</span>

<span class="nv">$currencies</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">mapInto</span><span class="p">(</span><span class="nx">Currency</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>

<span class="nv">$currencies</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [Currency(&#39;USD&#39;), Currency(&#39;EUR&#39;), Currency(&#39;GBP&#39;)]</span>
</code></pre></div>
<p><a name="method-mapspread"></a></p>
<h4 class="collection-method" id="mapspread"><code>mapSpread()</code><a class="headerlink" href="#mapspread" title="Permanent link">&para;</a></h4>
<p><code>mapSpread</code>メソッドは、コレクションのアイテムを反復処理し、各ネストされたアイテムの値を指定されたクロージャに渡します。クロージャはアイテムを自由に変更して返すことができ、変更されたアイテムの新しいコレクションを形成します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]);</span>

<span class="nv">$chunks</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">chunk</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>

<span class="nv">$sequence</span> <span class="o">=</span> <span class="nv">$chunks</span><span class="o">-&gt;</span><span class="na">mapSpread</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">int</span> <span class="nv">$even</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$odd</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$even</span> <span class="o">+</span> <span class="nv">$odd</span><span class="p">;</span>
<span class="p">});</span>

<span class="nv">$sequence</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [1, 5, 9, 13, 17]</span>
</code></pre></div>
<p><a name="method-maptogroups"></a></p>
<h4 class="collection-method" id="maptogroups"><code>mapToGroups()</code><a class="headerlink" href="#maptogroups" title="Permanent link">&para;</a></h4>
<p><code>mapToGroups</code>メソッドは、指定されたクロージャによってコレクションのアイテムをグループ化します。クロージャは、単一のキー/値ペアを含む連想配列を返す必要があり、グループ化された値の新しいコレクションを形成します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="p">[</span>
        <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;John Doe&#39;</span><span class="p">,</span>
        <span class="s1">&#39;department&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Sales&#39;</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="p">[</span>
        <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Jane Doe&#39;</span><span class="p">,</span>
        <span class="s1">&#39;department&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Sales&#39;</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="p">[</span>
        <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Johnny Doe&#39;</span><span class="p">,</span>
        <span class="s1">&#39;department&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Marketing&#39;</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">]);</span>

<span class="nv">$grouped</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">mapToGroups</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="k">array</span> <span class="nv">$item</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">[</span><span class="nv">$item</span><span class="p">[</span><span class="s1">&#39;department&#39;</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nv">$item</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]];</span>
<span class="p">});</span>

<span class="nv">$grouped</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="cm">/*</span>
<span class="cm">    [</span>
<span class="cm">        &#39;Sales&#39; =&gt; [&#39;John Doe&#39;, &#39;Jane Doe&#39;],</span>
<span class="cm">        &#39;Marketing&#39; =&gt; [&#39;Johnny Doe&#39;],</span>
<span class="cm">    ]</span>
<span class="cm">*/</span>

<span class="nv">$grouped</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;Sales&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [&#39;John Doe&#39;, &#39;Jane Doe&#39;]</span>
</code></pre></div>
<p><a name="method-mapwithkeys"></a></p>
<h4 class="collection-method" id="mapwithkeys"><code>mapWithKeys()</code><a class="headerlink" href="#mapwithkeys" title="Permanent link">&para;</a></h4>
<p><code>mapWithKeys</code>メソッドは、コレクション全体を反復処理し、各値を指定されたクロージャに渡します。クロージャは、単一のキー/値ペアを含む連想配列を返す必要があります。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="p">[</span>
        <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;John&#39;</span><span class="p">,</span>
        <span class="s1">&#39;department&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Sales&#39;</span><span class="p">,</span>
        <span class="s1">&#39;email&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;john@example.com&#39;</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="p">[</span>
        <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Jane&#39;</span><span class="p">,</span>
        <span class="s1">&#39;department&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Marketing&#39;</span><span class="p">,</span>
        <span class="s1">&#39;email&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;jane@example.com&#39;</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">]);</span>

<span class="nv">$keyed</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">mapWithKeys</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="k">array</span> <span class="nv">$item</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">[</span><span class="nv">$item</span><span class="p">[</span><span class="s1">&#39;email&#39;</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nv">$item</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]];</span>
<span class="p">});</span>

<span class="nv">$keyed</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="cm">/*</span>
<span class="cm">    [</span>
<span class="cm">        &#39;john@example.com&#39; =&gt; &#39;John&#39;,</span>
<span class="cm">        &#39;jane@example.com&#39; =&gt; &#39;Jane&#39;,</span>
<span class="cm">    ]</span>
<span class="cm">*/</span>
</code></pre></div>
<p><a name="method-max"></a></p>
<h4 class="collection-method" id="max"><code>max()</code><a class="headerlink" href="#max" title="Permanent link">&para;</a></h4>
<p><code>max</code>メソッドは、指定されたキーの最大値を返します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$max</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="p">[</span><span class="s1">&#39;foo&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;foo&#39;</span> <span class="o">=&gt;</span> <span class="mi">20</span><span class="p">]</span>
<span class="p">])</span><span class="o">-&gt;</span><span class="na">max</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>

<span class="c1">// 20</span>

<span class="nv">$max</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">max</span><span class="p">();</span>

<span class="c1">// 5</span>
</code></pre></div>
<p><a name="method-median"></a></p>
<h4 class="collection-method" id="median"><code>median()</code><a class="headerlink" href="#median" title="Permanent link">&para;</a></h4>
<p><code>median</code>メソッドは、指定されたキーの<a href="https://en.wikipedia.org/wiki/Median">中央値</a>を返します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$median</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="p">[</span><span class="s1">&#39;foo&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;foo&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;foo&#39;</span> <span class="o">=&gt;</span> <span class="mi">20</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;foo&#39;</span> <span class="o">=&gt;</span> <span class="mi">40</span><span class="p">]</span>
<span class="p">])</span><span class="o">-&gt;</span><span class="na">median</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>

<span class="c1">// 15</span>

<span class="nv">$median</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">median</span><span class="p">();</span>

<span class="c1">// 1.5</span>
</code></pre></div>
<p><a name="method-merge"></a></p>
<h4 class="collection-method" id="merge"><code>merge()</code><a class="headerlink" href="#merge" title="Permanent link">&para;</a></h4>
<p><code>merge</code>メソッドは、指定された配列またはコレクションを元のコレクションとマージします。指定されたアイテムの文字列キーが元のコレクションの文字列キーと一致する場合、指定されたアイテムの値は元のコレクションの値を上書きします。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;product_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">]);</span>

<span class="nv">$merged</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">merge</span><span class="p">([</span><span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mi">200</span><span class="p">,</span> <span class="s1">&#39;discount&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">]);</span>

<span class="nv">$merged</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [&#39;product_id&#39; =&gt; 1, &#39;price&#39; =&gt; 200, &#39;discount&#39; =&gt; false]</span>
</code></pre></div>
<p>指定されたアイテムのキーが数値の場合、値はコレクションの末尾に追加されます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;Desk&#39;</span><span class="p">,</span> <span class="s1">&#39;Chair&#39;</span><span class="p">]);</span>

<span class="nv">$merged</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">merge</span><span class="p">([</span><span class="s1">&#39;Bookcase&#39;</span><span class="p">,</span> <span class="s1">&#39;Door&#39;</span><span class="p">]);</span>

<span class="nv">$merged</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [&#39;Desk&#39;, &#39;Chair&#39;, &#39;Bookcase&#39;, &#39;Door&#39;]</span>
</code></pre></div>
<p><a name="method-mergerecursive"></a></p>
<h4 class="collection-method" id="mergerecursive"><code>mergeRecursive()</code><a class="headerlink" href="#mergerecursive" title="Permanent link">&para;</a></h4>
<p><code>mergeRecursive</code>メソッドは、指定された配列またはコレクションを元のコレクションと再帰的にマージします。指定されたアイテムの文字列キーが元のコレクションの文字列キーと一致する場合、これらのキーの値は配列にマージされ、これは再帰的に行われます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;product_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">]);</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="sb">``</span><span class="err">`</span><span class="nx">php</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="nv">$merged</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">mergeRecursive</span><span class="p">([</span>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>    <span class="s1">&#39;product_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>    <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mi">200</span><span class="p">,</span>
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>    <span class="s1">&#39;discount&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span>
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="p">]);</span>
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a>
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a><span class="nv">$merged</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a>
<a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a><span class="c1">// [&#39;product_id&#39; =&gt; [1, 2], &#39;price&#39; =&gt; [100, 200], &#39;discount&#39; =&gt; false]</span>
</code></pre></div>
<p><a name="method-min"></a></p>
<h4 class="collection-method" id="min"><code>min()</code><a class="headerlink" href="#min" title="Permanent link">&para;</a></h4>
<p><code>min</code>メソッドは、指定されたキーの最小値を返します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="nv">$min</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([[</span><span class="s1">&#39;foo&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;foo&#39;</span> <span class="o">=&gt;</span> <span class="mi">20</span><span class="p">]])</span><span class="o">-&gt;</span><span class="na">min</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="c1">// 10</span>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a>
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="nv">$min</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">min</span><span class="p">();</span>
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a>
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="c1">// 1</span>
</code></pre></div>
<p><a name="method-mode"></a></p>
<h4 class="collection-method" id="mode"><code>mode()</code><a class="headerlink" href="#mode" title="Permanent link">&para;</a></h4>
<p><code>mode</code>メソッドは、指定されたキーの<a href="https://en.wikipedia.org/wiki/Mode_(statistics)">最頻値</a>を返します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="nv">$mode</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a>    <span class="p">[</span><span class="s1">&#39;foo&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">],</span>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a>    <span class="p">[</span><span class="s1">&#39;foo&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">],</span>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a>    <span class="p">[</span><span class="s1">&#39;foo&#39;</span> <span class="o">=&gt;</span> <span class="mi">20</span><span class="p">],</span>
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a>    <span class="p">[</span><span class="s1">&#39;foo&#39;</span> <span class="o">=&gt;</span> <span class="mi">40</span><span class="p">]</span>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="p">])</span><span class="o">-&gt;</span><span class="na">mode</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a>
<a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="c1">// [10]</span>
<a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a>
<a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="nv">$mode</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">mode</span><span class="p">();</span>
<a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a>
<a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a><span class="c1">// [1]</span>
<a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a>
<a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a><span class="nv">$mode</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">mode</span><span class="p">();</span>
<a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a>
<a id="__codelineno-31-16" name="__codelineno-31-16" href="#__codelineno-31-16"></a><span class="c1">// [1, 2]</span>
</code></pre></div>
<p><a name="method-multiply"></a></p>
<h4 class="collection-method" id="multiply"><code>multiply()</code><a class="headerlink" href="#multiply" title="Permanent link">&para;</a></h4>
<p><code>multiply</code>メソッドは、コレクション内のすべてのアイテムを指定された数だけコピーします。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="nv">$users</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;User #1&#39;</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;user1@example.com&#39;</span><span class="p">],</span>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a>    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;User #2&#39;</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;user2@example.com&#39;</span><span class="p">],</span>
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="p">])</span><span class="o">-&gt;</span><span class="na">multiply</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a>
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="cm">/*</span>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="cm">    [</span>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="cm">        [&#39;name&#39; =&gt; &#39;User #1&#39;, &#39;email&#39; =&gt; &#39;user1@example.com&#39;],</span>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="cm">        [&#39;name&#39; =&gt; &#39;User #2&#39;, &#39;email&#39; =&gt; &#39;user2@example.com&#39;],</span>
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a><span class="cm">        [&#39;name&#39; =&gt; &#39;User #1&#39;, &#39;email&#39; =&gt; &#39;user1@example.com&#39;],</span>
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a><span class="cm">        [&#39;name&#39; =&gt; &#39;User #2&#39;, &#39;email&#39; =&gt; &#39;user2@example.com&#39;],</span>
<a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a><span class="cm">        [&#39;name&#39; =&gt; &#39;User #1&#39;, &#39;email&#39; =&gt; &#39;user1@example.com&#39;],</span>
<a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a><span class="cm">        [&#39;name&#39; =&gt; &#39;User #2&#39;, &#39;email&#39; =&gt; &#39;user2@example.com&#39;],</span>
<a id="__codelineno-32-14" name="__codelineno-32-14" href="#__codelineno-32-14"></a><span class="cm">    ]</span>
<a id="__codelineno-32-15" name="__codelineno-32-15" href="#__codelineno-32-15"></a><span class="cm">*/</span>
</code></pre></div>
<p><a name="method-nth"></a></p>
<h4 class="collection-method" id="nth"><code>nth()</code><a class="headerlink" href="#nth" title="Permanent link">&para;</a></h4>
<p><code>nth</code>メソッドは、n番目ごとの要素で構成される新しいコレクションを作成します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">]);</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">nth</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="c1">// [&#39;a&#39;, &#39;e&#39;]</span>
</code></pre></div>
<p>オプションで、開始オフセットを2番目の引数として渡すことができます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">nth</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a>
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="c1">// [&#39;b&#39;, &#39;f&#39;]</span>
</code></pre></div>
<p><a name="method-only"></a></p>
<h4 class="collection-method" id="only"><code>only()</code><a class="headerlink" href="#only" title="Permanent link">&para;</a></h4>
<p><code>only</code>メソッドは、指定されたキーを持つコレクション内のアイテムを返します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a>    <span class="s1">&#39;product_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>    <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Desk&#39;</span><span class="p">,</span>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a>    <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">,</span>
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a>    <span class="s1">&#39;discount&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span>
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="p">]);</span>
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a>
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="nv">$filtered</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">only</span><span class="p">([</span><span class="s1">&#39;product_id&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">]);</span>
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a>
<a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a><span class="nv">$filtered</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a>
<a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="c1">// [&#39;product_id&#39; =&gt; 1, &#39;name&#39; =&gt; &#39;Desk&#39;]</span>
</code></pre></div>
<p><code>only</code>の逆は、<a href="#method-except">except</a>メソッドを参照してください。</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>このメソッドの動作は、<a href="eloquent-collections.html#method-only">Eloquent Collections</a>を使用する場合に変更されます。</p>
</div>
<p><a name="method-pad"></a></p>
<h4 class="collection-method" id="pad"><code>pad()</code><a class="headerlink" href="#pad" title="Permanent link">&para;</a></h4>
<p><code>pad</code>メソッドは、配列が指定されたサイズに達するまで、指定された値で配列を埋めます。このメソッドは、<a href="https://secure.php.net/manual/en/function.array-pad.php">array_pad</a> PHP関数のように動作します。</p>
<p>左側にパディングするには、負のサイズを指定する必要があります。指定されたサイズの絶対値が配列の長さ以下の場合、パディングは行われません。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">]);</span>
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a>
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="nv">$filtered</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">pad</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a>
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="nv">$filtered</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a>
<a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="c1">// [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, 0, 0]</span>
<a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a>
<a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a><span class="nv">$filtered</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">pad</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a>
<a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a><span class="nv">$filtered</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a>
<a id="__codelineno-36-13" name="__codelineno-36-13" href="#__codelineno-36-13"></a><span class="c1">// [0, 0, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;]</span>
</code></pre></div>
<p><a name="method-partition"></a></p>
<h4 class="collection-method" id="partition"><code>partition()</code><a class="headerlink" href="#partition" title="Permanent link">&para;</a></h4>
<p><code>partition</code>メソッドは、PHPの配列の分割と組み合わせて使用し、指定された真偽テストに合格する要素とそうでない要素を分離できます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]);</span>
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a>
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="p">[</span><span class="nv">$underThree</span><span class="p">,</span> <span class="nv">$equalOrAboveThree</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">partition</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">int</span> <span class="nv">$i</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a>    <span class="k">return</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">;</span>
<a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="p">});</span>
<a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a>
<a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a><span class="nv">$underThree</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a>
<a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a><span class="c1">// [1, 2]</span>
<a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a>
<a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a><span class="nv">$equalOrAboveThree</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-37-12" name="__codelineno-37-12" href="#__codelineno-37-12"></a>
<a id="__codelineno-37-13" name="__codelineno-37-13" href="#__codelineno-37-13"></a><span class="c1">// [3, 4, 5, 6]</span>
</code></pre></div>
<p><a name="method-percentage"></a></p>
<h4 class="collection-method" id="percentage"><code>percentage()</code><a class="headerlink" href="#percentage" title="Permanent link">&para;</a></h4>
<p><code>percentage</code>メソッドは、指定された真偽テストに合格するコレクション内のアイテムの割合を素早く決定するために使用できます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a>
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="nv">$percentage</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">percentage</span><span class="p">(</span><span class="nx">fn</span> <span class="p">(</span><span class="nv">$value</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nv">$value</span> <span class="o">===</span> <span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a>
<a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="c1">// 33.33</span>
</code></pre></div>
<p>デフォルトでは、割合は小数点以下2桁に丸められます。ただし、この動作はメソッドに2番目の引数を渡すことでカスタマイズできます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="nv">$percentage</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">percentage</span><span class="p">(</span><span class="nx">fn</span> <span class="p">(</span><span class="nv">$value</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nv">$value</span> <span class="o">===</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">precision</span><span class="o">:</span> <span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a>
<a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="c1">// 33.333</span>
</code></pre></div>
<p><a name="method-pipe"></a></p>
<h4 class="collection-method" id="pipe"><code>pipe()</code><a class="headerlink" href="#pipe" title="Permanent link">&para;</a></h4>
<p><code>pipe</code>メソッドは、コレクションを指定されたクロージャに渡し、クロージャの実行結果を返します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a>
<a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="nv">$piped</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">pipe</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">Collection</span> <span class="nv">$collection</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a>    <span class="k">return</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sum</span><span class="p">();</span>
<a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="p">});</span>
<a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a>
<a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a><span class="c1">// 6</span>
</code></pre></div>
<p><a name="method-pipeinto"></a></p>
<h4 class="collection-method" id="pipeinto"><code>pipeInto()</code><a class="headerlink" href="#pipeinto" title="Permanent link">&para;</a></h4>
<p><code>pipeInto</code>メソッドは、指定されたクラスの新しいインスタンスを作成し、コレクションをコンストラクタに渡します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="k">class</span> <span class="nc">ResourceCollection</span>
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="p">{</span>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a>    <span class="sd">/**</span>
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="sd">     * Create a new ResourceCollection instance.</span>
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="sd">     */</span>
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a>    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span>
<a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a>        <span class="k">public</span> <span class="nx">Collection</span> <span class="nv">$collection</span><span class="p">,</span>
<a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a>    <span class="p">)</span> <span class="p">{}</span>
<a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a><span class="p">}</span>
<a id="__codelineno-41-10" name="__codelineno-41-10" href="#__codelineno-41-10"></a>
<a id="__codelineno-41-11" name="__codelineno-41-11" href="#__codelineno-41-11"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>
<a id="__codelineno-41-12" name="__codelineno-41-12" href="#__codelineno-41-12"></a>
<a id="__codelineno-41-13" name="__codelineno-41-13" href="#__codelineno-41-13"></a><span class="nv">$resource</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">pipeInto</span><span class="p">(</span><span class="nx">ResourceCollection</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-41-14" name="__codelineno-41-14" href="#__codelineno-41-14"></a>
<a id="__codelineno-41-15" name="__codelineno-41-15" href="#__codelineno-41-15"></a><span class="nv">$resource</span><span class="o">-&gt;</span><span class="na">collection</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-41-16" name="__codelineno-41-16" href="#__codelineno-41-16"></a>
<a id="__codelineno-41-17" name="__codelineno-41-17" href="#__codelineno-41-17"></a><span class="c1">// [1, 2, 3]</span>
</code></pre></div>
<p><a name="method-pipethrough"></a></p>
<h4 class="collection-method" id="pipethrough"><code>pipeThrough()</code><a class="headerlink" href="#pipethrough" title="Permanent link">&para;</a></h4>
<p><code>pipeThrough</code>メソッドは、コレクションを指定されたクロージャの配列に渡し、クロージャの実行結果を返します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="k">use</span> <span class="nx">Illuminate\Support\Collection</span><span class="p">;</span>
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a>
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a>
<a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="nv">$result</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">pipeThrough</span><span class="p">([</span>
<a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a>    <span class="k">function</span> <span class="p">(</span><span class="nx">Collection</span> <span class="nv">$collection</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a>        <span class="k">return</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">merge</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]);</span>
<a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a>    <span class="p">},</span>
<a id="__codelineno-42-9" name="__codelineno-42-9" href="#__codelineno-42-9"></a>    <span class="k">function</span> <span class="p">(</span><span class="nx">Collection</span> <span class="nv">$collection</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-42-10" name="__codelineno-42-10" href="#__codelineno-42-10"></a>        <span class="k">return</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sum</span><span class="p">();</span>
<a id="__codelineno-42-11" name="__codelineno-42-11" href="#__codelineno-42-11"></a>    <span class="p">},</span>
<a id="__codelineno-42-12" name="__codelineno-42-12" href="#__codelineno-42-12"></a><span class="p">]);</span>
<a id="__codelineno-42-13" name="__codelineno-42-13" href="#__codelineno-42-13"></a>
<a id="__codelineno-42-14" name="__codelineno-42-14" href="#__codelineno-42-14"></a><span class="c1">// 15</span>
</code></pre></div>
<p><a name="method-pluck"></a></p>
<h4 class="collection-method" id="pluck"><code>pluck()</code><a class="headerlink" href="#pluck" title="Permanent link">&para;</a></h4>
<p><code>pluck</code>メソッドは、指定されたキーのすべての値を取得します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a>    <span class="p">[</span><span class="s1">&#39;product_id&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;prod-100&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Desk&#39;</span><span class="p">],</span>
<a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a>    <span class="p">[</span><span class="s1">&#39;product_id&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;prod-200&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Chair&#39;</span><span class="p">],</span>
<a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="p">]);</span>
<a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a>
<a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a><span class="nv">$plucked</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">pluck</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">);</span>
<a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a>
<a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a><span class="nv">$plucked</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a>
<a id="__codelineno-43-10" name="__codelineno-43-10" href="#__codelineno-43-10"></a><span class="c1">// [&#39;Desk&#39;, &#39;Chair&#39;]</span>
</code></pre></div>
<p>結果のコレクションをどのようにキー付けするかを指定することもできます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="nv">$plucked</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">pluck</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;product_id&#39;</span><span class="p">);</span>
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a>
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="nv">$plucked</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a>
<a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a><span class="c1">// [&#39;prod-100&#39; =&gt; &#39;Desk&#39;, &#39;prod-200&#39; =&gt; &#39;Chair&#39;]</span>
</code></pre></div>
<p><code>pluck</code>メソッドは、"ドット"記法を使用してネストされた値を取得することもサポートしています。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a>    <span class="p">[</span>
<a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a>        <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Laracon&#39;</span><span class="p">,</span>
<a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a>        <span class="s1">&#39;speakers&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
<a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a>            <span class="s1">&#39;first_day&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;Rosa&#39;</span><span class="p">,</span> <span class="s1">&#39;Judith&#39;</span><span class="p">],</span>
<a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a>        <span class="p">],</span>
<a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a>    <span class="p">],</span>
<a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a>    <span class="p">[</span>
<a id="__codelineno-45-9" name="__codelineno-45-9" href="#__codelineno-45-9"></a>        <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;VueConf&#39;</span><span class="p">,</span>
<a id="__codelineno-45-10" name="__codelineno-45-10" href="#__codelineno-45-10"></a>        <span class="s1">&#39;speakers&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
<a id="__codelineno-45-11" name="__codelineno-45-11" href="#__codelineno-45-11"></a>            <span class="s1">&#39;first_day&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;Abigail&#39;</span><span class="p">,</span> <span class="s1">&#39;Joey&#39;</span><span class="p">],</span>
<a id="__codelineno-45-12" name="__codelineno-45-12" href="#__codelineno-45-12"></a>        <span class="p">],</span>
<a id="__codelineno-45-13" name="__codelineno-45-13" href="#__codelineno-45-13"></a>    <span class="p">],</span>
<a id="__codelineno-45-14" name="__codelineno-45-14" href="#__codelineno-45-14"></a><span class="p">]);</span>
<a id="__codelineno-45-15" name="__codelineno-45-15" href="#__codelineno-45-15"></a>
<a id="__codelineno-45-16" name="__codelineno-45-16" href="#__codelineno-45-16"></a><span class="nv">$plucked</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">pluck</span><span class="p">(</span><span class="s1">&#39;speakers.first_day&#39;</span><span class="p">);</span>
<a id="__codelineno-45-17" name="__codelineno-45-17" href="#__codelineno-45-17"></a>
<a id="__codelineno-45-18" name="__codelineno-45-18" href="#__codelineno-45-18"></a><span class="nv">$plucked</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-45-19" name="__codelineno-45-19" href="#__codelineno-45-19"></a>
<a id="__codelineno-45-20" name="__codelineno-45-20" href="#__codelineno-45-20"></a><span class="c1">// [[&#39;Rosa&#39;, &#39;Judith&#39;], [&#39;Abigail&#39;, &#39;Joey&#39;]]</span>
</code></pre></div>
<p>もし重複するキーが存在する場合、最後に一致した要素が取得されたコレクションに挿入されます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
<a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a>    <span class="p">[</span><span class="s1">&#39;brand&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Tesla&#39;</span><span class="p">,</span>  <span class="s1">&#39;color&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;red&#39;</span><span class="p">],</span>
<a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a>    <span class="p">[</span><span class="s1">&#39;brand&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Pagani&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;white&#39;</span><span class="p">],</span>
<a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a>    <span class="p">[</span><span class="s1">&#39;brand&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Tesla&#39;</span><span class="p">,</span>  <span class="s1">&#39;color&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;black&#39;</span><span class="p">],</span>
<a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a>    <span class="p">[</span><span class="s1">&#39;brand&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Pagani&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;orange&#39;</span><span class="p">],</span>
<a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a><span class="p">]);</span>
<a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a>
<a id="__codelineno-46-8" name="__codelineno-46-8" href="#__codelineno-46-8"></a><span class="nv">$plucked</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">pluck</span><span class="p">(</span><span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="s1">&#39;brand&#39;</span><span class="p">);</span>
<a id="__codelineno-46-9" name="__codelineno-46-9" href="#__codelineno-46-9"></a>
<a id="__codelineno-46-10" name="__codelineno-46-10" href="#__codelineno-46-10"></a><span class="nv">$plucked</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-46-11" name="__codelineno-46-11" href="#__codelineno-46-11"></a>
<a id="__codelineno-46-12" name="__codelineno-46-12" href="#__codelineno-46-12"></a><span class="c1">// [&#39;Tesla&#39; =&gt; &#39;black&#39;, &#39;Pagani&#39; =&gt; &#39;orange&#39;]</span>
</code></pre></div>
<p><a name="method-pop"></a></p>
<h4 class="collection-method" id="pop"><code>pop()</code><a class="headerlink" href="#pop" title="Permanent link">&para;</a></h4>
<p><code>pop</code>メソッドは、コレクションの最後のアイテムを削除して返します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]);</span>
<a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a>
<a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">pop</span><span class="p">();</span>
<a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a>
<a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="c1">// 5</span>
<a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a>
<a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-47-8" name="__codelineno-47-8" href="#__codelineno-47-8"></a>
<a id="__codelineno-47-9" name="__codelineno-47-9" href="#__codelineno-47-9"></a><span class="c1">// [1, 2, 3, 4]</span>
</code></pre></div>
<p><code>pop</code>メソッドに整数を渡すことで、コレクションの末尾から複数のアイテムを削除して返すことができます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]);</span>
<a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a>
<a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">pop</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a>
<a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a><span class="c1">// collect([5, 4, 3])</span>
<a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a>
<a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a>
<a id="__codelineno-48-9" name="__codelineno-48-9" href="#__codelineno-48-9"></a><span class="c1">// [1, 2]</span>
</code></pre></div>
<p><a name="method-prepend"></a></p>
<h4 class="collection-method" id="prepend"><code>prepend()</code><a class="headerlink" href="#prepend" title="Permanent link">&para;</a></h4>
<p><code>prepend</code>メソッドは、コレクションの先頭にアイテムを追加します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]);</span>
<a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a>
<a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">prepend</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a>
<a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-49-6" name="__codelineno-49-6" href="#__codelineno-49-6"></a>
<a id="__codelineno-49-7" name="__codelineno-49-7" href="#__codelineno-49-7"></a><span class="c1">// [0, 1, 2, 3, 4, 5]</span>
</code></pre></div>
<p>また、先頭に追加するアイテムのキーを指定するために2番目の引数を渡すこともできます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;one&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">]);</span>
<a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a>
<a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">prepend</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;zero&#39;</span><span class="p">);</span>
<a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a>
<a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a>
<a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a><span class="c1">// [&#39;zero&#39; =&gt; 0, &#39;one&#39; =&gt; 1, &#39;two&#39; =&gt; 2]</span>
</code></pre></div>
<p><a name="method-pull"></a></p>
<h4 class="collection-method" id="pull"><code>pull()</code><a class="headerlink" href="#pull" title="Permanent link">&para;</a></h4>
<p><code>pull</code>メソッドは、キーによってコレクションからアイテムを削除して返します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;product_id&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;prod-100&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Desk&#39;</span><span class="p">]);</span>
<a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a>
<a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">pull</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">);</span>
<a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a>
<a id="__codelineno-51-5" name="__codelineno-51-5" href="#__codelineno-51-5"></a><span class="c1">// &#39;Desk&#39;</span>
<a id="__codelineno-51-6" name="__codelineno-51-6" href="#__codelineno-51-6"></a>
<a id="__codelineno-51-7" name="__codelineno-51-7" href="#__codelineno-51-7"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-51-8" name="__codelineno-51-8" href="#__codelineno-51-8"></a>
<a id="__codelineno-51-9" name="__codelineno-51-9" href="#__codelineno-51-9"></a><span class="c1">// [&#39;product_id&#39; =&gt; &#39;prod-100&#39;]</span>
</code></pre></div>
<p><a name="method-push"></a></p>
<h4 class="collection-method" id="push"><code>push()</code><a class="headerlink" href="#push" title="Permanent link">&para;</a></h4>
<p><code>push</code>メソッドは、コレクションの末尾にアイテムを追加します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]);</span>
<a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a>
<a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">push</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a>
<a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-52-6" name="__codelineno-52-6" href="#__codelineno-52-6"></a>
<a id="__codelineno-52-7" name="__codelineno-52-7" href="#__codelineno-52-7"></a><span class="c1">// [1, 2, 3, 4, 5]</span>
</code></pre></div>
<p><a name="method-put"></a></p>
<h4 class="collection-method" id="put"><code>put()</code><a class="headerlink" href="#put" title="Permanent link">&para;</a></h4>
<p><code>put</code>メソッドは、指定されたキーと値をコレクションに設定します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;product_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Desk&#39;</span><span class="p">]);</span>
<a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a>
<a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">put</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a>
<a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-53-6" name="__codelineno-53-6" href="#__codelineno-53-6"></a>
<a id="__codelineno-53-7" name="__codelineno-53-7" href="#__codelineno-53-7"></a><span class="c1">// [&#39;product_id&#39; =&gt; 1, &#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 100]</span>
</code></pre></div>
<p><a name="method-random"></a></p>
<h4 class="collection-method" id="random"><code>random()</code><a class="headerlink" href="#random" title="Permanent link">&para;</a></h4>
<p><code>random</code>メソッドは、コレクションからランダムにアイテムを返します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]);</span>
<a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a>
<a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">random</span><span class="p">();</span>
<a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a>
<a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a><span class="c1">// 4 - (ランダムに取得)</span>
</code></pre></div>
<p><code>random</code>メソッドに整数を渡すことで、ランダムに複数のアイテムを取得することができます。常にアイテムのコレクションが返されます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="nv">$random</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">random</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a>
<a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a><span class="nv">$random</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a>
<a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a><span class="c1">// [2, 4, 5] - (ランダムに取得)</span>
</code></pre></div>
<p>もしコレクションインスタンスが要求された数より少ない場合、<code>random</code>メソッドは<code>InvalidArgumentException</code>をスローします。</p>
<p><code>random</code>メソッドはクロージャも受け付けます。このクロージャは現在のコレクションインスタンスを受け取ります：</p>
<div class="highlight"><pre><span></span><code><span class="k">use</span> <span class="nx">Illuminate\Support\Collection</span><span class="p">;</span>

<span class="nv">$random</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">random</span><span class="p">(</span><span class="nx">fn</span> <span class="p">(</span><span class="nx">Collection</span> <span class="nv">$items</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nb">min</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$items</span><span class="p">)));</span>

<span class="nv">$random</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [1, 2, 3, 4, 5] - (ランダムに取得)</span>
</code></pre></div>
<p><a name="method-range"></a></p>
<h4 class="collection-method" id="range"><code>range()</code><a class="headerlink" href="#range" title="Permanent link">&para;</a></h4>
<p><code>range</code>メソッドは、指定された範囲内の整数を含むコレクションを返します：</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [3, 4, 5, 6]</span>
</code></pre></div>
<p><a name="method-reduce"></a></p>
<h4 class="collection-method" id="reduce"><code>reduce()</code><a class="headerlink" href="#reduce" title="Permanent link">&para;</a></h4>
<p><code>reduce</code>メソッドは、コレクションを単一の値に縮小し、各反復の結果を後続の反復に渡します：</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>

<span class="nv">$total</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">reduce</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="o">?</span><span class="nx">int</span> <span class="nv">$carry</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$item</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$carry</span> <span class="o">+</span> <span class="nv">$item</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// 6</span>
</code></pre></div>
<p>最初の反復での<code>$carry</code>の値は<code>null</code>ですが、<code>reduce</code>に第二引数を渡すことで初期値を指定できます：</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">reduce</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">int</span> <span class="nv">$carry</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$item</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$carry</span> <span class="o">+</span> <span class="nv">$item</span><span class="p">;</span>
<span class="p">},</span> <span class="mi">4</span><span class="p">);</span>

<span class="c1">// 10</span>
</code></pre></div>
<p><code>reduce</code>メソッドは、連想コレクションの配列キーも指定されたコールバックに渡します：</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="s1">&#39;usd&#39;</span> <span class="o">=&gt;</span> <span class="mi">1400</span><span class="p">,</span>
    <span class="s1">&#39;gbp&#39;</span> <span class="o">=&gt;</span> <span class="mi">1200</span><span class="p">,</span>
    <span class="s1">&#39;eur&#39;</span> <span class="o">=&gt;</span> <span class="mi">1000</span><span class="p">,</span>
<span class="p">]);</span>

<span class="nv">$ratio</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;usd&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">&#39;gbp&#39;</span> <span class="o">=&gt;</span> <span class="mf">1.37</span><span class="p">,</span>
    <span class="s1">&#39;eur&#39;</span> <span class="o">=&gt;</span> <span class="mf">1.22</span><span class="p">,</span>
<span class="p">];</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">reduce</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">int</span> <span class="nv">$carry</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$value</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$key</span><span class="p">)</span> <span class="k">use</span> <span class="p">(</span><span class="nv">$ratio</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$carry</span> <span class="o">+</span> <span class="p">(</span><span class="nv">$value</span> <span class="o">*</span> <span class="nv">$ratio</span><span class="p">[</span><span class="nv">$key</span><span class="p">]);</span>
<span class="p">});</span>

<span class="c1">// 4264</span>
</code></pre></div>
<p><a name="method-reduce-spread"></a></p>
<h4 class="collection-method" id="reducespread"><code>reduceSpread()</code><a class="headerlink" href="#reducespread" title="Permanent link">&para;</a></h4>
<p><code>reduceSpread</code>メソッドは、コレクションを値の配列に縮小し、各反復の結果を後続の反復に渡します。このメソッドは<code>reduce</code>メソッドに似ていますが、複数の初期値を受け入れることができます：</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="nv">$creditsRemaining</span><span class="p">,</span> <span class="nv">$batch</span><span class="p">]</span> <span class="o">=</span> <span class="nx">Image</span><span class="o">::</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;status&#39;</span><span class="p">,</span> <span class="s1">&#39;unprocessed&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">get</span><span class="p">()</span>
    <span class="o">-&gt;</span><span class="na">reduceSpread</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">int</span> <span class="nv">$creditsRemaining</span><span class="p">,</span> <span class="nx">Collection</span> <span class="nv">$batch</span><span class="p">,</span> <span class="nx">Image</span> <span class="nv">$image</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$creditsRemaining</span> <span class="o">&gt;=</span> <span class="nv">$image</span><span class="o">-&gt;</span><span class="na">creditsRequired</span><span class="p">())</span> <span class="p">{</span>
            <span class="nv">$batch</span><span class="o">-&gt;</span><span class="na">push</span><span class="p">(</span><span class="nv">$image</span><span class="p">);</span>

            <span class="nv">$creditsRemaining</span> <span class="o">-=</span> <span class="nv">$image</span><span class="o">-&gt;</span><span class="na">creditsRequired</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="p">[</span><span class="nv">$creditsRemaining</span><span class="p">,</span> <span class="nv">$batch</span><span class="p">];</span>
    <span class="p">},</span> <span class="nv">$creditsAvailable</span><span class="p">,</span> <span class="nx">collect</span><span class="p">());</span>
</code></pre></div>
<p><a name="method-reject"></a></p>
<h4 class="collection-method" id="reject"><code>reject()</code><a class="headerlink" href="#reject" title="Permanent link">&para;</a></h4>
<p><code>reject</code>メソッドは、指定されたクロージャを使用してコレクションをフィルタリングします。クロージャは、アイテムが結果のコレクションから削除されるべき場合に<code>true</code>を返すべきです：</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]);</span>

<span class="nv">$filtered</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">reject</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">int</span> <span class="nv">$value</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$value</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">});</span>

<span class="nv">$filtered</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [1, 2]</span>
</code></pre></div>
<p><code>reject</code>メソッドの逆の動作をする場合は、<a href="#method-filter"><code>filter</code></a>メソッドを参照してください。</p>
<p><a name="method-replace"></a></p>
<h4 class="collection-method" id="replace"><code>replace()</code><a class="headerlink" href="#replace" title="Permanent link">&para;</a></h4>
<p><code>replace</code>メソッドは<code>merge</code>と同様に動作しますが、文字列キーを持つ一致するアイテムを上書きするだけでなく、一致する数値キーを持つコレクション内のアイテムも上書きします：</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;Taylor&#39;</span><span class="p">,</span> <span class="s1">&#39;Abigail&#39;</span><span class="p">,</span> <span class="s1">&#39;James&#39;</span><span class="p">]);</span>

<span class="nv">$replaced</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">replace</span><span class="p">([</span><span class="mi">1</span> <span class="o">=&gt;</span> <span class="s1">&#39;Victoria&#39;</span><span class="p">,</span> <span class="mi">3</span> <span class="o">=&gt;</span> <span class="s1">&#39;Finn&#39;</span><span class="p">]);</span>

<span class="nv">$replaced</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [&#39;Taylor&#39;, &#39;Victoria&#39;, &#39;James&#39;, &#39;Finn&#39;]</span>
</code></pre></div>
<p><a name="method-replacerecursive"></a></p>
<h4 class="collection-method" id="replacerecursive"><code>replaceRecursive()</code><a class="headerlink" href="#replacerecursive" title="Permanent link">&para;</a></h4>
<p>このメソッドは<code>replace</code>のように動作しますが、配列に再帰的に入り込み、同じ置換プロセスを内部の値に適用します：</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="s1">&#39;Taylor&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Abigail&#39;</span><span class="p">,</span>
    <span class="p">[</span>
        <span class="s1">&#39;James&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Victoria&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Finn&#39;</span>
    <span class="p">]</span>
<span class="p">]);</span>

<span class="nv">$replaced</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">replaceRecursive</span><span class="p">([</span>
    <span class="s1">&#39;Charlie&#39;</span><span class="p">,</span>
    <span class="mi">2</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">1</span> <span class="o">=&gt;</span> <span class="s1">&#39;King&#39;</span><span class="p">]</span>
<span class="p">]);</span>

<span class="nv">$replaced</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [&#39;Charlie&#39;, &#39;Abigail&#39;, [&#39;James&#39;, &#39;King&#39;, &#39;Finn&#39;]]</span>
</code></pre></div>
<p><a name="method-reverse"></a></p>
<h4 class="collection-method" id="reverse"><code>reverse()</code><a class="headerlink" href="#reverse" title="Permanent link">&para;</a></h4>
<p><code>reverse</code>メソッドは、コレクションのアイテムの順序を逆にし、元のキーを保持します：</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">]);</span>

<span class="nv">$reversed</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">reverse</span><span class="p">();</span>

<span class="nv">$reversed</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="cm">/*</span>
<span class="cm">    [</span>
<span class="cm">        4 =&gt; &#39;e&#39;,</span>
<span class="cm">        3 =&gt; &#39;d&#39;,</span>
<span class="cm">        2 =&gt; &#39;c&#39;,</span>
<span class="cm">        1 =&gt; &#39;b&#39;,</span>
<span class="cm">        0 =&gt; &#39;a&#39;,</span>
<span class="cm">    ]</span>
<span class="cm">*/</span>
</code></pre></div>
<p><a name="method-search"></a></p>
<h4 class="collection-method" id="search"><code>search()</code><a class="headerlink" href="#search" title="Permanent link">&para;</a></h4>
<p><code>search</code>メソッドは、指定された値をコレクション内で検索し、見つかった場合はそのキーを返します。アイテムが見つからない場合は<code>false</code>を返します：</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">]);</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">search</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>

<span class="c1">// 1</span>
</code></pre></div>
<p>検索は「緩い」比較を使用して行われます。つまり、整数値を持つ文字列は、同じ値の整数と等しいと見なされます。「厳密な」比較を使用するには、メソッドの第二引数に<code>true</code>を渡します：</p>
<div class="highlight"><pre><span></span><code><span class="nx">collect</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">search</span><span class="p">(</span><span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="nx">strict</span><span class="o">:</span> <span class="k">true</span><span class="p">);</span>

<span class="c1">// false</span>
</code></pre></div>
<p>また、指定された真偽テストを通過する最初のアイテムを検索するために、独自のクロージャを提供することもできます：</p>
<div class="highlight"><pre><span></span><code><span class="nx">collect</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">search</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">int</span> <span class="nv">$item</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$item</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// 2</span>
</code></pre></div>
<p><a name="method-select"></a></p>
<h4 class="collection-method" id="select"><code>select()</code><a class="headerlink" href="#select" title="Permanent link">&para;</a></h4>
<p><code>select</code>メソッドは、SQLの<code>SELECT</code>文のように、指定されたキーをコレクションから選択します：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="nv">$users</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
<a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a>    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Taylor Otwell&#39;</span><span class="p">,</span> <span class="s1">&#39;role&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Developer&#39;</span><span class="p">,</span> <span class="s1">&#39;status&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;active&#39;</span><span class="p">],</span>
<a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a>    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Victoria Faith&#39;</span><span class="p">,</span> <span class="s1">&#39;role&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Researcher&#39;</span><span class="p">,</span> <span class="s1">&#39;status&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;active&#39;</span><span class="p">],</span>
<a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a><span class="p">]);</span>
<a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a>
<a id="__codelineno-56-6" name="__codelineno-56-6" href="#__codelineno-56-6"></a><span class="nv">$users</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">([</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;role&#39;</span><span class="p">]);</span>
<a id="__codelineno-56-7" name="__codelineno-56-7" href="#__codelineno-56-7"></a>
<a id="__codelineno-56-8" name="__codelineno-56-8" href="#__codelineno-56-8"></a><span class="cm">/*</span>
<a id="__codelineno-56-9" name="__codelineno-56-9" href="#__codelineno-56-9"></a><span class="cm">    [</span>
<a id="__codelineno-56-10" name="__codelineno-56-10" href="#__codelineno-56-10"></a><span class="cm">        [&#39;name&#39; =&gt; &#39;Taylor Otwell&#39;, &#39;role&#39; =&gt; &#39;Developer&#39;],</span>
<a id="__codelineno-56-11" name="__codelineno-56-11" href="#__codelineno-56-11"></a><span class="cm">        [&#39;name&#39; =&gt; &#39;Victoria Faith&#39;, &#39;role&#39; =&gt; &#39;Researcher&#39;],</span>
<a id="__codelineno-56-12" name="__codelineno-56-12" href="#__codelineno-56-12"></a><span class="cm">    ],</span>
<a id="__codelineno-56-13" name="__codelineno-56-13" href="#__codelineno-56-13"></a><span class="cm">*/</span>
</code></pre></div>
<p><a name="method-shift"></a></p>
<h4 class="collection-method" id="shift"><code>shift()</code><a class="headerlink" href="#shift" title="Permanent link">&para;</a></h4>
<p><code>shift</code>メソッドは、コレクションから最初のアイテムを削除して返します：</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]);</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">shift</span><span class="p">();</span>

<span class="c1">// 1</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [2, 3, 4, 5]</span>
</code></pre></div>
<p><code>shift</code>メソッドに整数を渡すことで、コレクションの先頭から複数のアイテムを削除して返すことができます：</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]);</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">shift</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>

<span class="c1">// collect([1, 2, 3])</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [4, 5]</span>
</code></pre></div>
<p><a name="method-shuffle"></a></p>
<h4 class="collection-method" id="shuffle"><code>shuffle()</code><a class="headerlink" href="#shuffle" title="Permanent link">&para;</a></h4>
<p><code>shuffle</code>メソッドは、コレクション内のアイテムをランダムにシャッフルします：</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]);</span>

<span class="nv">$shuffled</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">shuffle</span><span class="p">();</span>

<span class="nv">$shuffled</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [3, 2, 5, 1, 4] - (ランダムに生成)</span>
</code></pre></div>
<p><a name="method-skip"></a></p>
<h4 class="collection-method" id="skip"><code>skip()</code><a class="headerlink" href="#skip" title="Permanent link">&para;</a></h4>
<p><code>skip</code>メソッドは、指定された数の要素をコレクションの先頭から削除した新しいコレクションを返します：</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]);</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">skip</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [5, 6, 7, 8, 9, 10]</span>
</code></pre></div>
<p><a name="method-skipuntil"></a></p>
<h4 class="collection-method" id="skipuntil"><code>skipUntil()</code><a class="headerlink" href="#skipuntil" title="Permanent link">&para;</a></h4>
<p><code>skipUntil</code>メソッドは、指定されたクロージャが<code>true</code>を返すまでコレクションのアイテムをスキップし、残りのアイテムを新しいコレクションインスタンスとして返します：</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]);</span>

<span class="nv">$subset</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">skipUntil</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">int</span> <span class="nv">$item</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$item</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">;</span>
<span class="p">});</span>

<span class="nv">$subset</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [3, 4]</span>
</code></pre></div>
<p>また、指定された値が見つかるまですべてのアイテムをスキップするために、<code>skipUntil</code>メソッドに単純な値を渡すこともできます：</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]);</span>

<span class="nv">$subset</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">skipUntil</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>

<span class="nv">$subset</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [3, 4]</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>指定された値が見つからない場合、またはクロージャが<code>true</code>を返さない場合、<code>skipUntil</code>メソッドは空のコレクションを返します。</p>
</div>
<p><a name="method-skipwhile"></a></p>
<h4 class="collection-method" id="skipwhile"><code>skipWhile()</code><a class="headerlink" href="#skipwhile" title="Permanent link">&para;</a></h4>
<p><code>skipWhile</code>メソッドは、指定されたクロージャが<code>true</code>を返す間、コレクションのアイテムをスキップし、残りのアイテムを新しいコレクションとして返します：</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]);</span>

<span class="nv">$subset</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">skipWhile</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">int</span> <span class="nv">$item</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$item</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">;</span>
<span class="p">});</span>

<span class="nv">$subset</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [4]</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>クロージャが<code>false</code>を返さない場合、<code>skipWhile</code>メソッドは空のコレクションを返します。</p>
</div>
<p><a name="method-slice"></a></p>
<h4 class="collection-method" id="slice"><code>slice()</code><a class="headerlink" href="#slice" title="Permanent link">&para;</a></h4>
<p><code>slice</code>メソッドは、指定されたインデックスから始まるコレクションのスライスを返します：</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]);</span>

<span class="nv">$slice</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">slice</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>

<span class="nv">$slice</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [5, 6, 7, 8, 9, 10]</span>
</code></pre></div>
<p>返されるスライスのサイズを制限したい場合は、メソッドの第二引数に希望のサイズを渡します：</p>
<div class="highlight"><pre><span></span><code><span class="nv">$slice</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">slice</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>

<span class="nv">$slice</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [5, 6]</span>
</code></pre></div>
<p>返されるスライスはデフォルトでキーを保持します。元のキーを保持したくない場合は、<a href="#method-values"><code>values</code></a>メソッドを使用して再インデックスすることができます。</p>
<p><a name="method-sliding"></a></p>
<h4 class="collection-method" id="sliding"><code>sliding()</code><a class="headerlink" href="#sliding" title="Permanent link">&para;</a></h4>
<p><code>sliding</code>メソッドは、コレクション内のアイテムの「スライディングウィンドウ」ビューを表すチャンクの新しいコレクションを返します：</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]);</span>

<span class="nv">$chunks</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sliding</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>

<span class="nv">$chunks</span><span class="o">-&gt;</span><span class="na">toArray</span><span class="p">();</span>

<span class="c1">// [[1, 2], [2, 3], [3, 4], [4, 5]]</span>
</code></pre></div>
<p>これは特に<a href="#method-eachspread"><code>eachSpread</code></a>メソッドと組み合わせて使用する場合に便利です：</p>
<div class="highlight"><pre><span></span><code><span class="nv">$transactions</span><span class="o">-&gt;</span><span class="na">sliding</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">eachSpread</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">Collection</span> <span class="nv">$previous</span><span class="p">,</span> <span class="nx">Collection</span> <span class="nv">$current</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$current</span><span class="o">-&gt;</span><span class="na">total</span> <span class="o">=</span> <span class="nv">$previous</span><span class="o">-&gt;</span><span class="na">total</span> <span class="o">+</span> <span class="nv">$current</span><span class="o">-&gt;</span><span class="na">amount</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>
<p>オプションで、各チャンクの最初のアイテム間の距離を決定する「ステップ」値を第二引数に渡すこともできます：</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]);</span>

<span class="nv">$chunks</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sliding</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="nx">step</span><span class="o">:</span> <span class="mi">2</span><span class="p">);</span>

<span class="nv">$chunks</span><span class="o">-&gt;</span><span class="na">toArray</span><span class="p">();</span>

<span class="c1">// [[1, 2, 3], [3, 4, 5]]</span>
</code></pre></div>
<p><a name="method-sole"></a></p>
<h4 class="collection-method" id="sole"><code>sole()</code><a class="headerlink" href="#sole" title="Permanent link">&para;</a></h4>
<p><code>sole</code>メソッドは、指定された真偽テストを通過するコレクション内の最初の要素を返しますが、真偽テストが正確に1つの要素に一致する場合に限ります：</p>
<div class="highlight"><pre><span></span><code><span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">sole</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">int</span> <span class="nv">$value</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$value</span> <span class="o">===</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// 2</span>
</code></pre></div>
<p><code>sole</code>メソッドにキー/値のペアを渡すこともできます。これにより、指定されたペアに完全に一致する最初の要素が返されますが、一致する要素がちょうど1つの場合に限ります。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="p">[</span><span class="s1">&#39;product&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Desk&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mi">200</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;product&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Chair&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">],</span>
<span class="p">]);</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sole</span><span class="p">(</span><span class="s1">&#39;product&#39;</span><span class="p">,</span> <span class="s1">&#39;Chair&#39;</span><span class="p">);</span>

<span class="c1">// [&#39;product&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100]</span>
</code></pre></div>
<p>また、引数なしで<code>sole</code>メソッドを呼び出して、コレクション内に要素が1つしかない場合に最初の要素を取得することもできます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="p">[</span><span class="s1">&#39;product&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Desk&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mi">200</span><span class="p">],</span>
<span class="p">]);</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sole</span><span class="p">();</span>

<span class="c1">// [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200]</span>
</code></pre></div>
<p><code>sole</code>メソッドによって返されるべき要素がコレクション内に存在しない場合、<code>\Illuminate\Collections\ItemNotFoundException</code>例外がスローされます。返されるべき要素が複数存在する場合は、<code>\Illuminate\Collections\MultipleItemsFoundException</code>がスローされます。</p>
<p><a name="method-some"></a></p>
<h4 class="collection-method" id="some"><code>some()</code><a class="headerlink" href="#some" title="Permanent link">&para;</a></h4>
<p><a href="#method-contains"><code>contains</code></a>メソッドのエイリアスです。</p>
<p><a name="method-sort"></a></p>
<h4 class="collection-method" id="sort"><code>sort()</code><a class="headerlink" href="#sort" title="Permanent link">&para;</a></h4>
<p><code>sort</code>メソッドはコレクションをソートします。ソートされたコレクションは元の配列のキーを保持するため、以下の例では<a href="#method-values"><code>values</code></a>メソッドを使用してキーを連続した番号のインデックスにリセットしています。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]);</span>

<span class="nv">$sorted</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sort</span><span class="p">();</span>

<span class="nv">$sorted</span><span class="o">-&gt;</span><span class="na">values</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [1, 2, 3, 4, 5]</span>
</code></pre></div>
<p>より高度なソートが必要な場合、独自のアルゴリズムを使用して<code>sort</code>にコールバックを渡すことができます。コレクションの<code>sort</code>メソッドが内部的に利用している<a href="https://secure.php.net/manual/en/function.uasort.php#refsect1-function.uasort-parameters"><code>uasort</code></a>に関するPHPドキュメントを参照してください。</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>ネストされた配列やオブジェクトのコレクションをソートする必要がある場合は、<a href="#method-sortby"><code>sortBy</code></a>および<a href="#method-sortbydesc"><code>sortByDesc</code></a>メソッドを参照してください。</p>
</div>
<p><a name="method-sortby"></a></p>
<h4 class="collection-method" id="sortby"><code>sortBy()</code><a class="headerlink" href="#sortby" title="Permanent link">&para;</a></h4>
<p><code>sortBy</code>メソッドは指定されたキーでコレクションをソートします。ソートされたコレクションは元の配列のキーを保持するため、以下の例では<a href="#method-values"><code>values</code></a>メソッドを使用してキーを連続した番号のインデックスにリセットしています。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Desk&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mi">200</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Chair&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Bookcase&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mi">150</span><span class="p">],</span>
<span class="p">]);</span>

<span class="nv">$sorted</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sortBy</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">);</span>

<span class="nv">$sorted</span><span class="o">-&gt;</span><span class="na">values</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="cm">/*</span>
<span class="cm">    [</span>
<span class="cm">        [&#39;name&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100],</span>
<span class="cm">        [&#39;name&#39; =&gt; &#39;Bookcase&#39;, &#39;price&#39; =&gt; 150],</span>
<span class="cm">        [&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200],</span>
<span class="cm">    ]</span>
<span class="cm">*/</span>
</code></pre></div>
<p><code>sortBy</code>メソッドは、2番目の引数として<a href="https://www.php.net/manual/en/function.sort.php">ソートフラグ</a>を受け取ります。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="p">[</span><span class="s1">&#39;title&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Item 1&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;title&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Item 12&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;title&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Item 3&#39;</span><span class="p">],</span>
<span class="p">]);</span>

<span class="nv">$sorted</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sortBy</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="nx">SORT_NATURAL</span><span class="p">);</span>

<span class="nv">$sorted</span><span class="o">-&gt;</span><span class="na">values</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="cm">/*</span>
<span class="cm">    [</span>
<span class="cm">        [&#39;title&#39; =&gt; &#39;Item 1&#39;],</span>
<span class="cm">        [&#39;title&#39; =&gt; &#39;Item 3&#39;],</span>
<span class="cm">        [&#39;title&#39; =&gt; &#39;Item 12&#39;],</span>
<span class="cm">    ]</span>
<span class="cm">*/</span>
</code></pre></div>
<p>また、コレクションの値をどのようにソートするかを決定する独自のクロージャを渡すこともできます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Desk&#39;</span><span class="p">,</span> <span class="s1">&#39;colors&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;Black&#39;</span><span class="p">,</span> <span class="s1">&#39;Mahogany&#39;</span><span class="p">]],</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Chair&#39;</span><span class="p">,</span> <span class="s1">&#39;colors&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;Black&#39;</span><span class="p">]],</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Bookcase&#39;</span><span class="p">,</span> <span class="s1">&#39;colors&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;Red&#39;</span><span class="p">,</span> <span class="s1">&#39;Beige&#39;</span><span class="p">,</span> <span class="s1">&#39;Brown&#39;</span><span class="p">]],</span>
<span class="p">]);</span>

<span class="nv">$sorted</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sortBy</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="k">array</span> <span class="nv">$product</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$product</span><span class="p">[</span><span class="s1">&#39;colors&#39;</span><span class="p">]);</span>
<span class="p">});</span>

<span class="nv">$sorted</span><span class="o">-&gt;</span><span class="na">values</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="cm">/*</span>
<span class="cm">    [</span>
<span class="cm">        [&#39;name&#39; =&gt; &#39;Chair&#39;, &#39;colors&#39; =&gt; [&#39;Black&#39;]],</span>
<span class="cm">        [&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;colors&#39; =&gt; [&#39;Black&#39;, &#39;Mahogany&#39;]],</span>
<span class="cm">        [&#39;name&#39; =&gt; &#39;Bookcase&#39;, &#39;colors&#39; =&gt; [&#39;Red&#39;, &#39;Beige&#39;, &#39;Brown&#39;]],</span>
<span class="cm">    ]</span>
<span class="cm">*/</span>
</code></pre></div>
<p>複数の属性でコレクションをソートしたい場合、<code>sortBy</code>メソッドにソート操作の配列を渡すことができます。各ソート操作は、ソートしたい属性と希望するソートの方向を含む配列である必要があります。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Taylor Otwell&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">34</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Abigail Otwell&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Taylor Otwell&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">36</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Abigail Otwell&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">32</span><span class="p">],</span>
<span class="p">]);</span>

<span class="nv">$sorted</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sortBy</span><span class="p">([</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;asc&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;desc&#39;</span><span class="p">],</span>
<span class="p">]);</span>

<span class="nv">$sorted</span><span class="o">-&gt;</span><span class="na">values</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="cm">/*</span>
<span class="cm">    [</span>
<span class="cm">        [&#39;name&#39; =&gt; &#39;Abigail Otwell&#39;, &#39;age&#39; =&gt; 32],</span>
<span class="cm">        [&#39;name&#39; =&gt; &#39;Abigail Otwell&#39;, &#39;age&#39; =&gt; 30],</span>
<span class="cm">        [&#39;name&#39; =&gt; &#39;Taylor Otwell&#39;, &#39;age&#39; =&gt; 36],</span>
<span class="cm">        [&#39;name&#39; =&gt; &#39;Taylor Otwell&#39;, &#39;age&#39; =&gt; 34],</span>
<span class="cm">    ]</span>
<span class="cm">*/</span>
</code></pre></div>
<p>複数の属性でコレクションをソートする場合、各ソート操作を定義するクロージャを提供することもできます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Taylor Otwell&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">34</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Abigail Otwell&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Taylor Otwell&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">36</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Abigail Otwell&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">32</span><span class="p">],</span>
<span class="p">]);</span>

<span class="nv">$sorted</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sortBy</span><span class="p">([</span>
    <span class="nx">fn</span> <span class="p">(</span><span class="k">array</span> <span class="nv">$a</span><span class="p">,</span> <span class="k">array</span> <span class="nv">$b</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nv">$a</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">&lt;=&gt;</span> <span class="nv">$b</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
    <span class="nx">fn</span> <span class="p">(</span><span class="k">array</span> <span class="nv">$a</span><span class="p">,</span> <span class="k">array</span> <span class="nv">$b</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nv">$b</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span> <span class="o">&lt;=&gt;</span> <span class="nv">$a</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">],</span>
<span class="p">]);</span>

<span class="nv">$sorted</span><span class="o">-&gt;</span><span class="na">values</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="cm">/*</span>
<span class="cm">    [</span>
<span class="cm">        [&#39;name&#39; =&gt; &#39;Abigail Otwell&#39;, &#39;age&#39; =&gt; 32],</span>
<span class="cm">        [&#39;name&#39; =&gt; &#39;Abigail Otwell&#39;, &#39;age&#39; =&gt; 30],</span>
<span class="cm">        [&#39;name&#39; =&gt; &#39;Taylor Otwell&#39;, &#39;age&#39; =&gt; 36],</span>
<span class="cm">        [&#39;name&#39; =&gt; &#39;Taylor Otwell&#39;, &#39;age&#39; =&gt; 34],</span>
<span class="cm">    ]</span>
<span class="cm">*/</span>
</code></pre></div>
<p><a name="method-sortbydesc"></a></p>
<h4 class="collection-method" id="sortbydesc"><code>sortByDesc()</code><a class="headerlink" href="#sortbydesc" title="Permanent link">&para;</a></h4>
<p>このメソッドは<a href="#method-sortby"><code>sortBy</code></a>メソッドと同じシグネチャを持ちますが、コレクションを逆順にソートします。</p>
<p><a name="method-sortdesc"></a></p>
<h4 class="collection-method" id="sortdesc"><code>sortDesc()</code><a class="headerlink" href="#sortdesc" title="Permanent link">&para;</a></h4>
<p>このメソッドは<a href="#method-sort"><code>sort</code></a>メソッドとは逆の順序でコレクションをソートします。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]);</span>

<span class="nv">$sorted</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sortDesc</span><span class="p">();</span>

<span class="nv">$sorted</span><span class="o">-&gt;</span><span class="na">values</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [5, 4, 3, 2, 1]</span>
</code></pre></div>
<p><code>sort</code>とは異なり、クロージャを<code>sortDesc</code>に渡すことはできません。代わりに、<a href="#method-sort"><code>sort</code></a>メソッドを使用し、比較を反転させる必要があります。</p>
<p><a name="method-sortkeys"></a></p>
<h4 class="collection-method" id="sortkeys"><code>sortKeys()</code><a class="headerlink" href="#sortkeys" title="Permanent link">&para;</a></h4>
<p><code>sortKeys</code>メソッドは、基礎となる連想配列のキーでコレクションをソートします。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">22345</span><span class="p">,</span>
    <span class="s1">&#39;first&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;John&#39;</span><span class="p">,</span>
    <span class="s1">&#39;last&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Doe&#39;</span><span class="p">,</span>
<span class="p">]);</span>

<span class="nv">$sorted</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sortKeys</span><span class="p">();</span>

<span class="nv">$sorted</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="cm">/*</span>
<span class="cm">    [</span>
<span class="cm">        &#39;first&#39; =&gt; &#39;John&#39;,</span>
<span class="cm">        &#39;id&#39; =&gt; 22345,</span>
<span class="cm">        &#39;last&#39; =&gt; &#39;Doe&#39;,</span>
<span class="cm">    ]</span>
<span class="cm">*/</span>
</code></pre></div>
<p><a name="method-sortkeysdesc"></a></p>
<h4 class="collection-method" id="sortkeysdesc"><code>sortKeysDesc()</code><a class="headerlink" href="#sortkeysdesc" title="Permanent link">&para;</a></h4>
<p>このメソッドは<a href="#method-sortkeys"><code>sortKeys</code></a>メソッドと同じシグネチャを持ちますが、コレクションを逆順にソートします。</p>
<p><a name="method-sortkeysusing"></a></p>
<h4 class="collection-method" id="sortkeysusing"><code>sortKeysUsing()</code><a class="headerlink" href="#sortkeysusing" title="Permanent link">&para;</a></h4>
<p><code>sortKeysUsing</code>メソッドは、コールバックを使用して基礎となる連想配列のキーでコレクションをソートします。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="s1">&#39;ID&#39;</span> <span class="o">=&gt;</span> <span class="mi">22345</span><span class="p">,</span>
    <span class="s1">&#39;first&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;John&#39;</span><span class="p">,</span>
    <span class="s1">&#39;last&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Doe&#39;</span><span class="p">,</span>
<span class="p">]);</span>

<span class="nv">$sorted</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sortKeysUsing</span><span class="p">(</span><span class="s1">&#39;strnatcasecmp&#39;</span><span class="p">);</span>

<span class="nv">$sorted</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="cm">/*</span>
<span class="cm">    [</span>
<span class="cm">        &#39;first&#39; =&gt; &#39;John&#39;,</span>
<span class="cm">        &#39;ID&#39; =&gt; 22345,</span>
<span class="cm">        &#39;last&#39; =&gt; &#39;Doe&#39;,</span>
<span class="cm">    ]</span>
<span class="cm">*/</span>
</code></pre></div>
<p>コールバックは、ゼロ未満、ゼロ、またはゼロより大きい整数を返す比較関数である必要があります。詳細については、<code>sortKeysUsing</code>メソッドが内部的に利用しているPHPの<a href="https://www.php.net/manual/en/function.uksort.php#refsect1-function.uksort-parameters"><code>uksort</code></a>に関するドキュメントを参照してください。</p>
<p><a name="method-splice"></a></p>
<h4 class="collection-method" id="splice"><code>splice()</code><a class="headerlink" href="#splice" title="Permanent link">&para;</a></h4>
<p><code>splice</code>メソッドは、指定されたインデックスから始まるアイテムのスライスを削除して返します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]);</span>

<span class="nv">$chunk</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">splice</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>

<span class="nv">$chunk</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [3, 4, 5]</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [1, 2]</span>
</code></pre></div>
<p>結果のコレクションのサイズを制限するために、2番目の引数を渡すことができます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]);</span>

<span class="nv">$chunk</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">splice</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

<span class="nv">$chunk</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [3]</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [1, 2, 4, 5]</span>
</code></pre></div>
<p>さらに、コレクションから削除されたアイテムを置き換える新しいアイテムを含む3番目の引数を渡すことができます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]);</span>

<span class="nv">$chunk</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">splice</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">]);</span>

<span class="nv">$chunk</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [3]</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [1, 2, 10, 11, 4, 5]</span>
</code></pre></div>
<p><a name="method-split"></a></p>
<h4 class="collection-method" id="split"><code>split()</code><a class="headerlink" href="#split" title="Permanent link">&para;</a></h4>
<p><code>split</code>メソッドは、コレクションを指定された数のグループに分割します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]);</span>

<span class="nv">$groups</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">split</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>

<span class="nv">$groups</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [[1, 2], [3, 4], [5]]</span>
</code></pre></div>
<p><a name="method-splitin"></a></p>
<h4 class="collection-method" id="splitin"><code>splitIn()</code><a class="headerlink" href="#splitin" title="Permanent link">&para;</a></h4>
<p><code>splitIn</code>メソッドは、コレクションを指定された数のグループに分割します。最後のグループに残りを割り当てる前に、非終端グループを完全に埋めます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]);</span>

<span class="nv">$groups</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">splitIn</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>

<span class="nv">$groups</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [[1, 2, 3, 4], [5, 6, 7, 8], [9, 10]]</span>
</code></pre></div>
<p><a name="method-sum"></a></p>
<h4 class="collection-method" id="sum"><code>sum()</code><a class="headerlink" href="#sum" title="Permanent link">&para;</a></h4>
<p><code>sum</code>メソッドは、コレクション内のすべてのアイテムの合計を返します。</p>
<div class="highlight"><pre><span></span><code><span class="nx">collect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">sum</span><span class="p">();</span>

<span class="c1">// 15</span>
</code></pre></div>
<p>コレクションにネストされた配列やオブジェクトが含まれている場合、合計する値を決定するためにキーを渡す必要があります。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;JavaScript: The Good Parts&#39;</span><span class="p">,</span> <span class="s1">&#39;pages&#39;</span> <span class="o">=&gt;</span> <span class="mi">176</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;JavaScript: The Definitive Guide&#39;</span><span class="p">,</span> <span class="s1">&#39;pages&#39;</span> <span class="o">=&gt;</span> <span class="mi">1096</span><span class="p">],</span>
<span class="p">]);</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">sum</span><span class="p">(</span><span class="s1">&#39;pages&#39;</span><span class="p">);</span>

<span class="c1">// 1272</span>
</code></pre></div>
<p>```

さらに、コレクションのどの値を合計するかを決定するために、独自のクロージャを渡すこともできます。

    $collection = collect([
        ['name' =&gt; 'Chair', 'colors' =&gt; ['Black']],
        ['name' =&gt; 'Desk', 'colors' =&gt; ['Black', 'Mahogany']],
        ['name' =&gt; 'Bookcase', 'colors' =&gt; ['Red', 'Beige', 'Brown']],
    ]);

    $collection-&gt;sum(function (array $product) {
        return count($product['colors']);
    });

    // 6

<a name="method-take"></a></p>
<h4 class="collection-method" id="take"><code>take()</code><a class="headerlink" href="#take" title="Permanent link">&para;</a></h4>
<p><code>take</code>メソッドは、指定された数のアイテムを持つ新しいコレクションを返します。

    $collection = collect([0, 1, 2, 3, 4, 5]);

    $chunk = $collection-&gt;take(3);

    $chunk-&gt;all();

    // [0, 1, 2]

また、負の整数を渡して、コレクションの末尾から指定された数のアイテムを取得することもできます。

    $collection = collect([0, 1, 2, 3, 4, 5]);

    $chunk = $collection-&gt;take(-2);

    $chunk-&gt;all();

    // [4, 5]

<a name="method-takeuntil"></a></p>
<h4 class="collection-method" id="takeuntil"><code>takeUntil()</code><a class="headerlink" href="#takeuntil" title="Permanent link">&para;</a></h4>
<p><code>takeUntil</code>メソッドは、指定されたコールバックが<code>true</code>を返すまでコレクション内のアイテムを返します。

    $collection = collect([1, 2, 3, 4]);

    $subset = $collection-&gt;takeUntil(function (int $item) {
        return $item &gt;= 3;
    });

    $subset-&gt;all();

    // [1, 2]

また、<code>takeUntil</code>メソッドに単純な値を渡して、指定された値が見つかるまでアイテムを取得することもできます。

    $collection = collect([1, 2, 3, 4]);

    $subset = $collection-&gt;takeUntil(3);

    $subset-&gt;all();

    // [1, 2]

</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>指定された値が見つからない場合、またはコールバックが<code>true</code>を返さない場合、<code>takeUntil</code>メソッドはコレクション内のすべてのアイテムを返します。</p>
<p><a name="method-takewhile"></a></p>
</div>
<h4 class="collection-method" id="takewhile"><code>takeWhile()</code><a class="headerlink" href="#takewhile" title="Permanent link">&para;</a></h4>
<p><code>takeWhile</code>メソッドは、指定されたコールバックが<code>false</code>を返すまでコレクション内のアイテムを返します。

    $collection = collect([1, 2, 3, 4]);

    $subset = $collection-&gt;takeWhile(function (int $item) {
        return $item &lt; 3;
    });

    $subset-&gt;all();

    // [1, 2]

</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>コールバックが<code>false</code>を返さない場合、<code>takeWhile</code>メソッドはコレクション内のすべてのアイテムを返します。</p>
<p><a name="method-tap"></a></p>
</div>
<h4 class="collection-method" id="tap"><code>tap()</code><a class="headerlink" href="#tap" title="Permanent link">&para;</a></h4>
<p><code>tap</code>メソッドは、指定されたコールバックにコレクションを渡し、コレクションの特定のポイントでアイテムを操作できるようにしますが、コレクション自体には影響を与えません。その後、<code>tap</code>メソッドによってコレクションが返されます。

    collect([2, 4, 3, 1, 5])
        -&gt;sort()
        -&gt;tap(function (Collection $collection) {
            Log::debug('Values after sorting', $collection-&gt;values()-&gt;all());
        })
        -&gt;shift();

    // 1

<a name="method-times"></a></p>
<h4 class="collection-method" id="times"><code>times()</code><a class="headerlink" href="#times" title="Permanent link">&para;</a></h4>
<p>静的な<code>times</code>メソッドは、指定された回数だけ指定されたクロージャを呼び出すことで、新しいコレクションを作成します。

    $collection = Collection::times(10, function (int $number) {
        return $number * 9;
    });

    $collection-&gt;all();

    // [9, 18, 27, 36, 45, 54, 63, 72, 81, 90]

<a name="method-toarray"></a></p>
<h4 class="collection-method" id="toarray"><code>toArray()</code><a class="headerlink" href="#toarray" title="Permanent link">&para;</a></h4>
<p><code>toArray</code>メソッドは、コレクションをプレーンなPHPの<code>array</code>に変換します。コレクションの値が<a href="eloquent.html">Eloquent</a>モデルの場合、モデルも配列に変換されます。

    $collection = collect(['name' =&gt; 'Desk', 'price' =&gt; 200]);

    $collection-&gt;toArray();

    /<em>
        [
            ['name' =&gt; 'Desk', 'price' =&gt; 200],
        ]
    </em>/

</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code>toArray</code>は、コレクションのすべてのネストされたオブジェクトを<code>Arrayable</code>のインスタンスである場合に配列に変換します。コレクションの基になる生の配列を取得したい場合は、代わりに<a href="#method-all"><code>all</code></a>メソッドを使用してください。</p>
<p><a name="method-tojson"></a></p>
</div>
<h4 class="collection-method" id="tojson"><code>toJson()</code><a class="headerlink" href="#tojson" title="Permanent link">&para;</a></h4>
<p><code>toJson</code>メソッドは、コレクションをJSONシリアライズされた文字列に変換します。

    $collection = collect(['name' =&gt; 'Desk', 'price' =&gt; 200]);

    $collection-&gt;toJson();

    // '{"name":"Desk", "price":200}'

<a name="method-transform"></a></p>
<h4 class="collection-method" id="transform"><code>transform()</code><a class="headerlink" href="#transform" title="Permanent link">&para;</a></h4>
<p><code>transform</code>メソッドは、コレクションを反復処理し、指定されたコールバックをコレクション内の各アイテムに対して呼び出します。コレクション内のアイテムは、コールバックによって返される値に置き換えられます。

    $collection = collect([1, 2, 3, 4, 5]);

    $collection-&gt;transform(function (int $item, int $key) {
        return $item * 2;
    });

    $collection-&gt;all();

    // [2, 4, 6, 8, 10]

</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>他のほとんどのコレクションメソッドとは異なり、<code>transform</code>はコレクション自体を変更します。新しいコレクションを作成したい場合は、代わりに<a href="#method-map"><code>map</code></a>メソッドを使用してください。</p>
<p><a name="method-undot"></a></p>
</div>
<h4 class="collection-method" id="undot"><code>undot()</code><a class="headerlink" href="#undot" title="Permanent link">&para;</a></h4>
<p><code>undot</code>メソッドは、"ドット"記法を使用した単一の次元のコレクションを多次元のコレクションに展開します。

    $person = collect([
        'name.first_name' =&gt; 'Marie',
        'name.last_name' =&gt; 'Valentine',
        'address.line_1' =&gt; '2992 Eagle Drive',
        'address.line_2' =&gt; '',
        'address.suburb' =&gt; 'Detroit',
        'address.state' =&gt; 'MI',
        'address.postcode' =&gt; '48219'
    ]);

    $person = $person-&gt;undot();

    $person-&gt;toArray();

    /<em>
        [
            "name" =&gt; [
                "first_name" =&gt; "Marie",
                "last_name" =&gt; "Valentine",
            ],
            "address" =&gt; [
                "line_1" =&gt; "2992 Eagle Drive",
                "line_2" =&gt; "",
                "suburb" =&gt; "Detroit",
                "state" =&gt; "MI",
                "postcode" =&gt; "48219",
            ],
        ]
    </em>/

<a name="method-union"></a></p>
<h4 class="collection-method" id="union"><code>union()</code><a class="headerlink" href="#union" title="Permanent link">&para;</a></h4>
<p><code>union</code>メソッドは、指定された配列をコレクションに追加します。指定された配列に元のコレクションに既に存在するキーが含まれている場合、元のコレクションの値が優先されます。

    $collection = collect([1 =&gt; ['a'], 2 =&gt; ['b']]);

    $union = $collection-&gt;union([3 =&gt; ['c'], 1 =&gt; ['d']]);

    $union-&gt;all();

    // [1 =&gt; ['a'], 2 =&gt; ['b'], 3 =&gt; ['c']]

<a name="method-unique"></a></p>
<h4 class="collection-method" id="unique"><code>unique()</code><a class="headerlink" href="#unique" title="Permanent link">&para;</a></h4>
<p><code>unique</code>メソッドは、コレクション内のすべての一意のアイテムを返します。返されるコレクションは元の配列のキーを保持するため、次の例では<a href="#method-values"><code>values</code></a>メソッドを使用してキーを連続した番号のインデックスにリセットしています。

    $collection = collect([1, 1, 2, 2, 3, 4, 2]);

    $unique = $collection-&gt;unique();

    $unique-&gt;values()-&gt;all();

    // [1, 2, 3, 4]

ネストされた配列やオブジェクトを扱う場合、一意性を決定するために使用するキーを指定できます。

    $collection = collect([
        ['name' =&gt; 'iPhone 6', 'brand' =&gt; 'Apple', 'type' =&gt; 'phone'],
        ['name' =&gt; 'iPhone 5', 'brand' =&gt; 'Apple', 'type' =&gt; 'phone'],
        ['name' =&gt; 'Apple Watch', 'brand' =&gt; 'Apple', 'type' =&gt; 'watch'],
        ['name' =&gt; 'Galaxy S6', 'brand' =&gt; 'Samsung', 'type' =&gt; 'phone'],
        ['name' =&gt; 'Galaxy Gear', 'brand' =&gt; 'Samsung', 'type' =&gt; 'watch'],
    ]);

    $unique = $collection-&gt;unique('brand');

    $unique-&gt;values()-&gt;all();

    /<em>
        [
            ['name' =&gt; 'iPhone 6', 'brand' =&gt; 'Apple', 'type' =&gt; 'phone'],
            ['name' =&gt; 'Galaxy S6', 'brand' =&gt; 'Samsung', 'type' =&gt; 'phone'],
        ]
    </em>/

最後に、アイテムの一意性を決定する値を指定するために、独自のクロージャを<code>unique</code>メソッドに渡すこともできます。

    $unique = $collection-&gt;unique(function (array $item) {
        return $item['brand'].$item['type'];
    });

    $unique-&gt;values()-&gt;all();

    /<em>
        [
            ['name' =&gt; 'iPhone 6', 'brand' =&gt; 'Apple', 'type' =&gt; 'phone'],
            ['name' =&gt; 'Apple Watch', 'brand' =&gt; 'Apple', 'type' =&gt; 'watch'],
            ['name' =&gt; 'Galaxy S6', 'brand' =&gt; 'Samsung', 'type' =&gt; 'phone'],
            ['name' =&gt; 'Galaxy Gear', 'brand' =&gt; 'Samsung', 'type' =&gt; 'watch'],
        ]
    </em>/

<code>unique</code>メソッドは、アイテムの値をチェックする際に"緩い"比較を使用します。つまり、整数値を持つ文字列は、同じ値の整数と等しいと見なされます。"厳密な"比較を使用してフィルタリングするには、<a href="#method-uniquestrict"><code>uniqueStrict</code></a>メソッドを使用してください。

</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>このメソッドの動作は、<a href="eloquent-collections.html#method-unique">Eloquentコレクション</a>を使用する際に変更されます。</p>
<p><a name="method-uniquestrict"></a></p>
</div>
<h4 class="collection-method" id="uniquestrict"><code>uniqueStrict()</code><a class="headerlink" href="#uniquestrict" title="Permanent link">&para;</a></h4>
<p>このメソッドは、<a href="#method-unique"><code>unique</code></a>メソッドと同じシグネチャを持ちます。ただし、すべての値は"厳密な"比較を使用して比較されます。

<a name="method-unless"></a></p>
<h4 class="collection-method" id="unless"><code>unless()</code><a class="headerlink" href="#unless" title="Permanent link">&para;</a></h4>
<p><code>unless</code>メソッドは、メソッドに与えられた最初の引数が<code>true</code>と評価されない限り、指定されたコールバックを実行します。

    $collection = collect([1, 2, 3]);

    $collection-&gt;unless(true, function (Collection $collection) {
        return $collection-&gt;push(4);
    });

    $collection-&gt;unless(false, function (Collection $collection) {
        return $collection-&gt;push(5);
    });

    $collection-&gt;all();

    // [1, 2, 3, 5]

<code>unless</code>メソッドには、2番目のコールバックを渡すこともできます。2番目のコールバックは、<code>unless</code>メソッドに与えられた最初の引数が<code>true</code>と評価された場合に実行されます。

    $collection = collect([1, 2, 3]);

    $collection-&gt;unless(true, function (Collection $collection) {
        return $collection-&gt;push(4);
    }, function (Collection $collection) {
        return $collection-&gt;push(5);
    });

    $collection-&gt;all();

    // [1, 2, 3, 5]

<code>unless</code>の逆の動作については、<a href="#method-when"><code>when</code></a>メソッドを参照してください。

<a name="method-unlessempty"></a></p>
<h4 class="collection-method" id="unlessempty"><code>unlessEmpty()</code><a class="headerlink" href="#unlessempty" title="Permanent link">&para;</a></h4>
<p><a href="#method-whennotempty"><code>whenNotEmpty</code></a>メソッドのエイリアスです。

<a name="method-unlessnotempty"></a></p>
<h4 class="collection-method" id="unlessnotempty"><code>unlessNotEmpty()</code><a class="headerlink" href="#unlessnotempty" title="Permanent link">&para;</a></h4>
<p><a href="#method-whenempty"><code>whenEmpty</code></a>メソッドのエイリアスです。

<a name="method-unwrap"></a></p>
<h4 class="collection-method" id="unwrap"><code>unwrap()</code><a class="headerlink" href="#unwrap" title="Permanent link">&para;</a></h4>
<p>静的な<code>unwrap</code>メソッドは、適用可能な場合に、指定された値からコレクションの基になるアイテムを返します。

    Collection::unwrap(collect('John Doe'));

    // ['John Doe']

    Collection::unwrap(['John Doe']);

    // ['John Doe']

    Collection::unwrap('John Doe');

    // 'John Doe'

<a name="method-value"></a></p>
<h4 class="collection-method" id="value"><code>value()</code><a class="headerlink" href="#value" title="Permanent link">&para;</a></h4>
<p><code>value</code>メソッドは、コレクションの最初の要素から指定された値を取得します。

    $collection = collect([
        ['product' =&gt; 'Desk', 'price' =&gt; 200],
        ['product' =&gt; 'Speaker', 'price' =&gt; 400],
    ]);

    $value = $collection-&gt;value('price');

    // 200

<a name="method-values"></a></p>
<h4 class="collection-method" id="values"><code>values()</code><a class="headerlink" href="#values" title="Permanent link">&para;</a></h4>
<p><code>values</code>メソッドは、キーが連続した整数にリセットされた新しいコレクションを返します。

    $collection = collect([
        10 =&gt; ['product' =&gt; 'Desk', 'price' =&gt; 200],
        11 =&gt; ['product' =&gt; 'Desk', 'price' =&gt; 200],
    ]);

    $values = $collection-&gt;values();

    $values-&gt;all();

    /<em>
        [
            0 =&gt; ['product' =&gt; 'Desk', 'price' =&gt; 200],
            1 =&gt; ['product' =&gt; 'Desk', 'price' =&gt; 200],
        ]
    </em>/

<a name="method-when"></a></p>
<h4 class="collection-method" id="when"><code>when()</code><a class="headerlink" href="#when" title="Permanent link">&para;</a></h4>
<p><code>when</code>メソッドは、メソッドに渡された最初の引数が<code>true</code>と評価された場合、指定されたコールバックを実行します。コレクションインスタンスと<code>when</code>メソッドに渡された最初の引数がクロージャに提供されます。

    $collection = collect([1, 2, 3]);

    $collection-&gt;when(true, function (Collection $collection, int $value) {
        return $collection-&gt;push(4);
    });

    $collection-&gt;when(false, function (Collection $collection, int $value) {
        return $collection-&gt;push(5);
    });

    $collection-&gt;all();

    // [1, 2, 3, 4]

<code>when</code>メソッドには、2番目のコールバックを渡すこともできます。この2番目のコールバックは、<code>when</code>メソッドに渡された最初の引数が<code>false</code>と評価された場合に実行されます。

    $collection = collect([1, 2, 3]);

    $collection-&gt;when(false, function (Collection $collection, int $value) {
        return $collection-&gt;push(4);
    }, function (Collection $collection) {
        return $collection-&gt;push(5);
    });

    $collection-&gt;all();

    // [1, 2, 3, 5]

<code>when</code>の逆の動作については、<a href="#method-unless"><code>unless</code></a>メソッドを参照してください。

<a name="method-whenempty"></a></p>
<h4 class="collection-method" id="whenempty"><code>whenEmpty()</code><a class="headerlink" href="#whenempty" title="Permanent link">&para;</a></h4>
<p><code>whenEmpty</code>メソッドは、コレクションが空の場合に指定されたコールバックを実行します。

    $collection = collect(['Michael', 'Tom']);

    $collection-&gt;whenEmpty(function (Collection $collection) {
        return $collection-&gt;push('Adam');
    });

    $collection-&gt;all();

    // ['Michael', 'Tom']


    $collection = collect();

    $collection-&gt;whenEmpty(function (Collection $collection) {
        return $collection-&gt;push('Adam');
    });

    $collection-&gt;all();

    // ['Adam']

<code>whenEmpty</code>メソッドには、2番目のクロージャを渡すこともできます。この2番目のクロージャは、コレクションが空でない場合に実行されます。

    $collection = collect(['Michael', 'Tom']);

    $collection-&gt;whenEmpty(function (Collection $collection) {
        return $collection-&gt;push('Adam');
    }, function (Collection $collection) {
        return $collection-&gt;push('Taylor');
    });

    $collection-&gt;all();

    // ['Michael', 'Tom', 'Taylor']

<code>whenEmpty</code>の逆の動作については、<a href="#method-whennotempty"><code>whenNotEmpty</code></a>メソッドを参照してください。

<a name="method-whennotempty"></a></p>
<h4 class="collection-method" id="whennotempty"><code>whenNotEmpty()</code><a class="headerlink" href="#whennotempty" title="Permanent link">&para;</a></h4>
<p><code>whenNotEmpty</code>メソッドは、コレクションが空でない場合に指定されたコールバックを実行します。

    $collection = collect(['michael', 'tom']);

    $collection-&gt;whenNotEmpty(function (Collection $collection) {
        return $collection-&gt;push('adam');
    });

    $collection-&gt;all();

    // ['michael', 'tom', 'adam']


    $collection = collect();

    $collection-&gt;whenNotEmpty(function (Collection $collection) {
        return $collection-&gt;push('adam');
    });

    $collection-&gt;all();

    // []

<code>whenNotEmpty</code>メソッドには、2番目のクロージャを渡すこともできます。この2番目のクロージャは、コレクションが空の場合に実行されます。

    $collection = collect();

    $collection-&gt;whenNotEmpty(function (Collection $collection) {
        return $collection-&gt;push('adam');
    }, function (Collection $collection) {
        return $collection-&gt;push('taylor');
    });

    $collection-&gt;all();

    // ['taylor']

<code>whenNotEmpty</code>の逆の動作については、<a href="#method-whenempty"><code>whenEmpty</code></a>メソッドを参照してください。

<a name="method-where"></a></p>
<h4 class="collection-method" id="where"><code>where()</code><a class="headerlink" href="#where" title="Permanent link">&para;</a></h4>
<p><code>where</code>メソッドは、指定されたキー/値のペアでコレクションをフィルタリングします。

    $collection = collect([
        ['product' =&gt; 'Desk', 'price' =&gt; 200],
        ['product' =&gt; 'Chair', 'price' =&gt; 100],
        ['product' =&gt; 'Bookcase', 'price' =&gt; 150],
        ['product' =&gt; 'Door', 'price' =&gt; 100],
    ]);

    $filtered = $collection-&gt;where('price', 100);

    $filtered-&gt;all();

    /<em>
        [
            ['product' =&gt; 'Chair', 'price' =&gt; 100],
            ['product' =&gt; 'Door', 'price' =&gt; 100],
        ]
    </em>/

<code>where</code>メソッドは、アイテムの値をチェックする際に「緩い」比較を使用します。つまり、整数値を持つ文字列は、同じ値の整数と等しいとみなされます。「厳密な」比較を使用してフィルタリングするには、<a href="#method-wherestrict"><code>whereStrict</code></a>メソッドを使用してください。

オプションとして、比較演算子を2番目のパラメータとして渡すことができます。サポートされている演算子は、'===', '!==', '!=', '==', '=', '&lt;&gt;', '&gt;', '&lt;', '&gt;=', '&lt;='です。

    $collection = collect([
        ['name' =&gt; 'Jim', 'deleted_at' =&gt; '2019-01-01 00:00:00'],
        ['name' =&gt; 'Sally', 'deleted_at' =&gt; '2019-01-02 00:00:00'],
        ['name' =&gt; 'Sue', 'deleted_at' =&gt; null],
    ]);

    $filtered = $collection-&gt;where('deleted_at', '!=', null);

    $filtered-&gt;all();

    /<em>
        [
            ['name' =&gt; 'Jim', 'deleted_at' =&gt; '2019-01-01 00:00:00'],
            ['name' =&gt; 'Sally', 'deleted_at' =&gt; '2019-01-02 00:00:00'],
        ]
    </em>/

<a name="method-wherestrict"></a></p>
<h4 class="collection-method" id="wherestrict"><code>whereStrict()</code><a class="headerlink" href="#wherestrict" title="Permanent link">&para;</a></h4>
<p>このメソッドは<a href="#method-where"><code>where</code></a>メソッドと同じシグネチャを持ちますが、すべての値は「厳密な」比較を使用して比較されます。

<a name="method-wherebetween"></a></p>
<h4 class="collection-method" id="wherebetween"><code>whereBetween()</code><a class="headerlink" href="#wherebetween" title="Permanent link">&para;</a></h4>
<p><code>whereBetween</code>メソッドは、指定されたアイテムの値が指定された範囲内にあるかどうかを判断して、コレクションをフィルタリングします。

    $collection = collect([
        ['product' =&gt; 'Desk', 'price' =&gt; 200],
        ['product' =&gt; 'Chair', 'price' =&gt; 80],
        ['product' =&gt; 'Bookcase', 'price' =&gt; 150],
        ['product' =&gt; 'Pencil', 'price' =&gt; 30],
        ['product' =&gt; 'Door', 'price' =&gt; 100],
    ]);

    $filtered = $collection-&gt;whereBetween('price', [100, 200]);

    $filtered-&gt;all();

    /<em>
        [
            ['product' =&gt; 'Desk', 'price' =&gt; 200],
            ['product' =&gt; 'Bookcase', 'price' =&gt; 150],
            ['product' =&gt; 'Door', 'price' =&gt; 100],
        ]
    </em>/

<a name="method-wherein"></a></p>
<h4 class="collection-method" id="wherein"><code>whereIn()</code><a class="headerlink" href="#wherein" title="Permanent link">&para;</a></h4>
<p><code>whereIn</code>メソッドは、指定されたアイテムの値が指定された配列に含まれていない要素をコレクションから削除します。

    $collection = collect([
        ['product' =&gt; 'Desk', 'price' =&gt; 200],
        ['product' =&gt; 'Chair', 'price' =&gt; 100],
        ['product' =&gt; 'Bookcase', 'price' =&gt; 150],
        ['product' =&gt; 'Door', 'price' =&gt; 100],
    ]);

    $filtered = $collection-&gt;whereIn('price', [150, 200]);

    $filtered-&gt;all();

    /<em>
        [
            ['product' =&gt; 'Desk', 'price' =&gt; 200],
            ['product' =&gt; 'Bookcase', 'price' =&gt; 150],
        ]
    </em>/

<code>whereIn</code>メソッドは、アイテムの値をチェックする際に「緩い」比較を使用します。つまり、整数値を持つ文字列は、同じ値の整数と等しいとみなされます。「厳密な」比較を使用してフィルタリングするには、<a href="#method-whereinstrict"><code>whereInStrict</code></a>メソッドを使用してください。

<a name="method-whereinstrict"></a></p>
<h4 class="collection-method" id="whereinstrict"><code>whereInStrict()</code><a class="headerlink" href="#whereinstrict" title="Permanent link">&para;</a></h4>
<p>このメソッドは<a href="#method-wherein"><code>whereIn</code></a>メソッドと同じシグネチャを持ちますが、すべての値は「厳密な」比較を使用して比較されます。

<a name="method-whereinstanceof"></a></p>
<h4 class="collection-method" id="whereinstanceof"><code>whereInstanceOf()</code><a class="headerlink" href="#whereinstanceof" title="Permanent link">&para;</a></h4>
<p><code>whereInstanceOf</code>メソッドは、指定されたクラスタイプでコレクションをフィルタリングします。

    use App\Models\User;
    use App\Models\Post;

    $collection = collect([
        new User,
        new User,
        new Post,
    ]);

    $filtered = $collection-&gt;whereInstanceOf(User::class);

    $filtered-&gt;all();

    // [App\Models\User, App\Models\User]

<a name="method-wherenotbetween"></a></p>
<h4 class="collection-method" id="wherenotbetween"><code>whereNotBetween()</code><a class="headerlink" href="#wherenotbetween" title="Permanent link">&para;</a></h4>
<p><code>whereNotBetween</code>メソッドは、指定されたアイテムの値が指定された範囲外にあるかどうかを判断して、コレクションをフィルタリングします。

    $collection = collect([
        ['product' =&gt; 'Desk', 'price' =&gt; 200],
        ['product' =&gt; 'Chair', 'price' =&gt; 80],
        ['product' =&gt; 'Bookcase', 'price' =&gt; 150],
        ['product' =&gt; 'Pencil', 'price' =&gt; 30],
        ['product' =&gt; 'Door', 'price' =&gt; 100],
    ]);

    $filtered = $collection-&gt;whereNotBetween('price', [100, 200]);

    $filtered-&gt;all();

    /<em>
        [
            ['product' =&gt; 'Chair', 'price' =&gt; 80],
            ['product' =&gt; 'Pencil', 'price' =&gt; 30],
        ]
    </em>/

<a name="method-wherenotin"></a></p>
<h4 class="collection-method" id="wherenotin"><code>whereNotIn()</code><a class="headerlink" href="#wherenotin" title="Permanent link">&para;</a></h4>
<p><code>whereNotIn</code>メソッドは、指定されたアイテムの値が指定された配列に含まれている要素をコレクションから削除します。

    $collection = collect([
        ['product' =&gt; 'Desk', 'price' =&gt; 200],
        ['product' =&gt; 'Chair', 'price' =&gt; 100],
        ['product' =&gt; 'Bookcase', 'price' =&gt; 150],
        ['product' =&gt; 'Door', 'price' =&gt; 100],
    ]);

    $filtered = $collection-&gt;whereNotIn('price', [150, 200]);

    $filtered-&gt;all();

    /<em>
        [
            ['product' =&gt; 'Chair', 'price' =&gt; 100],
            ['product' =&gt; 'Door', 'price' =&gt; 100],
        ]
    </em>/

<code>whereNotIn</code>メソッドは、アイテムの値をチェックする際に「緩い」比較を使用します。つまり、整数値を持つ文字列は、同じ値の整数と等しいとみなされます。「厳密な」比較を使用してフィルタリングするには、<a href="#method-wherenotinstrict"><code>whereNotInStrict</code></a>メソッドを使用してください。

<a name="method-wherenotinstrict"></a></p>
<h4 class="collection-method" id="wherenotinstrict"><code>whereNotInStrict()</code><a class="headerlink" href="#wherenotinstrict" title="Permanent link">&para;</a></h4>
<p>このメソッドは<a href="#method-wherenotin"><code>whereNotIn</code></a>メソッドと同じシグネチャを持ちますが、すべての値は「厳密な」比較を使用して比較されます。
```</p>
<p>このメソッドは<a href="#method-wherenotin"><code>whereNotIn</code></a>メソッドと同じシグネチャを持っています。ただし、すべての値は"strict"比較を使用して比較されます。</p>
<p><a name="method-wherenotnull"></a></p>
<h4 class="collection-method" id="wherenotnull"><code>whereNotNull()</code><a class="headerlink" href="#wherenotnull" title="Permanent link">&para;</a></h4>
<p><code>whereNotNull</code>メソッドは、指定されたキーが<code>null</code>でないコレクションのアイテムを返します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Desk&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Bookcase&#39;</span><span class="p">],</span>
<span class="p">]);</span>

<span class="nv">$filtered</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">whereNotNull</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">);</span>

<span class="nv">$filtered</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="cm">/*</span>
<span class="cm">    [</span>
<span class="cm">        [&#39;name&#39; =&gt; &#39;Desk&#39;],</span>
<span class="cm">        [&#39;name&#39; =&gt; &#39;Bookcase&#39;],</span>
<span class="cm">    ]</span>
<span class="cm">*/</span>
</code></pre></div>
<p><a name="method-wherenull"></a></p>
<h4 class="collection-method" id="wherenull"><code>whereNull()</code><a class="headerlink" href="#wherenull" title="Permanent link">&para;</a></h4>
<p><code>whereNull</code>メソッドは、指定されたキーが<code>null</code>であるコレクションのアイテムを返します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Desk&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Bookcase&#39;</span><span class="p">],</span>
<span class="p">]);</span>

<span class="nv">$filtered</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">whereNull</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">);</span>

<span class="nv">$filtered</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="cm">/*</span>
<span class="cm">    [</span>
<span class="cm">        [&#39;name&#39; =&gt; null],</span>
<span class="cm">    ]</span>
<span class="cm">*/</span>
</code></pre></div>
<p><a name="method-wrap"></a></p>
<h4 class="collection-method" id="wrap"><code>wrap()</code><a class="headerlink" href="#wrap" title="Permanent link">&para;</a></h4>
<p>静的な<code>wrap</code>メソッドは、指定された値をコレクションに適用可能な場合にその値をコレクションでラップします。</p>
<div class="highlight"><pre><span></span><code><span class="k">use</span> <span class="nx">Illuminate\Support\Collection</span><span class="p">;</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nx">Collection</span><span class="o">::</span><span class="na">wrap</span><span class="p">(</span><span class="s1">&#39;John Doe&#39;</span><span class="p">);</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [&#39;John Doe&#39;]</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nx">Collection</span><span class="o">::</span><span class="na">wrap</span><span class="p">([</span><span class="s1">&#39;John Doe&#39;</span><span class="p">]);</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [&#39;John Doe&#39;]</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nx">Collection</span><span class="o">::</span><span class="na">wrap</span><span class="p">(</span><span class="nx">collect</span><span class="p">(</span><span class="s1">&#39;John Doe&#39;</span><span class="p">));</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [&#39;John Doe&#39;]</span>
</code></pre></div>
<p><a name="method-zip"></a></p>
<h4 class="collection-method" id="zip"><code>zip()</code><a class="headerlink" href="#zip" title="Permanent link">&para;</a></h4>
<p><code>zip</code>メソッドは、指定された配列の値を元のコレクションの値と対応するインデックスでマージします。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$collection</span> <span class="o">=</span> <span class="nx">collect</span><span class="p">([</span><span class="s1">&#39;Chair&#39;</span><span class="p">,</span> <span class="s1">&#39;Desk&#39;</span><span class="p">]);</span>

<span class="nv">$zipped</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">zip</span><span class="p">([</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">]);</span>

<span class="nv">$zipped</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// [[&#39;Chair&#39;, 100], [&#39;Desk&#39;, 200]]</span>
</code></pre></div>
<p><a name="higher-order-messages"></a></p>
<h2 id="_8">高階メッセージ<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h2>
<p>コレクションは、"高階メッセージ"のサポートも提供します。これは、コレクション上で一般的なアクションを実行するためのショートカットです。高階メッセージを提供するコレクションメソッドは以下の通りです：<a href="#method-average"><code>average</code></a>、<a href="#method-avg"><code>avg</code></a>、<a href="#method-contains"><code>contains</code></a>、<a href="#method-each"><code>each</code></a>、<a href="#method-every"><code>every</code></a>、<a href="#method-filter"><code>filter</code></a>、<a href="#method-first"><code>first</code></a>、<a href="#method-flatmap"><code>flatMap</code></a>、<a href="#method-groupby"><code>groupBy</code></a>、<a href="#method-keyby"><code>keyBy</code></a>、<a href="#method-map"><code>map</code></a>、<a href="#method-max"><code>max</code></a>、<a href="#method-min"><code>min</code></a>、<a href="#method-partition"><code>partition</code></a>、<a href="#method-reject"><code>reject</code></a>、<a href="#method-skipuntil"><code>skipUntil</code></a>、<a href="#method-skipwhile"><code>skipWhile</code></a>、<a href="#method-some"><code>some</code></a>、<a href="#method-sortby"><code>sortBy</code></a>、<a href="#method-sortbydesc"><code>sortByDesc</code></a>、<a href="#method-sum"><code>sum</code></a>、<a href="#method-takeuntil"><code>takeUntil</code></a>、<a href="#method-takewhile"><code>takeWhile</code></a>、および<a href="#method-unique"><code>unique</code></a>。</p>
<p>各高階メッセージは、コレクションインスタンス上の動的プロパティとしてアクセスできます。例えば、<code>each</code>高階メッセージを使用して、コレクション内の各オブジェクトに対してメソッドを呼び出すことができます。</p>
<div class="highlight"><pre><span></span><code><span class="k">use</span> <span class="nx">App\Models\User</span><span class="p">;</span>

<span class="nv">$users</span> <span class="o">=</span> <span class="nx">User</span><span class="o">::</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;votes&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

<span class="nv">$users</span><span class="o">-&gt;</span><span class="na">each</span><span class="o">-&gt;</span><span class="na">markAsVip</span><span class="p">();</span>
</code></pre></div>
<p>同様に、<code>sum</code>高階メッセージを使用して、ユーザーコレクションの"votes"の合計数を集計することができます。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$users</span> <span class="o">=</span> <span class="nx">User</span><span class="o">::</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;group&#39;</span><span class="p">,</span> <span class="s1">&#39;Development&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

<span class="k">return</span> <span class="nv">$users</span><span class="o">-&gt;</span><span class="na">sum</span><span class="o">-&gt;</span><span class="na">votes</span><span class="p">;</span>
</code></pre></div>
<p><a name="lazy-collections"></a></p>
<h2 id="_9">遅延コレクション<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h2>
<p><a name="lazy-collection-introduction"></a></p>
<h3 id="_10">はじめに<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Laravelの遅延コレクションについて学ぶ前に、<a href="https://www.php.net/manual/en/language.generators.overview.php">PHPのジェネレータ</a>について理解する時間を取ってください。</p>
</div>
<p>すでに強力な<code>Collection</code>クラスを補完するために、<code>LazyCollection</code>クラスはPHPの<a href="https://www.php.net/manual/en/language.generators.overview.php">ジェネレータ</a>を活用して、非常に大きなデータセットを扱う際にメモリ使用量を低く保つことができます。</p>
<p>例えば、アプリケーションがマルチギガバイトのログファイルを処理し、Laravelのコレクションメソッドを使用してログを解析する必要があると想像してください。一度にファイル全体をメモリに読み込む代わりに、遅延コレクションを使用して、特定の時点でファイルの一部だけをメモリに保持することができます。</p>
<div class="highlight"><pre><span></span><code><span class="k">use</span> <span class="nx">App\Models\LogEntry</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Support\LazyCollection</span><span class="p">;</span>

<span class="nx">LazyCollection</span><span class="o">::</span><span class="na">make</span><span class="p">(</span><span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nv">$handle</span> <span class="o">=</span> <span class="nb">fopen</span><span class="p">(</span><span class="s1">&#39;log.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">);</span>

    <span class="k">while</span> <span class="p">((</span><span class="nv">$line</span> <span class="o">=</span> <span class="nb">fgets</span><span class="p">(</span><span class="nv">$handle</span><span class="p">))</span> <span class="o">!==</span> <span class="k">false</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">yield</span> <span class="nv">$line</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">})</span><span class="o">-&gt;</span><span class="na">chunk</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">map</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="k">array</span> <span class="nv">$lines</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">LogEntry</span><span class="o">::</span><span class="na">fromLines</span><span class="p">(</span><span class="nv">$lines</span><span class="p">);</span>
<span class="p">})</span><span class="o">-&gt;</span><span class="na">each</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">LogEntry</span> <span class="nv">$logEntry</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ログエントリを処理する...</span>
<span class="p">});</span>
</code></pre></div>
<p>また、10,000のEloquentモデルを反復処理する必要があると想像してください。従来のLaravelコレクションを使用する場合、10,000のEloquentモデルすべてを一度にメモリに読み込む必要があります。</p>
<div class="highlight"><pre><span></span><code><span class="k">use</span> <span class="nx">App\Models\User</span><span class="p">;</span>

<span class="nv">$users</span> <span class="o">=</span> <span class="nx">User</span><span class="o">::</span><span class="na">all</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">User</span> <span class="nv">$user</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$user</span><span class="o">-&gt;</span><span class="na">id</span> <span class="o">&gt;</span> <span class="mi">500</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>
<p>しかし、クエリビルダの<code>cursor</code>メソッドは<code>LazyCollection</code>インスタンスを返します。これにより、データベースに対して1つのクエリを実行するだけで、一度に1つのEloquentモデルのみをメモリに読み込むことができます。この例では、<code>filter</code>コールバックは実際に各ユーザーを個別に反復処理するまで実行されないため、メモリ使用量が大幅に削減されます。</p>
<div class="highlight"><pre><span></span><code><span class="k">use</span> <span class="nx">App\Models\User</span><span class="p">;</span>

<span class="nv">$users</span> <span class="o">=</span> <span class="nx">User</span><span class="o">::</span><span class="na">cursor</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">User</span> <span class="nv">$user</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$user</span><span class="o">-&gt;</span><span class="na">id</span> <span class="o">&gt;</span> <span class="mi">500</span><span class="p">;</span>
<span class="p">});</span>

<span class="k">foreach</span> <span class="p">(</span><span class="nv">$users</span> <span class="k">as</span> <span class="nv">$user</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$user</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p><a name="creating-lazy-collections"></a></p>
<h3 id="_11">遅延コレクションの作成<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<p>遅延コレクションインスタンスを作成するには、PHPのジェネレータ関数をコレクションの<code>make</code>メソッドに渡す必要があります。</p>
<div class="highlight"><pre><span></span><code><span class="k">use</span> <span class="nx">Illuminate\Support\LazyCollection</span><span class="p">;</span>

<span class="nx">LazyCollection</span><span class="o">::</span><span class="na">make</span><span class="p">(</span><span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nv">$handle</span> <span class="o">=</span> <span class="nb">fopen</span><span class="p">(</span><span class="s1">&#39;log.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">);</span>

    <span class="k">while</span> <span class="p">((</span><span class="nv">$line</span> <span class="o">=</span> <span class="nb">fgets</span><span class="p">(</span><span class="nv">$handle</span><span class="p">))</span> <span class="o">!==</span> <span class="k">false</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">yield</span> <span class="nv">$line</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p><a name="the-enumerable-contract"></a></p>
<h3 id="enumerable">Enumerable契約<a class="headerlink" href="#enumerable" title="Permanent link">&para;</a></h3>
<p><code>Collection</code>クラスで利用可能なほとんどすべてのメソッドは、<code>LazyCollection</code>クラスでも利用可能です。これらのクラスはどちらも<code>Illuminate\Support\Enumerable</code>契約を実装しており、以下のメソッドを定義しています。</p>
<style>
    .collection-method-list > p {
        columns: 10.8em 3; -moz-columns: 10.8em 3; -webkit-columns: 10.8em 3;
    }

    .collection-method-list a {
        display: block;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
</style>

<div class="collection-method-list">
<p><a href="#method-all">all</a>
<a href="#method-average">average</a>
<a href="#method-avg">avg</a>
<a href="#method-chunk">chunk</a>
<a href="#method-chunkwhile">chunkWhile</a>
<a href="#method-collapse">collapse</a>
<a href="#method-collect">collect</a>
<a href="#method-combine">combine</a>
<a href="#method-concat">concat</a>
<a href="#method-contains">contains</a>
<a href="#method-containsstrict">containsStrict</a>
<a href="#method-count">count</a>
<a href="#method-countBy">countBy</a>
<a href="#method-crossjoin">crossJoin</a>
<a href="#method-dd">dd</a>
<a href="#method-diff">diff</a>
<a href="#method-diffassoc">diffAssoc</a>
<a href="#method-diffkeys">diffKeys</a>
<a href="#method-dump">dump</a>
<a href="#method-duplicates">duplicates</a>
<a href="#method-duplicatesstrict">duplicatesStrict</a>
<a href="#method-each">each</a>
<a href="#method-eachspread">eachSpread</a>
<a href="#method-every">every</a>
<a href="#method-except">except</a>
<a href="#method-filter">filter</a>
<a href="#method-first">first</a>
<a href="#method-first-or-fail">firstOrFail</a>
<a href="#method-first-where">firstWhere</a>
<a href="#method-flatmap">flatMap</a>
<a href="#method-flatten">flatten</a>
<a href="#method-flip">flip</a>
<a href="#method-forpage">forPage</a>
<a href="#method-get">get</a>
<a href="#method-groupby">groupBy</a>
<a href="#method-has">has</a>
<a href="#method-implode">implode</a>
<a href="#method-intersect">intersect</a>
<a href="#method-intersectAssoc">intersectAssoc</a>
<a href="#method-intersectbykeys">intersectByKeys</a>
<a href="#method-isempty">isEmpty</a>
<a href="#method-isnotempty">isNotEmpty</a>
<a href="#method-join">join</a>
<a href="#method-keyby">keyBy</a>
<a href="#method-keys">keys</a>
<a href="#method-last">last</a>
<a href="#method-macro">macro</a>
<a href="#method-make">make</a>
<a href="#method-map">map</a>
<a href="#method-mapinto">mapInto</a>
<a href="#method-mapspread">mapSpread</a>
<a href="#method-maptogroups">mapToGroups</a>
<a href="#method-mapwithkeys">mapWithKeys</a>
<a href="#method-max">max</a>
<a href="#method-median">median</a>
<a href="#method-merge">merge</a>
<a href="#method-mergerecursive">mergeRecursive</a>
<a href="#method-min">min</a>
<a href="#method-mode">mode</a>
<a href="#method-nth">nth</a>
<a href="#method-only">only</a>
<a href="#method-pad">pad</a>
<a href="#method-partition">partition</a>
<a href="#method-pipe">pipe</a>
<a href="#method-pluck">pluck</a>
<a href="#method-random">random</a>
<a href="#method-reduce">reduce</a>
<a href="#method-reject">reject</a>
<a href="#method-replace">replace</a>
<a href="#method-replacerecursive">replaceRecursive</a>
<a href="#method-reverse">reverse</a>
<a href="#method-search">search</a>
<a href="#method-shuffle">shuffle</a>
<a href="#method-skip">skip</a>
<a href="#method-slice">slice</a>
<a href="#method-sole">sole</a>
<a href="#method-some">some</a>
<a href="#method-sort">sort</a>
<a href="#method-sortby">sortBy</a>
<a href="#method-sortbydesc">sortByDesc</a>
<a href="#method-sortkeys">sortKeys</a>
<a href="#method-sortkeysdesc">sortKeysDesc</a>
<a href="#method-split">split</a>
<a href="#method-sum">sum</a>
<a href="#method-take">take</a>
<a href="#method-tap">tap</a>
<a href="#method-times">times</a>
<a href="#method-toarray">toArray</a>
<a href="#method-tojson">toJson</a>
<a href="#method-union">union</a>
<a href="#method-unique">unique</a>
<a href="#method-uniquestrict">uniqueStrict</a>
<a href="#method-unless">unless</a>
<a href="#method-unlessempty">unlessEmpty</a>
<a href="#method-unlessnotempty">unlessNotEmpty</a>
<a href="#method-unwrap">unwrap</a>
<a href="#method-values">values</a>
<a href="#method-when">when</a>
<a href="#method-whenempty">whenEmpty</a>
<a href="#method-whennotempty">whenNotEmpty</a>
<a href="#method-where">where</a>
<a href="#method-wherestrict">whereStrict</a>
<a href="#method-wherebetween">whereBetween</a>
<a href="#method-wherein">whereIn</a>
<a href="#method-whereinstrict">whereInStrict</a>
<a href="#method-whereinstanceof">whereInstanceOf</a>
<a href="#method-wherenotbetween">whereNotBetween</a>
<a href="#method-wherenotin">whereNotIn</a>
<a href="#method-wherenotinstrict">whereNotInStrict</a>
<a href="#method-wrap">wrap</a>
<a href="#method-zip">zip</a></p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code>shift</code>、<code>pop</code>、<code>prepend</code>など、コレクションを変更するメソッドは、<code>LazyCollection</code>クラスでは<strong>利用できません</strong>。</p>
</div>
<p><a name="lazy-collection-methods"></a></p>
<h3 id="_12">遅延コレクションメソッド<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<p><code>Enumerable</code>契約で定義されたメソッドに加えて、<code>LazyCollection</code>クラスには以下のメソッドが含まれています。</p>
<p><a name="method-takeUntilTimeout"></a></p>
<h4 class="collection-method" id="takeuntiltimeout"><code>takeUntilTimeout()</code><a class="headerlink" href="#takeuntiltimeout" title="Permanent link">&para;</a></h4>
<p><code>takeUntilTimeout</code>メソッドは、指定された時間まで値を列挙する新しい遅延コレクションを返します。その時間を過ぎると、コレクションは列挙を停止します。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$lazyCollection</span> <span class="o">=</span> <span class="nx">LazyCollection</span><span class="o">::</span><span class="na">times</span><span class="p">(</span><span class="nx">INF</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">takeUntilTimeout</span><span class="p">(</span><span class="nx">now</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">addMinute</span><span class="p">());</span>

<span class="nv">$lazyCollection</span><span class="o">-&gt;</span><span class="na">each</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">int</span> <span class="nv">$number</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">dump</span><span class="p">(</span><span class="nv">$number</span><span class="p">);</span>

    <span class="nb">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// 1</span>
<span class="c1">// 2</span>
<span class="c1">// ...</span>
<span class="c1">// 58</span>
<span class="c1">// 59</span>
</code></pre></div>
<p>このメソッドの使用例を説明するために、カーソルを使用してデータベースから請求書を送信するアプリケーションを想像してみてください。15分ごとに実行され、最大14分間請求書を処理する<a href="scheduling.html">スケジュールされたタスク</a>を定義できます。</p>
<div class="highlight"><pre><span></span><code><span class="k">use</span> <span class="nx">App\Models\Invoice</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Support\Carbon</span><span class="p">;</span>

<span class="nx">Invoice</span><span class="o">::</span><span class="na">pending</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">cursor</span><span class="p">()</span>
    <span class="o">-&gt;</span><span class="na">takeUntilTimeout</span><span class="p">(</span>
        <span class="nx">Carbon</span><span class="o">::</span><span class="na">createFromTimestamp</span><span class="p">(</span><span class="nx">LARAVEL_START</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="s1">&#39;minutes&#39;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">each</span><span class="p">(</span><span class="nx">fn</span> <span class="p">(</span><span class="nx">Invoice</span> <span class="nv">$invoice</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nv">$invoice</span><span class="o">-&gt;</span><span class="na">submit</span><span class="p">());</span>
</code></pre></div>
<p><a name="method-tapEach"></a></p>
<h4 class="collection-method" id="tapeach"><code>tapEach()</code><a class="headerlink" href="#tapeach" title="Permanent link">&para;</a></h4>
<p><code>each</code>メソッドはコレクション内の各アイテムに対して即座に指定されたコールバックを呼び出しますが、<code>tapEach</code>メソッドはアイテムがリストから1つずつ取り出されるときにのみ指定されたコールバックを呼び出します。</p>
<div class="highlight"><pre><span></span><code><span class="c1">// まだ何もダンプされていません...</span>
<span class="nv">$lazyCollection</span> <span class="o">=</span> <span class="nx">LazyCollection</span><span class="o">::</span><span class="na">times</span><span class="p">(</span><span class="nx">INF</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">tapEach</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">int</span> <span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">dump</span><span class="p">(</span><span class="nv">$value</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// 3つのアイテムがダンプされます...</span>
<span class="nv">$array</span> <span class="o">=</span> <span class="nv">$lazyCollection</span><span class="o">-&gt;</span><span class="na">take</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// 1</span>
<span class="c1">// 2</span>
<span class="c1">// 3</span>
</code></pre></div>
<p><a name="method-throttle"></a></p>
<h4 class="collection-method" id="throttle"><code>throttle()</code><a class="headerlink" href="#throttle" title="Permanent link">&para;</a></h4>
<p><code>throttle</code>メソッドは、指定された秒数後に各値が返されるように遅延コレクションをスロットルします。このメソッドは、受信リクエストをレート制限する外部APIとやり取りする場合に特に便利です。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="k">use</span> <span class="nx">App\Models\User</span><span class="p">;</span>
<a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a>
<a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a><span class="nx">User</span><span class="o">::</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;vip&#39;</span><span class="p">,</span> <span class="k">true</span><span class="p">)</span>
<a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a>    <span class="o">-&gt;</span><span class="na">cursor</span><span class="p">()</span>
<a id="__codelineno-58-5" name="__codelineno-58-5" href="#__codelineno-58-5"></a>    <span class="o">-&gt;</span><span class="na">throttle</span><span class="p">(</span><span class="nx">seconds</span><span class="o">:</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-58-6" name="__codelineno-58-6" href="#__codelineno-58-6"></a>    <span class="o">-&gt;</span><span class="na">each</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">User</span> <span class="nv">$user</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-58-7" name="__codelineno-58-7" href="#__codelineno-58-7"></a>        <span class="c1">// 外部APIを呼び出す...</span>
<a id="__codelineno-58-8" name="__codelineno-58-8" href="#__codelineno-58-8"></a>    <span class="p">});</span>
</code></pre></div>
<p><a name="method-remember"></a></p>
<h4 class="collection-method" id="remember"><code>remember()</code><a class="headerlink" href="#remember" title="Permanent link">&para;</a></h4>
<p><code>remember</code>メソッドは、すでに列挙された値を記憶し、以降のコレクション列挙時にそれらを再取得しない新しい遅延コレクションを返します。</p>
<div class="highlight"><pre><span></span><code><span class="c1">// まだクエリは実行されていません...</span>
<span class="nv">$users</span> <span class="o">=</span> <span class="nx">User</span><span class="o">::</span><span class="na">cursor</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">remember</span><span class="p">();</span>

<span class="c1">// クエリが実行されます...</span>
<span class="c1">// 最初の5人のユーザーがデータベースから取得されます...</span>
<span class="nv">$users</span><span class="o">-&gt;</span><span class="na">take</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// 最初の5人のユーザーはコレクションのキャッシュから取得されます...</span>
<span class="c1">// 残りはデータベースから取得されます...</span>
<span class="nv">$users</span><span class="o">-&gt;</span><span class="na">take</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
</code></pre></div>









  




<h2>ユーザーノート</h2>
<div id="user-contribution-section">
    <a href="#" id="toggle-contribution" class="toggle-link" aria-expanded="false" aria-controls="contribution-content">+ ユーザーノートを表示する</a>
    <div id="contribution-content" style="display: none;">
        <div id="giscus-container">
            <!-- Giscus script here -->
            <script src="https://giscus.app/client.js"
                    data-repo="koriym/l11ja"
                    data-repo-id="R_kgDOM2Kucw"
                    data-category="Announcements"
                    data-category-id="DIC_kwDOM2Kuc84Civbh"
                    data-mapping="pathname"
                    data-strict="0"
                    data-reactions-enabled="0"
                    data-emit-metadata="0"
                    data-input-position="bottom"
                    data-theme="light"
                    data-lang="en"
                    crossorigin="anonymous"
                    async>
            </script>
            <div id="terms-of-service">
                <h4>ユーザーノートについて</h4>
                <p>PHPマニュアルのように、マニュアルを補足する情報の共有を目的としてます。</p>
                <ul>
                    <li>掲示板ではありません。議論、質問、別のノートへの返信はできません。</li>
                    <li>バグや改善要望、または翻訳の Issue は、該当する GitHub リポジトリで報告してください。</li>
                    <li>ノートは事前の通知なく削除される場合があります。</li>
                    <li>Giscussのコメントシステムを流用しています。そのためノートとしては最適化されてないことをご了承ください。</li>
                    <li>保証されていません。投稿したノートが消失する事やノート機能全体が閉鎖する可能性があります。</li>
                    <li>お願い：いいノートにはup voteを、この規約に違反しているノートを見つけた場合は、優しくdown voteしてください。</li>
                </ul>
            </div>
        </div>
    </div>
</div>
<script>
    (function() {
        const toggleLink = document.getElementById('toggle-contribution');
        const contributionContent = document.getElementById('contribution-content');

        toggleLink.addEventListener('click', function(e) {
            e.preventDefault();
            const isHidden = contributionContent.style.display === 'none';
            contributionContent.style.display = isHidden ? 'block' : 'none';
            toggleLink.textContent = isHidden ? '- ノートを非表示にする' : '+ ノートを表示する';
            toggleLink.setAttribute('aria-expanded', isHidden ? 'true' : 'false');
        });
    })();
</script>

                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
<nav class="md-footer-nav">
    
    
</nav>

    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": ["back-to-top", "navigation.expand", "navigation.tabs", "navigation.footer", "navigation.sections", "navigation.expand", "content.code.copy", "hide_repository_button", "content.code.annotate", "content.tabs.link", "toc.none", "content.action.edit"], "search": "assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  </body>
</html>