
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://github.com/koriym/laravel11-ja/processes.html">
      
      
        <link rel="prev" href="packages.html">
      
      
        <link rel="next" href="queues.html">
      
      
      <link rel="icon" href="assets/images/favicon_io/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.35">
    
    
      
        <title>プロセス - L11JA</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.35f28582.min.css">
      
      


    
    

    

    
      <link rel="stylesheet" href="assets/css/php.css">
    
      <link rel="stylesheet" href="assets/css/mkdocs_material_extra.css">
    
      <link rel="stylesheet" href="assets/css/extra.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-G60CEHXLQ1"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-G60CEHXLQ1",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-G60CEHXLQ1",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    

  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <!-- Determine classes -->



<!-- Header -->
<header class="md-header" data-md-component="header">
  <nav
          class="md-header__inner md-grid"
          aria-label="Header"
  >

    <!-- Link to home -->
    <a
            href="."
            title="L11JA"
            class="md-header__button md-logo"
            aria-label="L11JA"
            data-md-component="logo"
    >
      
  <img src="assets/images/logo.png" alt="logo">

    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            <span style="font-family: 'Noto Sans'; font-size: 20px" >
            L11JA
            </span>
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            <span style="font-family: 'Noto Sans Batak'; font-size: 20px" >
            
              プロセス
            
            </span>
          </span>
        </div>
      </div>
    </div>

    <!-- Color palette toggle -->
    

    <!-- User preference: color palette -->
    
    <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
    <label class="md-header__button md-icon" for="__search">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
    </label>

    <!-- Search interface -->
    <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <!-- Repository information -->
    
    <div class="md-header__source">
      

<!--
  Check whether the repository is hosted on one of the supported code hosting
  platforms (GitHub, GitLab or Bitbucket) to show icon.
-->


  


<!-- Repository containing source -->
<a href="https://github.com/koriym/l11ja" title="source.link.title"
    class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg width="24" height="24" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z" fill="#000"/></svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="releases.html" class="md-tabs__link">
          
  
  プロローグ

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="installation.html" class="md-tabs__link">
          
  
  はじめに

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="lifecycle.html" class="md-tabs__link">
          
  
  アーキテクチャ

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="routing.html" class="md-tabs__link">
          
  
  基本

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="artisan.html" class="md-tabs__link">
          
  
  掘り下げる

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="authentication.html" class="md-tabs__link">
          
  
  セキュリティ

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="database.html" class="md-tabs__link">
          
  
  データベース

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="eloquent.html" class="md-tabs__link">
          
  
  Eloquent ORM

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="testing.html" class="md-tabs__link">
          
  
  テスト

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="starter-kits.html" class="md-tabs__link">
          
  
  パッケージ

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="L11JA" class="md-nav__button md-logo" aria-label="L11JA" data-md-component="logo">
      
  <img src="assets/images/logo.png" alt="logo">

    </a>
    L11JA
  </label>
  
    <div class="md-nav__source">
      

<!--
  Check whether the repository is hosted on one of the supported code hosting
  platforms (GitHub, GitLab or Bitbucket) to show icon.
-->


  


<!-- Repository containing source -->
<a href="https://github.com/koriym/l11ja" title="source.link.title"
    class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg width="24" height="24" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z" fill="#000"/></svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    プロローグ
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            プロローグ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="releases.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    リリースノート
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="upgrade.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    アップグレードガイド
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="contributions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    貢献ガイド
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    はじめに
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            はじめに
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="installation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    インストール
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="configuration.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    設定
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="structure.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ディレクトリ構造
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="frontend.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    フロントエンド
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="starter-kits.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    スターターキット
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="deployment.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    デプロイ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    アーキテクチャ
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            アーキテクチャ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="lifecycle.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    リクエストライフサイクル
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="container.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    サービスコンテナ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="providers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    サービスプロバイダ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="facades.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ファサード
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    基本
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            基本
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="routing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ルーティング
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="middleware.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ミドルウェア
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="csrf.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSRF保護
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="controllers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    コントローラ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="requests.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    リクエスト
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="responses.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    レスポンス
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="views.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ビュー
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="blade.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bladeテンプレート
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="vite.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    アセットバンドル
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="urls.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    URL生成
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="session.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    セッション
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="validation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    バリデーション
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="errors.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    エラー処理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="logging.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ログ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    掘り下げる
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            掘り下げる
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="artisan.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Artisanコンソール
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="broadcasting.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ブロードキャスティング
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="cache.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    キャッシュ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="collections.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    コレクション
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="concurrency.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    並行処理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="context.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    コンテキスト
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="contracts.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    コントラクト
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="events.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    イベント
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="filesystem.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ファイルストレージ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="helpers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ヘルパー
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="http-client.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTTPクライアント
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="localization.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ローカライゼーション
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="mail.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    メール
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="notifications.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    通知
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="packages.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    パッケージ開発
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    プロセス
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="processes.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    プロセス
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      イントロダクション
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      プロセスの呼び出し
    </span>
  </a>
  
    <nav class="md-nav" aria-label="プロセスの呼び出し">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      例外のスロー
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      プロセスオプション
    </span>
  </a>
  
    <nav class="md-nav" aria-label="プロセスオプション">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      作業ディレクトリパス
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      入力
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      タイムアウト
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      環境変数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tty" class="md-nav__link">
    <span class="md-ellipsis">
      TTYモード
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      プロセス出力
    </span>
  </a>
  
    <nav class="md-nav" aria-label="プロセス出力">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      プロセス出力の無効化
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      パイプライン
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      非同期プロセス
    </span>
  </a>
  
    <nav class="md-nav" aria-label="非同期プロセス">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id" class="md-nav__link">
    <span class="md-ellipsis">
      プロセスIDとシグナル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      非同期プロセス出力
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      並行プロセス
    </span>
  </a>
  
    <nav class="md-nav" aria-label="並行プロセス">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      プールプロセスの命名
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id_1" class="md-nav__link">
    <span class="md-ellipsis">
      プールプロセスIDとシグナル
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      テスト
    </span>
  </a>
  
    <nav class="md-nav" aria-label="テスト">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      プロセスのフェイク
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      特定のプロセスのフェイク
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      プロセスシーケンスのフェイク
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      非同期プロセスライフサイクルのフェイク
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      利用可能なアサーション
    </span>
  </a>
  
    <nav class="md-nav" aria-label="利用可能なアサーション">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#assertran" class="md-nav__link">
    <span class="md-ellipsis">
      assertRan
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertdidntrun" class="md-nav__link">
    <span class="md-ellipsis">
      assertDidntRun
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertrantimes" class="md-nav__link">
    <span class="md-ellipsis">
      assertRanTimes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      迷子プロセスの防止
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="queues.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    キュー
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="rate-limiting.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    レート制限
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="strings.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    文字列
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="scheduling.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    タスクスケジューリング
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    セキュリティ
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            セキュリティ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="authentication.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    認証
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="authorization.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    認可
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="verification.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    メール確認
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="encryption.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    暗号化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="hashing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ハッシュ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="passwords.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    パスワードリセット
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    データベース
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            データベース
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="database.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    はじめに
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="queries.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クエリビルダ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="pagination.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ページネーション
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="migrations.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    マイグレーション
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="seeding.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    シーディング
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="redis.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Redis
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Eloquent ORM
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Eloquent ORM
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="eloquent.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    はじめに
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="eloquent-relationships.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    リレーションシップ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="eloquent-collections.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    コレクション
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="eloquent-mutators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ミューテータ / キャスト
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="eloquent-resources.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    APIリソース
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="eloquent-serialization.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    シリアライゼーション
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="eloquent-factories.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ファクトリ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    テスト
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            テスト
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="testing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    はじめに
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="http-tests.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTTPテスト
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="console-tests.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    コンソールテスト
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="dusk.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ブラウザテスト
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="database-testing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    データベース
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="mocking.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    モック
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    パッケージ
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            パッケージ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="starter-kits.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    スターターキット
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="billing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cashier (Stripe)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="cashier-paddle.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cashier (Paddle)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="dusk.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ブラウザテスト
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="envoy.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Envoy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="fortify.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fortify
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="folio.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Folio
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="homestead.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Homestead
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="horizon.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Horizon
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="mix.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mix
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="octane.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Octane
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="passport.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Passport
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="pennant.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pennant
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="pint.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pint
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="precognition.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Precognition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="prompts.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prompts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="pulse.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pulse
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="reverb.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reverb
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="sail.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sail
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="sanctum.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sanctum
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="scout.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scout
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="socialite.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Socialite
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="telescope.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Telescope
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="valet.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Valet
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      イントロダクション
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      プロセスの呼び出し
    </span>
  </a>
  
    <nav class="md-nav" aria-label="プロセスの呼び出し">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      例外のスロー
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      プロセスオプション
    </span>
  </a>
  
    <nav class="md-nav" aria-label="プロセスオプション">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      作業ディレクトリパス
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      入力
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      タイムアウト
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      環境変数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tty" class="md-nav__link">
    <span class="md-ellipsis">
      TTYモード
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      プロセス出力
    </span>
  </a>
  
    <nav class="md-nav" aria-label="プロセス出力">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      プロセス出力の無効化
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      パイプライン
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      非同期プロセス
    </span>
  </a>
  
    <nav class="md-nav" aria-label="非同期プロセス">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id" class="md-nav__link">
    <span class="md-ellipsis">
      プロセスIDとシグナル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      非同期プロセス出力
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      並行プロセス
    </span>
  </a>
  
    <nav class="md-nav" aria-label="並行プロセス">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      プールプロセスの命名
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id_1" class="md-nav__link">
    <span class="md-ellipsis">
      プールプロセスIDとシグナル
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      テスト
    </span>
  </a>
  
    <nav class="md-nav" aria-label="テスト">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      プロセスのフェイク
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      特定のプロセスのフェイク
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      プロセスシーケンスのフェイク
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      非同期プロセスライフサイクルのフェイク
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      利用可能なアサーション
    </span>
  </a>
  
    <nav class="md-nav" aria-label="利用可能なアサーション">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#assertran" class="md-nav__link">
    <span class="md-ellipsis">
      assertRan
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertdidntrun" class="md-nav__link">
    <span class="md-ellipsis">
      assertDidntRun
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertrantimes" class="md-nav__link">
    <span class="md-ellipsis">
      assertRanTimes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      迷子プロセスの防止
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/koriym/l11ja/edit/ja/processes.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="_1">プロセス<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<ul>
<li><a href="#introduction">イントロダクション</a></li>
<li><a href="#invoking-processes">プロセスの呼び出し</a><ul>
<li><a href="#process-options">プロセスオプション</a></li>
<li><a href="#process-output">プロセス出力</a></li>
<li><a href="#process-pipelines">パイプライン</a></li>
</ul>
</li>
<li><a href="#asynchronous-processes">非同期プロセス</a><ul>
<li><a href="#process-ids-and-signals">プロセスIDとシグナル</a></li>
<li><a href="#asynchronous-process-output">非同期プロセス出力</a></li>
</ul>
</li>
<li><a href="#concurrent-processes">並行プロセス</a><ul>
<li><a href="#naming-pool-processes">プールプロセスの命名</a></li>
<li><a href="#pool-process-ids-and-signals">プールプロセスIDとシグナル</a></li>
</ul>
</li>
<li><a href="#testing">テスト</a><ul>
<li><a href="#faking-processes">プロセスのフェイク</a></li>
<li><a href="#faking-specific-processes">特定のプロセスのフェイク</a></li>
<li><a href="#faking-process-sequences">プロセスシーケンスのフェイク</a></li>
<li><a href="#faking-asynchronous-process-lifecycles">非同期プロセスライフサイクルのフェイク</a></li>
<li><a href="#available-assertions">利用可能なアサーション</a></li>
<li><a href="#preventing-stray-processes">ストレイプロセスの防止</a></li>
</ul>
</li>
</ul>
<p><a name="introduction"></a></p>
<h2 id="_2">イントロダクション<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p>Laravelは、<a href="https://symfony.com/doc/7.0/components/process.html">Symfony Process component</a> を中心に、表現力豊かで最小限のAPIを提供し、Laravelアプリケーションから外部プロセスを便利に呼び出せるようにしています。Laravelのプロセス機能は、最も一般的なユースケースと素晴らしい開発者体験に焦点を当てています。</p>
<p><a name="invoking-processes"></a></p>
<h2 id="_3">プロセスの呼び出し<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<p>プロセスを呼び出すには、<code>Process</code>ファサードが提供する<code>run</code>メソッドと<code>start</code>メソッドを使用できます。<code>run</code>メソッドはプロセスを呼び出し、プロセスの実行が終了するまで待機しますが、<code>start</code>メソッドは非同期プロセス実行に使用されます。このドキュメント内で両方のアプローチを検討します。まず、基本的な同期プロセスを呼び出し、その結果を検査する方法を見てみましょう。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Process</span><span class="p">;</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="nv">$result</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">run</span><span class="p">(</span><span class="s1">&#39;ls -la&#39;</span><span class="p">);</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="k">return</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">output</span><span class="p">();</span>
</code></pre></div>
<p>もちろん、<code>run</code>メソッドによって返される<code>Illuminate\Contracts\Process\ProcessResult</code>インスタンスは、プロセス結果を検査するために使用できるさまざまな便利なメソッドを提供します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nv">$result</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">run</span><span class="p">(</span><span class="s1">&#39;ls -la&#39;</span><span class="p">);</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="nv">$result</span><span class="o">-&gt;</span><span class="na">successful</span><span class="p">();</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="nv">$result</span><span class="o">-&gt;</span><span class="na">failed</span><span class="p">();</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="nv">$result</span><span class="o">-&gt;</span><span class="na">exitCode</span><span class="p">();</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="nv">$result</span><span class="o">-&gt;</span><span class="na">output</span><span class="p">();</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="nv">$result</span><span class="o">-&gt;</span><span class="na">errorOutput</span><span class="p">();</span>
</code></pre></div>
<p><a name="throwing-exceptions"></a></p>
<h4 id="_4">例外のスロー<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h4>
<p>プロセス結果があり、終了コードがゼロより大きい場合（失敗を示す）に<code>Illuminate\Process\Exceptions\ProcessFailedException</code>のインスタンスをスローしたい場合は、<code>throw</code>および<code>throwIf</code>メソッドを使用できます。プロセスが失敗しなかった場合、プロセス結果インスタンスが返されます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nv">$result</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">run</span><span class="p">(</span><span class="s1">&#39;ls -la&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">throw</span><span class="p">();</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="nv">$result</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">run</span><span class="p">(</span><span class="s1">&#39;ls -la&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">throwIf</span><span class="p">(</span><span class="nv">$condition</span><span class="p">);</span>
</code></pre></div>
<p><a name="process-options"></a></p>
<h3 id="_5">プロセスオプション<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<p>もちろん、プロセスを呼び出す前にその動作をカスタマイズする必要があるかもしれません。幸いなことに、Laravelでは作業ディレクトリ、タイムアウト、環境変数など、さまざまなプロセス機能を調整できます。</p>
<p><a name="working-directory-path"></a></p>
<h4 id="_6">作業ディレクトリパス<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h4>
<p><code>path</code>メソッドを使用して、プロセスの作業ディレクトリを指定できます。このメソッドが呼び出されない場合、プロセスは現在実行中のPHPスクリプトの作業ディレクトリを継承します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nv">$result</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">path</span><span class="p">(</span><span class="no">__DIR__</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">run</span><span class="p">(</span><span class="s1">&#39;ls -la&#39;</span><span class="p">);</span>
</code></pre></div>
<p><a name="input"></a></p>
<h4 id="_7">入力<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h4>
<p><code>input</code>メソッドを使用して、プロセスの「標準入力」を介して入力を提供できます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nv">$result</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;Hello World&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">run</span><span class="p">(</span><span class="s1">&#39;cat&#39;</span><span class="p">);</span>
</code></pre></div>
<p><a name="timeouts"></a></p>
<h4 id="_8">タイムアウト<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h4>
<p>デフォルトでは、プロセスは60秒以上実行された後に<code>Illuminate\Process\Exceptions\ProcessTimedOutException</code>のインスタンスをスローします。ただし、<code>timeout</code>メソッドを介してこの動作をカスタマイズできます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nv">$result</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">timeout</span><span class="p">(</span><span class="mi">120</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">run</span><span class="p">(</span><span class="s1">&#39;bash import.sh&#39;</span><span class="p">);</span>
</code></pre></div>
<p>または、プロセスのタイムアウトを完全に無効にしたい場合は、<code>forever</code>メソッドを呼び出すことができます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nv">$result</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">forever</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">run</span><span class="p">(</span><span class="s1">&#39;bash import.sh&#39;</span><span class="p">);</span>
</code></pre></div>
<p><code>idleTimeout</code>メソッドを使用して、プロセスが出力を返さずに実行できる最大秒数を指定できます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nv">$result</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">timeout</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">idleTimeout</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">run</span><span class="p">(</span><span class="s1">&#39;bash import.sh&#39;</span><span class="p">);</span>
</code></pre></div>
<p><a name="environment-variables"></a></p>
<h4 id="_9">環境変数<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h4>
<p><code>env</code>メソッドを介してプロセスに環境変数を提供できます。呼び出されたプロセスは、システムで定義されたすべての環境変数も継承します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nv">$result</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">forever</span><span class="p">()</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>            <span class="o">-&gt;</span><span class="na">env</span><span class="p">([</span><span class="s1">&#39;IMPORT_PATH&#39;</span> <span class="o">=&gt;</span> <span class="no">__DIR__</span><span class="p">])</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>            <span class="o">-&gt;</span><span class="na">run</span><span class="p">(</span><span class="s1">&#39;bash import.sh&#39;</span><span class="p">);</span>
</code></pre></div>
<p>呼び出されたプロセスから継承された環境変数を削除したい場合は、その環境変数に<code>false</code>の値を指定できます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nv">$result</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">forever</span><span class="p">()</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>            <span class="o">-&gt;</span><span class="na">env</span><span class="p">([</span><span class="s1">&#39;LOAD_PATH&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">])</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>            <span class="o">-&gt;</span><span class="na">run</span><span class="p">(</span><span class="s1">&#39;bash import.sh&#39;</span><span class="p">);</span>
</code></pre></div>
<p><a name="tty-mode"></a></p>
<h4 id="tty">TTYモード<a class="headerlink" href="#tty" title="Permanent link">&para;</a></h4>
<p><code>tty</code>メソッドを使用して、プロセスのTTYモードを有効にできます。TTYモードは、プロセスの入力と出力をプログラムの入力と出力に接続し、プロセスとしてVimやNanoなどのエディタを開くことができます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nx">Process</span><span class="o">::</span><span class="na">forever</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">tty</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">run</span><span class="p">(</span><span class="s1">&#39;vim&#39;</span><span class="p">);</span>
</code></pre></div>
<p><a name="process-output"></a></p>
<h3 id="_10">プロセス出力<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<p>前述のように、プロセス出力は、プロセス結果の<code>output</code>（stdout）および<code>errorOutput</code>（stderr）メソッドを使用してアクセスできます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Process</span><span class="p">;</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="nv">$result</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">run</span><span class="p">(</span><span class="s1">&#39;ls -la&#39;</span><span class="p">);</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="k">echo</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">output</span><span class="p">();</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="k">echo</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">errorOutput</span><span class="p">();</span>
</code></pre></div>
<p>ただし、出力は<code>run</code>メソッドに2番目の引数としてクロージャを渡すことでリアルタイムで収集することもできます。クロージャは2つの引数を受け取ります：出力の「タイプ」（<code>stdout</code>または<code>stderr</code>）と出力文字列自体です。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nv">$result</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">run</span><span class="p">(</span><span class="s1">&#39;ls -la&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nx">string</span> <span class="nv">$type</span><span class="p">,</span> <span class="nx">string</span> <span class="nv">$output</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>    <span class="k">echo</span> <span class="nv">$output</span><span class="p">;</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="p">});</span>
</code></pre></div>
<p>Laravelは、プロセスの出力に特定の文字列が含まれているかどうかを判断するための便利な方法として、<code>seeInOutput</code>および<code>seeInErrorOutput</code>メソッドも提供しています。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="k">if</span> <span class="p">(</span><span class="nx">Process</span><span class="o">::</span><span class="na">run</span><span class="p">(</span><span class="s1">&#39;ls -la&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">seeInOutput</span><span class="p">(</span><span class="s1">&#39;laravel&#39;</span><span class="p">))</span> <span class="p">{</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>    <span class="c1">// ...</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="p">}</span>
</code></pre></div>
<p><a name="disabling-process-output"></a></p>
<h4 id="_11">プロセス出力の無効化<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h4>
<p>プロセスが大量の出力を書き込み、それに興味がない場合、メモリを節約するために出力の取得を完全に無効にできます。これを行うには、プロセスを構築する際に<code>quietly</code>メソッドを呼び出します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Process</span><span class="p">;</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="nv">$result</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">quietly</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">run</span><span class="p">(</span><span class="s1">&#39;bash import.sh&#39;</span><span class="p">);</span>
</code></pre></div>
<p><a name="process-pipelines"></a></p>
<h3 id="_12">パイプライン<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<p>時には、あるプロセスの出力を別のプロセスの入力にする必要があるかもしれません。これは、プロセスの出力を別のプロセスに「パイプ」することとしてよく知られています。<code>Process</code>ファサードが提供する<code>pipe</code>メソッドを使用すると、これを簡単に実現できます。<code>pipe</code>メソッドは、パイプされたプロセスを同期的に実行し、パイプラインの最後のプロセスのプロセス結果を返します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="k">use</span> <span class="nx">Illuminate\Process\Pipe</span><span class="p">;</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Process</span><span class="p">;</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="nv">$result</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">pipe</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">Pipe</span> <span class="nv">$pipe</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>    <span class="nv">$pipe</span><span class="o">-&gt;</span><span class="na">command</span><span class="p">(</span><span class="s1">&#39;cat example.txt&#39;</span><span class="p">);</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>    <span class="nv">$pipe</span><span class="o">-&gt;</span><span class="na">command</span><span class="p">(</span><span class="s1">&#39;grep -i &quot;laravel&quot;&#39;</span><span class="p">);</span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="p">});</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="k">if</span> <span class="p">(</span><span class="nv">$result</span><span class="o">-&gt;</span><span class="na">successful</span><span class="p">())</span> <span class="p">{</span>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>    <span class="c1">// ...</span>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="p">}</span>
</code></pre></div>
<p>パイプラインを構成する個々のプロセスをカスタマイズする必要がない場合は、コマンド文字列の配列を<code>pipe</code>メソッドに単純に渡すことができます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="nv">$result</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">pipe</span><span class="p">([</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>    <span class="s1">&#39;cat example.txt&#39;</span><span class="p">,</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>    <span class="s1">&#39;grep -i &quot;laravel&quot;&#39;</span><span class="p">,</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="p">]);</span>
</code></pre></div>
<p>出力は、<code>pipe</code>メソッドに2番目の引数としてクロージャを渡すことでリアルタイムで収集することもできます。クロージャは2つの引数を受け取ります：出力の「タイプ」（<code>stdout</code>または<code>stderr</code>）と出力文字列自体です。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="nv">$result</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">pipe</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">Pipe</span> <span class="nv">$pipe</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>    <span class="nv">$pipe</span><span class="o">-&gt;</span><span class="na">command</span><span class="p">(</span><span class="s1">&#39;cat example.txt&#39;</span><span class="p">);</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>    <span class="nv">$pipe</span><span class="o">-&gt;</span><span class="na">command</span><span class="p">(</span><span class="s1">&#39;grep -i &quot;laravel&quot;&#39;</span><span class="p">);</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="p">},</span> <span class="k">function</span> <span class="p">(</span><span class="nx">string</span> <span class="nv">$type</span><span class="p">,</span> <span class="nx">string</span> <span class="nv">$output</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>    <span class="k">echo</span> <span class="nv">$output</span><span class="p">;</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="p">});</span>
</code></pre></div>
<p>Laravelでは、<code>as</code>メソッドを介してパイプライン内の各プロセスに文字列キーを割り当てることもできます。このキーも<code>pipe</code>メソッドに提供される出力クロージャに渡され、どのプロセスの出力かを特定できます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="nv">$result</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">pipe</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">Pipe</span> <span class="nv">$pipe</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>    <span class="nv">$pipe</span><span class="o">-&gt;</span><span class="na">as</span><span class="p">(</span><span class="s1">&#39;first&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">command</span><span class="p">(</span><span class="s1">&#39;cat example.txt&#39;</span><span class="p">);</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>    <span class="nv">$pipe</span><span class="o">-&gt;</span><span class="na">as</span><span class="p">(</span><span class="s1">&#39;second&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">command</span><span class="p">(</span><span class="s1">&#39;grep -i &quot;laravel&quot;&#39;</span><span class="p">);</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="p">})</span><span class="o">-&gt;</span><span class="na">start</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">string</span> <span class="nv">$type</span><span class="p">,</span> <span class="nx">string</span> <span class="nv">$output</span><span class="p">,</span> <span class="nx">string</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>    <span class="c1">// ...</span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="p">});</span>
</code></pre></div>
<p><a name="asynchronous-processes"></a></p>
<h2 id="_13">非同期プロセス<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h2>
<p><code>run</code>メソッドは同期プロセスを呼び出しますが、<code>start</code>メソッドは非同期プロセスを呼び出すために使用できます。これにより、プロセスがバックグラウンドで実行されている間にアプリケーションが他のタスクを続行できます。プロセスが呼び出されると、<code>running</code>メソッドを使用してプロセスがまだ実行中かどうかを判断できます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="nv">$process</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">timeout</span><span class="p">(</span><span class="mi">120</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">start</span><span class="p">(</span><span class="s1">&#39;bash import.sh&#39;</span><span class="p">);</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="k">while</span> <span class="p">(</span><span class="nv">$process</span><span class="o">-&gt;</span><span class="na">running</span><span class="p">())</span> <span class="p">{</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>    <span class="c1">// ...</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="p">}</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="nv">$result</span> <span class="o">=</span> <span class="nv">$process</span><span class="o">-&gt;</span><span class="na">wait</span><span class="p">();</span>
</code></pre></div>
<p>ご覧のとおり、プロセスの実行が終了するまで待機し、プロセス結果インスタンスを取得するために<code>wait</code>メソッドを呼び出すことができます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="nv">$process</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">timeout</span><span class="p">(</span><span class="mi">120</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">start</span><span class="p">(</span><span class="s1">&#39;bash import.sh&#39;</span><span class="p">);</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="c1">// ...</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="nv">$result</span> <span class="o">=</span> <span class="nv">$process</span><span class="o">-&gt;</span><span class="na">wait</span><span class="p">();</span>
</code></pre></div>
<p><a name="process-ids-and-signals"></a></p>
<h3 id="id">プロセスIDとシグナル<a class="headerlink" href="#id" title="Permanent link">&para;</a></h3>
<p><code>id</code>メソッドを使用して、実行中のプロセスのオペレーティングシステムが割り当てたプロセスIDを取得できます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="nv">$process</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">start</span><span class="p">(</span><span class="s1">&#39;bash import.sh&#39;</span><span class="p">);</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="k">return</span> <span class="nv">$process</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">();</span>
</code></pre></div>
<p><code>signal</code>メソッドを使用して、実行中のプロセスに「シグナル」を送信できます。定義済みのシグナル定数のリストは、<a href="https://www.php.net/manual/en/pcntl.constants.php">PHPドキュメント</a>に記載されています。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="nv">$process</span><span class="o">-&gt;</span><span class="na">signal</span><span class="p">(</span><span class="nx">SIGUSR2</span><span class="p">);</span>
</code></pre></div>
<p><a name="asynchronous-process-output"></a></p>
<h3 id="_14">非同期プロセス出力<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<p>非同期プロセスの実行中に、<code>output</code> および <code>errorOutput</code> メソッドを使用してその現在の出力全体にアクセスできます。ただし、最後に出力を取得してから発生したプロセスの出力にアクセスするために、<code>latestOutput</code> および <code>latestErrorOutput</code> を利用することもできます：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="nv">$process</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">timeout</span><span class="p">(</span><span class="mi">120</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">start</span><span class="p">(</span><span class="s1">&#39;bash import.sh&#39;</span><span class="p">);</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="k">while</span> <span class="p">(</span><span class="nv">$process</span><span class="o">-&gt;</span><span class="na">running</span><span class="p">())</span> <span class="p">{</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>    <span class="k">echo</span> <span class="nv">$process</span><span class="o">-&gt;</span><span class="na">latestOutput</span><span class="p">();</span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>    <span class="k">echo</span> <span class="nv">$process</span><span class="o">-&gt;</span><span class="na">latestErrorOutput</span><span class="p">();</span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a>
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a>    <span class="nb">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="p">}</span>
</code></pre></div>
<p><code>run</code> メソッドと同様に、<code>start</code> メソッドにクロージャを第二引数として渡すことで、非同期プロセスからリアルタイムに出力を収集することもできます。クロージャは、出力の「タイプ」（<code>stdout</code> または <code>stderr</code>）と出力文字列の2つの引数を受け取ります：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="nv">$process</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">start</span><span class="p">(</span><span class="s1">&#39;bash import.sh&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nx">string</span> <span class="nv">$type</span><span class="p">,</span> <span class="nx">string</span> <span class="nv">$output</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>    <span class="k">echo</span> <span class="nv">$output</span><span class="p">;</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="p">});</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="nv">$result</span> <span class="o">=</span> <span class="nv">$process</span><span class="o">-&gt;</span><span class="na">wait</span><span class="p">();</span>
</code></pre></div>
<p><a name="concurrent-processes"></a></p>
<h2 id="_15">並行プロセス<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h2>
<p>Laravel は、同時並行で非同期プロセスのプールを管理することも容易にしており、多くのタスクを同時に簡単に実行できます。始めるには、<code>pool</code> メソッドを呼び出します。これは、<code>Illuminate\Process\Pool</code> のインスタンスを受け取るクロージャを引数に取ります。</p>
<p>このクロージャ内で、プールに属するプロセスを定義できます。プロセスプールが <code>start</code> メソッドを介して開始されると、<code>running</code> メソッドを介して実行中のプロセスの <a href="collections.html">コレクション</a> にアクセスできます：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="k">use</span> <span class="nx">Illuminate\Process\Pool</span><span class="p">;</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Process</span><span class="p">;</span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="nv">$pool</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">pool</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">Pool</span> <span class="nv">$pool</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>    <span class="nv">$pool</span><span class="o">-&gt;</span><span class="na">path</span><span class="p">(</span><span class="no">__DIR__</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">command</span><span class="p">(</span><span class="s1">&#39;bash import-1.sh&#39;</span><span class="p">);</span>
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a>    <span class="nv">$pool</span><span class="o">-&gt;</span><span class="na">path</span><span class="p">(</span><span class="no">__DIR__</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">command</span><span class="p">(</span><span class="s1">&#39;bash import-2.sh&#39;</span><span class="p">);</span>
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a>    <span class="nv">$pool</span><span class="o">-&gt;</span><span class="na">path</span><span class="p">(</span><span class="no">__DIR__</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">command</span><span class="p">(</span><span class="s1">&#39;bash import-3.sh&#39;</span><span class="p">);</span>
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="p">})</span><span class="o">-&gt;</span><span class="na">start</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">string</span> <span class="nv">$type</span><span class="p">,</span> <span class="nx">string</span> <span class="nv">$output</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a>    <span class="c1">// ...</span>
<a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a><span class="p">});</span>
<a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a>
<a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a><span class="k">while</span> <span class="p">(</span><span class="nv">$pool</span><span class="o">-&gt;</span><span class="na">running</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">isNotEmpty</span><span class="p">())</span> <span class="p">{</span>
<a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a>    <span class="c1">// ...</span>
<a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a><span class="p">}</span>
<a id="__codelineno-25-15" name="__codelineno-25-15" href="#__codelineno-25-15"></a>
<a id="__codelineno-25-16" name="__codelineno-25-16" href="#__codelineno-25-16"></a><span class="nv">$results</span> <span class="o">=</span> <span class="nv">$pool</span><span class="o">-&gt;</span><span class="na">wait</span><span class="p">();</span>
</code></pre></div>
<p>ご覧のように、プールのすべてのプロセスが実行を終了し、<code>wait</code> メソッドを介してそれらの結果を解決することができます。<code>wait</code> メソッドは、配列アクセス可能なオブジェクトを返し、プール内の各プロセスのプロセス結果インスタンスにキーでアクセスできます：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="nv">$results</span> <span class="o">=</span> <span class="nv">$pool</span><span class="o">-&gt;</span><span class="na">wait</span><span class="p">();</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="k">echo</span> <span class="nv">$results</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">output</span><span class="p">();</span>
</code></pre></div>
<p>また、便宜上、<code>concurrently</code> メソッドを使用して非同期プロセスプールを開始し、すぐにその結果を待つことができます。これは、PHPの配列の分解機能と組み合わせると、特に表現力豊かな構文を提供します：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="p">[</span><span class="nv">$first</span><span class="p">,</span> <span class="nv">$second</span><span class="p">,</span> <span class="nv">$third</span><span class="p">]</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">concurrently</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">Pool</span> <span class="nv">$pool</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>    <span class="nv">$pool</span><span class="o">-&gt;</span><span class="na">path</span><span class="p">(</span><span class="no">__DIR__</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">command</span><span class="p">(</span><span class="s1">&#39;ls -la&#39;</span><span class="p">);</span>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>    <span class="nv">$pool</span><span class="o">-&gt;</span><span class="na">path</span><span class="p">(</span><span class="nx">app_path</span><span class="p">())</span><span class="o">-&gt;</span><span class="na">command</span><span class="p">(</span><span class="s1">&#39;ls -la&#39;</span><span class="p">);</span>
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a>    <span class="nv">$pool</span><span class="o">-&gt;</span><span class="na">path</span><span class="p">(</span><span class="nx">storage_path</span><span class="p">())</span><span class="o">-&gt;</span><span class="na">command</span><span class="p">(</span><span class="s1">&#39;ls -la&#39;</span><span class="p">);</span>
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="p">});</span>
<a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a>
<a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="k">echo</span> <span class="nv">$first</span><span class="o">-&gt;</span><span class="na">output</span><span class="p">();</span>
</code></pre></div>
<p><a name="naming-pool-processes"></a></p>
<h3 id="_16">プールプロセスの命名<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<p>数値キーでプール結果にアクセスするのはあまり表現力がありません。そのため、Laravel は <code>as</code> メソッドを介してプール内の各プロセスに文字列キーを割り当てることができます。このキーは、<code>start</code> メソッドに提供されるクロージャにも渡され、どのプロセスの出力であるかを判断するのに役立ちます：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="nv">$pool</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">pool</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">Pool</span> <span class="nv">$pool</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>    <span class="nv">$pool</span><span class="o">-&gt;</span><span class="na">as</span><span class="p">(</span><span class="s1">&#39;first&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">command</span><span class="p">(</span><span class="s1">&#39;bash import-1.sh&#39;</span><span class="p">);</span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>    <span class="nv">$pool</span><span class="o">-&gt;</span><span class="na">as</span><span class="p">(</span><span class="s1">&#39;second&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">command</span><span class="p">(</span><span class="s1">&#39;bash import-2.sh&#39;</span><span class="p">);</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>    <span class="nv">$pool</span><span class="o">-&gt;</span><span class="na">as</span><span class="p">(</span><span class="s1">&#39;third&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">command</span><span class="p">(</span><span class="s1">&#39;bash import-3.sh&#39;</span><span class="p">);</span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="p">})</span><span class="o">-&gt;</span><span class="na">start</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">string</span> <span class="nv">$type</span><span class="p">,</span> <span class="nx">string</span> <span class="nv">$output</span><span class="p">,</span> <span class="nx">string</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>    <span class="c1">// ...</span>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="p">});</span>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a>
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="nv">$results</span> <span class="o">=</span> <span class="nv">$pool</span><span class="o">-&gt;</span><span class="na">wait</span><span class="p">();</span>
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a>
<a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="k">return</span> <span class="nv">$results</span><span class="p">[</span><span class="s1">&#39;first&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">output</span><span class="p">();</span>
</code></pre></div>
<p><a name="pool-process-ids-and-signals"></a></p>
<h3 id="id_1">プールプロセスIDとシグナル<a class="headerlink" href="#id_1" title="Permanent link">&para;</a></h3>
<p>プールの <code>running</code> メソッドは、プール内で呼び出されたすべてのプロセスのコレクションを提供するため、基礎となるプールプロセスIDに簡単にアクセスできます：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="nv">$processIds</span> <span class="o">=</span> <span class="nv">$pool</span><span class="o">-&gt;</span><span class="na">running</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">each</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">();</span>
</code></pre></div>
<p>また、便宜上、プールに対して <code>signal</code> メソッドを呼び出して、プール内のすべてのプロセスにシグナルを送信することができます：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="nv">$pool</span><span class="o">-&gt;</span><span class="na">signal</span><span class="p">(</span><span class="nx">SIGUSR2</span><span class="p">);</span>
</code></pre></div>
<p><a name="testing"></a></p>
<h2 id="_17">テスト<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h2>
<p>多くのLaravelサービスは、テストを簡単かつ表現力豊かに書くための機能を提供しており、Laravelのプロセスサービスも例外ではありません。<code>Process</code> ファサードの <code>fake</code> メソッドを使用すると、Laravelにプロセスが呼び出されたときにスタブ/ダミーの結果を返すよう指示できます。</p>
<p><a name="faking-processes"></a></p>
<h3 id="_18">プロセスのフェイク<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h3>
<p>Laravelのプロセスをフェイクする能力を探るために、プロセスを呼び出すルートを想像してみましょう：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Process</span><span class="p">;</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Route</span><span class="p">;</span>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/import&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a>    <span class="nx">Process</span><span class="o">::</span><span class="na">run</span><span class="p">(</span><span class="s1">&#39;bash import.sh&#39;</span><span class="p">);</span>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a>
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a>    <span class="k">return</span> <span class="s1">&#39;Import complete!&#39;</span><span class="p">;</span>
<a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="p">});</span>
</code></pre></div>
<p>このルートをテストする際、<code>Process</code> ファサードの <code>fake</code> メソッドを引数なしで呼び出すことで、Laravelにすべての呼び出されたプロセスに対してダミーの成功プロセス結果を返すよう指示できます。さらに、<a href="#available-assertions">アサーション</a> を使用して、特定のプロセスが「実行された」ことを確認できます：</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:1"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Pest</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="k">use</span> <span class="nx">Illuminate\Process\PendingProcess</span><span class="p">;</span>
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="k">use</span> <span class="nx">Illuminate\Contracts\Process\ProcessResult</span><span class="p">;</span>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Process</span><span class="p">;</span>
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;process is invoked&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a>    <span class="nx">Process</span><span class="o">::</span><span class="na">fake</span><span class="p">();</span>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a>
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a>    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/import&#39;</span><span class="p">);</span>
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a>
<a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a>    <span class="c1">// シンプルなプロセスアサーション...</span>
<a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a>    <span class="nx">Process</span><span class="o">::</span><span class="na">assertRan</span><span class="p">(</span><span class="s1">&#39;bash import.sh&#39;</span><span class="p">);</span>
<a id="__codelineno-32-14" name="__codelineno-32-14" href="#__codelineno-32-14"></a>
<a id="__codelineno-32-15" name="__codelineno-32-15" href="#__codelineno-32-15"></a>    <span class="c1">// または、プロセス設定の検査...</span>
<a id="__codelineno-32-16" name="__codelineno-32-16" href="#__codelineno-32-16"></a>    <span class="nx">Process</span><span class="o">::</span><span class="na">assertRan</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">PendingProcess</span> <span class="nv">$process</span><span class="p">,</span> <span class="nx">ProcessResult</span> <span class="nv">$result</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-32-17" name="__codelineno-32-17" href="#__codelineno-32-17"></a>        <span class="k">return</span> <span class="nv">$process</span><span class="o">-&gt;</span><span class="na">command</span> <span class="o">===</span> <span class="s1">&#39;bash import.sh&#39;</span> <span class="o">&amp;&amp;</span>
<a id="__codelineno-32-18" name="__codelineno-32-18" href="#__codelineno-32-18"></a>               <span class="nv">$process</span><span class="o">-&gt;</span><span class="na">timeout</span> <span class="o">===</span> <span class="mi">60</span><span class="p">;</span>
<a id="__codelineno-32-19" name="__codelineno-32-19" href="#__codelineno-32-19"></a>    <span class="p">});</span>
<a id="__codelineno-32-20" name="__codelineno-32-20" href="#__codelineno-32-20"></a><span class="p">});</span>
</code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="2:1"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">PHPUnit</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="k">namespace</span> <span class="nx">Tests\Feature</span><span class="p">;</span>
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="k">use</span> <span class="nx">Illuminate\Process\PendingProcess</span><span class="p">;</span>
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="k">use</span> <span class="nx">Illuminate\Contracts\Process\ProcessResult</span><span class="p">;</span>
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Process</span><span class="p">;</span>
<a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="k">use</span> <span class="nx">Tests\TestCase</span><span class="p">;</span>
<a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a>
<a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a><span class="k">class</span> <span class="nc">ExampleTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a><span class="p">{</span>
<a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a>    <span class="k">public</span> <span class="k">function</span> <span class="nf">test_process_is_invoked</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
<a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a>    <span class="p">{</span>
<a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a>        <span class="nx">Process</span><span class="o">::</span><span class="na">fake</span><span class="p">();</span>
<a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a>
<a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a>        <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/import&#39;</span><span class="p">);</span>
<a id="__codelineno-33-17" name="__codelineno-33-17" href="#__codelineno-33-17"></a>
<a id="__codelineno-33-18" name="__codelineno-33-18" href="#__codelineno-33-18"></a>        <span class="c1">// シンプルなプロセスアサーション...</span>
<a id="__codelineno-33-19" name="__codelineno-33-19" href="#__codelineno-33-19"></a>        <span class="nx">Process</span><span class="o">::</span><span class="na">assertRan</span><span class="p">(</span><span class="s1">&#39;bash import.sh&#39;</span><span class="p">);</span>
<a id="__codelineno-33-20" name="__codelineno-33-20" href="#__codelineno-33-20"></a>
<a id="__codelineno-33-21" name="__codelineno-33-21" href="#__codelineno-33-21"></a>        <span class="c1">// または、プロセス設定の検査...</span>
<a id="__codelineno-33-22" name="__codelineno-33-22" href="#__codelineno-33-22"></a>        <span class="nx">Process</span><span class="o">::</span><span class="na">assertRan</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">PendingProcess</span> <span class="nv">$process</span><span class="p">,</span> <span class="nx">ProcessResult</span> <span class="nv">$result</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-33-23" name="__codelineno-33-23" href="#__codelineno-33-23"></a>            <span class="k">return</span> <span class="nv">$process</span><span class="o">-&gt;</span><span class="na">command</span> <span class="o">===</span> <span class="s1">&#39;bash import.sh&#39;</span> <span class="o">&amp;&amp;</span>
<a id="__codelineno-33-24" name="__codelineno-33-24" href="#__codelineno-33-24"></a>                   <span class="nv">$process</span><span class="o">-&gt;</span><span class="na">timeout</span> <span class="o">===</span> <span class="mi">60</span><span class="p">;</span>
<a id="__codelineno-33-25" name="__codelineno-33-25" href="#__codelineno-33-25"></a>        <span class="p">});</span>
<a id="__codelineno-33-26" name="__codelineno-33-26" href="#__codelineno-33-26"></a>    <span class="p">}</span>
<a id="__codelineno-33-27" name="__codelineno-33-27" href="#__codelineno-33-27"></a><span class="p">}</span>
</code></pre></div>
<p>前述のように、<code>Process</code> ファサードの <code>fake</code> メソッドを呼び出すと、Laravelに常に出力のない成功プロセス結果を返すよう指示されます。ただし、<code>Process</code> ファサードの <code>result</code> メソッドを使用して、フェイクプロセスの出力と終了コードを簡単に指定できます：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="nx">Process</span><span class="o">::</span><span class="na">fake</span><span class="p">([</span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a>    <span class="s1">&#39;*&#39;</span> <span class="o">=&gt;</span> <span class="nx">Process</span><span class="o">::</span><span class="na">result</span><span class="p">(</span>
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a>        <span class="nx">output</span><span class="o">:</span> <span class="s1">&#39;Test output&#39;</span><span class="p">,</span>
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a>        <span class="nx">errorOutput</span><span class="o">:</span> <span class="s1">&#39;Test error output&#39;</span><span class="p">,</span>
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a>        <span class="nx">exitCode</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a>    <span class="p">),</span>
<a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a><span class="p">]);</span>
</code></pre></div>
<p><a name="faking-specific-processes"></a></p>
<h3 id="_19">特定のプロセスのフェイク<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h3>
<p>前の例で気づいたかもしれませんが、<code>Process</code> ファサードでは、<code>fake</code> メソッドに配列を渡すことで、プロセスごとに異なるフェイク結果を指定できます。</p>
<p>配列のキーは、フェイクしたいコマンドパターンを表し、それに関連する結果を指定します。<code>*</code> 文字をワイルドカード文字として使用できます。フェイクされていないプロセスコマンドは、実際に呼び出されます。<code>Process</code> ファサードの <code>result</code> メソッドを使用して、これらのコマンドのスタブ/フェイク結果を構築できます：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="nx">Process</span><span class="o">::</span><span class="na">fake</span><span class="p">([</span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a>    <span class="s1">&#39;cat *&#39;</span> <span class="o">=&gt;</span> <span class="nx">Process</span><span class="o">::</span><span class="na">result</span><span class="p">(</span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>        <span class="nx">output</span><span class="o">:</span> <span class="s1">&#39;Test &quot;cat&quot; output&#39;</span><span class="p">,</span>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a>    <span class="p">),</span>
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a>    <span class="s1">&#39;ls *&#39;</span> <span class="o">=&gt;</span> <span class="nx">Process</span><span class="o">::</span><span class="na">result</span><span class="p">(</span>
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a>        <span class="nx">output</span><span class="o">:</span> <span class="s1">&#39;Test &quot;ls&quot; output&#39;</span><span class="p">,</span>
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a>    <span class="p">),</span>
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="p">]);</span>
</code></pre></div>
<p>フェイクプロセスの終了コードやエラー出力をカスタマイズする必要がない場合、フェイクプロセス結果を単純な文字列として指定する方が便利かもしれません：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="nx">Process</span><span class="o">::</span><span class="na">fake</span><span class="p">([</span>
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a>    <span class="s1">&#39;cat *&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Test &quot;cat&quot; output&#39;</span><span class="p">,</span>
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a>    <span class="s1">&#39;ls *&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Test &quot;ls&quot; output&#39;</span><span class="p">,</span>
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="p">]);</span>
</code></pre></div>
<p><a name="faking-process-sequences"></a></p>
<h3 id="_20">プロセスシーケンスのフェイク<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h3>
<p>テストしているコードが同じコマンドで複数のプロセスを呼び出す場合、各プロセス呼び出しに異なるフェイクプロセス結果を割り当てたい場合があります。<code>Process</code> ファサードの <code>sequence</code> メソッドを使用して、これを実現できます：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="nx">Process</span><span class="o">::</span><span class="na">fake</span><span class="p">([</span>
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a>    <span class="s1">&#39;ls *&#39;</span> <span class="o">=&gt;</span> <span class="nx">Process</span><span class="o">::</span><span class="na">sequence</span><span class="p">()</span>
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a>                <span class="o">-&gt;</span><span class="na">push</span><span class="p">(</span><span class="nx">Process</span><span class="o">::</span><span class="na">result</span><span class="p">(</span><span class="s1">&#39;First invocation&#39;</span><span class="p">))</span>
<a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a>                <span class="o">-&gt;</span><span class="na">push</span><span class="p">(</span><span class="nx">Process</span><span class="o">::</span><span class="na">result</span><span class="p">(</span><span class="s1">&#39;Second invocation&#39;</span><span class="p">)),</span>
<a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="p">]);</span>
</code></pre></div>
<p><a name="faking-asynchronous-process-lifecycles"></a></p>
<h3 id="_21">非同期プロセスライフサイクルのフェイク<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h3>
<p>これまで、主に <code>run</code> メソッドを使用して同期的に呼び出されるプロセスをフェイクすることについて説明してきました。しかし、<code>start</code> を介して呼び出される非同期プロセスと対話するコードをテストしようとしている場合、より高度なアプローチが必要になることがあります。</p>
<p>例えば、非同期プロセスと対話する次のルートを想像してみましょう：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Log</span><span class="p">;</span>
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Route</span><span class="p">;</span>
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a>
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/import&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a>    <span class="nv">$process</span> <span class="o">=</span> <span class="nx">Process</span><span class="o">::</span><span class="na">start</span><span class="p">(</span><span class="s1">&#39;bash import.sh&#39;</span><span class="p">);</span>
<a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a>
<a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a>    <span class="k">while</span> <span class="p">(</span><span class="nv">$process</span><span class="o">-&gt;</span><span class="na">running</span><span class="p">())</span> <span class="p">{</span>
<a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a>        <span class="nx">Log</span><span class="o">::</span><span class="na">info</span><span class="p">(</span><span class="nv">$process</span><span class="o">-&gt;</span><span class="na">latestOutput</span><span class="p">());</span>
<a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a>        <span class="nx">Log</span><span class="o">::</span><span class="na">info</span><span class="p">(</span><span class="nv">$process</span><span class="o">-&gt;</span><span class="na">latestErrorOutput</span><span class="p">());</span>
<a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a>    <span class="p">}</span>
<a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a>
<a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a>    <span class="k">return</span> <span class="s1">&#39;Done&#39;</span><span class="p">;</span>
<a id="__codelineno-38-13" name="__codelineno-38-13" href="#__codelineno-38-13"></a><span class="p">});</span>
</code></pre></div>
<p>このプロセスを適切にフェイクするには、<code>running</code> メソッドが <code>true</code> を返す回数を指定する必要があります。さらに、シーケンスで返される複数行の出力を指定したい場合があります。これを実現するには、<code>Process</code> ファサードの <code>describe</code> メソッドを使用できます：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="nx">Process</span><span class="o">::</span><span class="na">fake</span><span class="p">([</span>
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a>    <span class="s1">&#39;bash import.sh&#39;</span> <span class="o">=&gt;</span> <span class="nx">Process</span><span class="o">::</span><span class="na">describe</span><span class="p">()</span>
<a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a>            <span class="o">-&gt;</span><span class="na">output</span><span class="p">(</span><span class="s1">&#39;First line of standard output&#39;</span><span class="p">)</span>
<a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a>            <span class="o">-&gt;</span><span class="na">errorOutput</span><span class="p">(</span><span class="s1">&#39;First line of error output&#39;</span><span class="p">)</span>
<a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a>            <span class="o">-&gt;</span><span class="na">output</span><span class="p">(</span><span class="s1">&#39;Second line of standard output&#39;</span><span class="p">)</span>
<a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a>            <span class="o">-&gt;</span><span class="na">exitCode</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a>            <span class="o">-&gt;</span><span class="na">iterations</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>
<a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a><span class="p">]);</span>
</code></pre></div>
<p>上記の例を詳しく見てみましょう。<code>output</code> および <code>errorOutput</code> メソッドを使用して、シーケンスで返される複数行の出力を指定できます。<code>exitCode</code> メソッドを使用して、フェイクプロセスの最終終了コードを指定できます。最後に、<code>iterations</code> メソッドを使用して、<code>running</code> メソッドが <code>true</code> を返す回数を指定できます。</p>
<p><a name="available-assertions"></a></p>
<h3 id="_22">利用可能なアサーション<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h3>
<p>Laravel のプロセスサービスは、テストを簡単かつ表現力豊かに書くための機能を提供しています。以下は、利用可能なアサーションの一覧です：</p>
<ul>
<li><code>Process::assertRan(string|Closure $command)</code>: 指定されたコマンドが実行されたことをアサートします。</li>
<li><code>Process::assertNotRan(string|Closure $command)</code>: 指定されたコマンドが実行されなかったことをアサートします。</li>
<li><code>Process::assertRanTimes(string|Closure $command, int $times)</code>: 指定されたコマンドが指定された回数実行されたことをアサートします。</li>
<li><code>Process::assertDidntRun(string|Closure $command)</code>: 指定されたコマンドが実行されなかったことをアサートします。</li>
<li><code>Process::assertRanWith(string|Closure $command, array $arguments)</code>: 指定されたコマンドが指定された引数で実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutArguments(string|Closure $command)</code>: 指定されたコマンドが引数なしで実行されたことをアサートします。</li>
<li><code>Process::assertRanIn(string|Closure $command, string $directory)</code>: 指定されたコマンドが指定されたディレクトリで実行されたことをアサートします。</li>
<li><code>Process::assertRanAsUser(string|Closure $command, string $user)</code>: 指定されたコマンドが指定されたユーザーとして実行されたことをアサートします。</li>
<li><code>Process::assertRanWithTimeout(string|Closure $command, int $timeout)</code>: 指定されたコマンドが指定されたタイムアウトで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithIdleTimeout(string|Closure $command, int $idleTimeout)</code>: 指定されたコマンドが指定されたアイドルタイムアウトで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithEnv(string|Closure $command, array $env)</code>: 指定されたコマンドが指定された環境変数で実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutEnv(string|Closure $command)</code>: 指定されたコマンドが環境変数なしで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithInput(string|Closure $command, string $input)</code>: 指定されたコマンドが指定された入力で実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutInput(string|Closure $command)</code>: 指定されたコマンドが入力なしで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithOutput(string|Closure $command, string $output)</code>: 指定されたコマンドが指定された出力で実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutOutput(string|Closure $command)</code>: 指定されたコマンドが出力なしで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithErrorOutput(string|Closure $command, string $errorOutput)</code>: 指定されたコマンドが指定されたエラー出力で実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutErrorOutput(string|Closure $command)</code>: 指定されたコマンドがエラー出力なしで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithExitCode(string|Closure $command, int $exitCode)</code>: 指定されたコマンドが指定された終了コードで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutExitCode(string|Closure $command)</code>: 指定されたコマンドが終了コードなしで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithException(string|Closure $command, Throwable $exception)</code>: 指定されたコマンドが指定された例外で実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutException(string|Closure $command)</code>: 指定されたコマンドが例外なしで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithExceptionMessage(string|Closure $command, string $message)</code>: 指定されたコマンドが指定された例外メッセージで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutExceptionMessage(string|Closure $command)</code>: 指定されたコマンドが例外メッセージなしで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithExceptionCode(string|Closure $command, int $code)</code>: 指定されたコマンドが指定された例外コードで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutExceptionCode(string|Closure $command)</code>: 指定されたコマンドが例外コードなしで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithExceptionTrace(string|Closure $command, string $trace)</code>: 指定されたコマンドが指定された例外トレースで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutExceptionTrace(string|Closure $command)</code>: 指定されたコマンドが例外トレースなしで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithExceptionFile(string|Closure $command, string $file)</code>: 指定されたコマンドが指定された例外ファイルで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutExceptionFile(string|Closure $command)</code>: 指定されたコマンドが例外ファイルなしで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithExceptionLine(string|Closure $command, int $line)</code>: 指定されたコマンドが指定された例外行で実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutExceptionLine(string|Closure $command)</code>: 指定されたコマンドが例外行なしで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithExceptionClass(string|Closure $command, string $class)</code>: 指定されたコマンドが指定された例外クラスで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutExceptionClass(string|Closure $command)</code>: 指定されたコマンドが例外クラスなしで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithExceptionPrevious(string|Closure $command, Throwable $previous)</code>: 指定されたコマンドが指定された前の例外で実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutExceptionPrevious(string|Closure $command)</code>: 指定されたコマンドが前の例外なしで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithExceptionPreviousMessage(string|Closure $command, string $message)</code>: 指定されたコマンドが指定された前の例外メッセージで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutExceptionPreviousMessage(string|Closure $command)</code>: 指定されたコマンドが前の例外メッセージなしで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithExceptionPreviousCode(string|Closure $command, int $code)</code>: 指定されたコマンドが指定された前の例外コードで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutExceptionPreviousCode(string|Closure $command)</code>: 指定されたコマンドが前の例外コードなしで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithExceptionPreviousTrace(string|Closure $command, string $trace)</code>: 指定されたコマンドが指定された前の例外トレースで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutExceptionPreviousTrace(string|Closure $command)</code>: 指定されたコマンドが前の例外トレースなしで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithExceptionPreviousFile(string|Closure $command, string $file)</code>: 指定されたコマンドが指定された前の例外ファイルで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutExceptionPreviousFile(string|Closure $command)</code>: 指定されたコマンドが前の例外ファイルなしで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithExceptionPreviousLine(string|Closure $command, int $line)</code>: 指定されたコマンドが指定された前の例外行で実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutExceptionPreviousLine(string|Closure $command)</code>: 指定されたコマンドが前の例外行なしで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithExceptionPreviousClass(string|Closure $command, string $class)</code>: 指定されたコマンドが指定された前の例外クラスで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutExceptionPreviousClass(string|Closure $command)</code>: 指定されたコマンドが前の例外クラスなしで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithExceptionPreviousPrevious(string|Closure $command, Throwable $previous)</code>: 指定されたコマンドが指定された前の前の例外で実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutExceptionPreviousPrevious(string|Closure $command)</code>: 指定されたコマンドが前の前の例外なしで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithExceptionPreviousPreviousMessage(string|Closure $command, string $message)</code>: 指定されたコマンドが指定された前の前の例外メッセージで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutExceptionPreviousPreviousMessage(string|Closure $command)</code>: 指定されたコマンドが前の前の例外メッセージなしで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithExceptionPreviousPreviousCode(string|Closure $command, int $code)</code>: 指定されたコマンドが指定された前の前の例外コードで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutExceptionPreviousPreviousCode(string|Closure $command)</code>: 指定されたコマンドが前の前の例外コードなしで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithExceptionPreviousPreviousTrace(string|Closure $command, string $trace)</code>: 指定されたコマンドが指定された前の前の例外トレースで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutExceptionPreviousPreviousTrace(string|Closure $command)</code>: 指定されたコマンドが前の前の例外トレースなしで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithExceptionPreviousPreviousFile(string|Closure $command, string $file)</code>: 指定されたコマンドが指定された前の前の例外ファイルで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutExceptionPreviousPreviousFile(string|Closure $command)</code>: 指定されたコマンドが前の前の例外ファイルなしで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithExceptionPreviousPreviousLine(string|Closure $command, int $line)</code>: 指定されたコマンドが指定された前の前の例外行で実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutExceptionPreviousPreviousLine(string|Closure $command)</code>: 指定されたコマンドが前の前の例外行なしで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithExceptionPreviousPreviousClass(string|Closure $command, string $class)</code>: 指定されたコマンドが指定された前の前の例外クラスで実行されたことをアサートします。</li>
<li><code>Process::assertRanWithoutExceptionPreviousPreviousClass(string|Closure $command)</code>: 指定されたコマンドが前の前の例外クラスなしで実行されたことをアサートします。</li>
<li>`Process::</li>
</ul>
<p><a href="#faking-processes">以前に議論したように</a>、Laravelは機能テストのためのいくつかのプロセスアサーションを提供しています。以下では、これらの各アサーションについて説明します。</p>
<p><a name="assert-process-ran"></a></p>
<h4 id="assertran">assertRan<a class="headerlink" href="#assertran" title="Permanent link">&para;</a></h4>
<p>指定されたプロセスが呼び出されたことをアサートします：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Process</span><span class="p">;</span>
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a>
<a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="nx">Process</span><span class="o">::</span><span class="na">assertRan</span><span class="p">(</span><span class="s1">&#39;ls -la&#39;</span><span class="p">);</span>
</code></pre></div>
<p><code>assertRan</code>メソッドはクロージャも受け入れます。このクロージャはプロセスのインスタンスとプロセス結果のインスタンスを受け取り、プロセスの設定オプションを検査できます。このクロージャが<code>true</code>を返す場合、アサーションは「パス」します：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="nx">Process</span><span class="o">::</span><span class="na">assertRan</span><span class="p">(</span><span class="nx">fn</span> <span class="p">(</span><span class="nv">$process</span><span class="p">,</span> <span class="nv">$result</span><span class="p">)</span> <span class="o">=&gt;</span>
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a>    <span class="nv">$process</span><span class="o">-&gt;</span><span class="na">command</span> <span class="o">===</span> <span class="s1">&#39;ls -la&#39;</span> <span class="o">&amp;&amp;</span>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a>    <span class="nv">$process</span><span class="o">-&gt;</span><span class="na">path</span> <span class="o">===</span> <span class="no">__DIR__</span> <span class="o">&amp;&amp;</span>
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a>    <span class="nv">$process</span><span class="o">-&gt;</span><span class="na">timeout</span> <span class="o">===</span> <span class="mi">60</span>
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="p">);</span>
</code></pre></div>
<p><code>assertRan</code>クロージャに渡される<code>$process</code>は<code>Illuminate\Process\PendingProcess</code>のインスタンスであり、<code>$result</code>は<code>Illuminate\Contracts\Process\ProcessResult</code>のインスタンスです。</p>
<p><a name="assert-process-didnt-run"></a></p>
<h4 id="assertdidntrun">assertDidntRun<a class="headerlink" href="#assertdidntrun" title="Permanent link">&para;</a></h4>
<p>指定されたプロセスが呼び出されなかったことをアサートします：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Process</span><span class="p">;</span>
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a>
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="nx">Process</span><span class="o">::</span><span class="na">assertDidntRun</span><span class="p">(</span><span class="s1">&#39;ls -la&#39;</span><span class="p">);</span>
</code></pre></div>
<p><code>assertRan</code>メソッドと同様に、<code>assertDidntRun</code>メソッドもクロージャを受け入れます。このクロージャはプロセスのインスタンスとプロセス結果のインスタンスを受け取り、プロセスの設定オプションを検査できます。このクロージャが<code>true</code>を返す場合、アサーションは「失敗」します：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="nx">Process</span><span class="o">::</span><span class="na">assertDidntRun</span><span class="p">(</span><span class="nx">fn</span> <span class="p">(</span><span class="nx">PendingProcess</span> <span class="nv">$process</span><span class="p">,</span> <span class="nx">ProcessResult</span> <span class="nv">$result</span><span class="p">)</span> <span class="o">=&gt;</span>
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a>    <span class="nv">$process</span><span class="o">-&gt;</span><span class="na">command</span> <span class="o">===</span> <span class="s1">&#39;ls -la&#39;</span>
<a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="p">);</span>
</code></pre></div>
<p><a name="assert-process-ran-times"></a></p>
<h4 id="assertrantimes">assertRanTimes<a class="headerlink" href="#assertrantimes" title="Permanent link">&para;</a></h4>
<p>指定されたプロセスが指定された回数呼び出されたことをアサートします：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Process</span><span class="p">;</span>
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a>
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="nx">Process</span><span class="o">::</span><span class="na">assertRanTimes</span><span class="p">(</span><span class="s1">&#39;ls -la&#39;</span><span class="p">,</span> <span class="nx">times</span><span class="o">:</span> <span class="mi">3</span><span class="p">);</span>
</code></pre></div>
<p><code>assertRanTimes</code>メソッドもクロージャを受け入れます。このクロージャはプロセスのインスタンスとプロセス結果のインスタンスを受け取り、プロセスの設定オプションを検査できます。このクロージャが<code>true</code>を返し、プロセスが指定された回数呼び出された場合、アサーションは「パス」します：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="nx">Process</span><span class="o">::</span><span class="na">assertRanTimes</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">PendingProcess</span> <span class="nv">$process</span><span class="p">,</span> <span class="nx">ProcessResult</span> <span class="nv">$result</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a>    <span class="k">return</span> <span class="nv">$process</span><span class="o">-&gt;</span><span class="na">command</span> <span class="o">===</span> <span class="s1">&#39;ls -la&#39;</span><span class="p">;</span>
<a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="p">},</span> <span class="nx">times</span><span class="o">:</span> <span class="mi">3</span><span class="p">);</span>
</code></pre></div>
<p><a name="preventing-stray-processes"></a></p>
<h3 id="_23">迷子プロセスの防止<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h3>
<p>個々のテストまたは完全なテストスイート全体で、呼び出されたすべてのプロセスが偽装されていることを確認したい場合は、<code>preventStrayProcesses</code>メソッドを呼び出すことができます。このメソッドを呼び出した後、対応する偽装結果を持たないプロセスは、実際のプロセスを開始する代わりに例外をスローします：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Process</span><span class="p">;</span>
<a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a>
<a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="nx">Process</span><span class="o">::</span><span class="na">preventStrayProcesses</span><span class="p">();</span>
<a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a>
<a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="nx">Process</span><span class="o">::</span><span class="na">fake</span><span class="p">([</span>
<a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a>    <span class="s1">&#39;ls *&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Test output...&#39;</span><span class="p">,</span>
<a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a><span class="p">]);</span>
<a id="__codelineno-46-8" name="__codelineno-46-8" href="#__codelineno-46-8"></a>
<a id="__codelineno-46-9" name="__codelineno-46-9" href="#__codelineno-46-9"></a><span class="c1">// 偽装されたレスポンスが返されます...</span>
<a id="__codelineno-46-10" name="__codelineno-46-10" href="#__codelineno-46-10"></a><span class="nx">Process</span><span class="o">::</span><span class="na">run</span><span class="p">(</span><span class="s1">&#39;ls -la&#39;</span><span class="p">);</span>
<a id="__codelineno-46-11" name="__codelineno-46-11" href="#__codelineno-46-11"></a>
<a id="__codelineno-46-12" name="__codelineno-46-12" href="#__codelineno-46-12"></a><span class="c1">// 例外がスローされます...</span>
<a id="__codelineno-46-13" name="__codelineno-46-13" href="#__codelineno-46-13"></a><span class="nx">Process</span><span class="o">::</span><span class="na">run</span><span class="p">(</span><span class="s1">&#39;bash import.sh&#39;</span><span class="p">);</span>
</code></pre></div>









  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
<nav class="md-footer-nav">
    
    
</nav>

    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": ["back-to-top", "navigation.expand", "navigation.tabs", "navigation.footer", "navigation.sections", "navigation.expand", "content.code.copy", "hide_repository_button", "content.code.annotate", "content.tabs.link", "toc.none", "content.action.edit"], "search": "assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  </body>
</html>