
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://github.com/koriym/laravel11-ja/http-tests.html">
      
      
        <link rel="prev" href="testing.html">
      
      
        <link rel="next" href="console-tests.html">
      
      
      <link rel="icon" href="assets/images/favicon_io/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.35">
    
    
      
        <title>HTTPテスト - L11JA</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.35f28582.min.css">
      
      


    
    

    

    
      <link rel="stylesheet" href="assets/css/php.css">
    
      <link rel="stylesheet" href="assets/css/mkdocs_material_extra.css">
    
      <link rel="stylesheet" href="assets/css/extra.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-G60CEHXLQ1"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-G60CEHXLQ1",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-G60CEHXLQ1",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    

  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#http" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <!-- Determine classes -->



<!-- Header -->
<header class="md-header" data-md-component="header">
  <nav
          class="md-header__inner md-grid"
          aria-label="Header"
  >

    <!-- Link to home -->
    <a
            href="."
            title="L11JA"
            class="md-header__button md-logo"
            aria-label="L11JA"
            data-md-component="logo"
    >
      
  <img src="assets/images/logo.png" alt="logo">

    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            <span style="font-family: 'Noto Sans'; font-size: 20px" >
            L11JA
            </span>
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            <span style="font-family: 'Noto Sans Batak'; font-size: 20px" >
            
              HTTPテスト
            
            </span>
          </span>
        </div>
      </div>
    </div>

    <!-- Color palette toggle -->
    

    <!-- User preference: color palette -->
    
    <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
    <label class="md-header__button md-icon" for="__search">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
    </label>

    <!-- Search interface -->
    <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <!-- Repository information -->
    
    <div class="md-header__source">
      

<!--
  Check whether the repository is hosted on one of the supported code hosting
  platforms (GitHub, GitLab or Bitbucket) to show icon.
-->


  


<!-- Repository containing source -->
<a href="https://github.com/koriym/l11ja" title="source.link.title"
    class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg width="24" height="24" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z" fill="#000"/></svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="releases.html" class="md-tabs__link">
          
  
  プロローグ

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="installation.html" class="md-tabs__link">
          
  
  はじめに

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="lifecycle.html" class="md-tabs__link">
          
  
  アーキテクチャ

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="routing.html" class="md-tabs__link">
          
  
  基本

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="artisan.html" class="md-tabs__link">
          
  
  掘り下げる

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="authentication.html" class="md-tabs__link">
          
  
  セキュリティ

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="database.html" class="md-tabs__link">
          
  
  データベース

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="eloquent.html" class="md-tabs__link">
          
  
  Eloquent ORM

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="testing.html" class="md-tabs__link">
          
  
  テスト

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="starter-kits.html" class="md-tabs__link">
          
  
  パッケージ

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="L11JA" class="md-nav__button md-logo" aria-label="L11JA" data-md-component="logo">
      
  <img src="assets/images/logo.png" alt="logo">

    </a>
    L11JA
  </label>
  
    <div class="md-nav__source">
      

<!--
  Check whether the repository is hosted on one of the supported code hosting
  platforms (GitHub, GitLab or Bitbucket) to show icon.
-->


  


<!-- Repository containing source -->
<a href="https://github.com/koriym/l11ja" title="source.link.title"
    class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg width="24" height="24" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z" fill="#000"/></svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    プロローグ
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            プロローグ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="releases.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    リリースノート
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="upgrade.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    アップグレードガイド
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="contributions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    貢献ガイド
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    はじめに
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            はじめに
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="installation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    インストール
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="configuration.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    設定
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="structure.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ディレクトリ構造
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="frontend.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    フロントエンド
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="starter-kits.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    スターターキット
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="deployment.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    デプロイ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    アーキテクチャ
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            アーキテクチャ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="lifecycle.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    リクエストライフサイクル
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="container.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    サービスコンテナ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="providers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    サービスプロバイダ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="facades.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ファサード
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    基本
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            基本
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="routing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ルーティング
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="middleware.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ミドルウェア
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="csrf.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSRF保護
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="controllers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    コントローラ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="requests.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    リクエスト
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="responses.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    レスポンス
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="views.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ビュー
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="blade.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bladeテンプレート
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="vite.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    アセットバンドル
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="urls.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    URL生成
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="session.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    セッション
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="validation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    バリデーション
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="errors.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    エラー処理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="logging.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ログ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    掘り下げる
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            掘り下げる
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="artisan.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Artisanコンソール
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="broadcasting.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ブロードキャスティング
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="cache.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    キャッシュ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="collections.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    コレクション
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="concurrency.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    並行処理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="context.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    コンテキスト
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="contracts.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    コントラクト
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="events.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    イベント
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="filesystem.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ファイルストレージ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="helpers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ヘルパー
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="http-client.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTTPクライアント
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="localization.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ローカライゼーション
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="mail.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    メール
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="notifications.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    通知
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="packages.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    パッケージ開発
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="processes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    プロセス
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="queues.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    キュー
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="rate-limiting.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    レート制限
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="strings.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    文字列
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="scheduling.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    タスクスケジューリング
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    セキュリティ
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            セキュリティ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="authentication.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    認証
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="authorization.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    認可
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="verification.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    メール確認
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="encryption.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    暗号化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="hashing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ハッシュ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="passwords.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    パスワードリセット
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    データベース
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            データベース
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="database.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    はじめに
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="queries.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クエリビルダ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="pagination.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ページネーション
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="migrations.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    マイグレーション
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="seeding.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    シーディング
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="redis.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Redis
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Eloquent ORM
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Eloquent ORM
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="eloquent.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    はじめに
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="eloquent-relationships.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    リレーションシップ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="eloquent-collections.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    コレクション
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="eloquent-mutators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ミューテータ / キャスト
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="eloquent-resources.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    APIリソース
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="eloquent-serialization.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    シリアライゼーション
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="eloquent-factories.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ファクトリ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  <span class="md-ellipsis">
    テスト
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            テスト
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="testing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    はじめに
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    HTTPテスト
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="http-tests.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    HTTPテスト
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      はじめに
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      リクエストの作成
    </span>
  </a>
  
    <nav class="md-nav" aria-label="リクエストの作成">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      リクエストヘッダのカスタマイズ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      クッキー
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      セッション / 認証
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      レスポンスのデバッグ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      例外処理
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#json-api" class="md-nav__link">
    <span class="md-ellipsis">
      JSON APIのテスト
    </span>
  </a>
  
    <nav class="md-nav" aria-label="JSON APIのテスト">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#json" class="md-nav__link">
    <span class="md-ellipsis">
      完全一致のJSONアサーション
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_1" class="md-nav__link">
    <span class="md-ellipsis">
      JSONパスのアサーション
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_2" class="md-nav__link">
    <span class="md-ellipsis">
      流暢なJSONテスト
    </span>
  </a>
  
    <nav class="md-nav" aria-label="流暢なJSONテスト">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#etc" class="md-nav__link">
    <span class="md-ellipsis">
      etc メソッドの理解
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      属性の存在 / 不在のアサーション
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_3" class="md-nav__link">
    <span class="md-ellipsis">
      JSONコレクションに対するアサーション
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_4" class="md-nav__link">
    <span class="md-ellipsis">
      JSONコレクションのアサーションのスコープ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_5" class="md-nav__link">
    <span class="md-ellipsis">
      JSONタイプのアサーション
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      ファイルアップロードのテスト
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ファイルアップロードのテスト">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      フェイクファイルのカスタマイズ
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      ビューのテスト
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ビューのテスト">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      エラーの共有
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#blade" class="md-nav__link">
    <span class="md-ellipsis">
      Bladeとコンポーネントのレンダリング
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      利用可能なアサーション
    </span>
  </a>
  
    <nav class="md-nav" aria-label="利用可能なアサーション">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      レスポンスのアサーション
    </span>
  </a>
  
    <nav class="md-nav" aria-label="レスポンスのアサーション">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#assertbadrequest" class="md-nav__link">
    <span class="md-ellipsis">
      assertBadRequest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertaccepted" class="md-nav__link">
    <span class="md-ellipsis">
      assertAccepted
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertconflict" class="md-nav__link">
    <span class="md-ellipsis">
      assertConflict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertcookie" class="md-nav__link">
    <span class="md-ellipsis">
      assertCookie
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertcookieexpired" class="md-nav__link">
    <span class="md-ellipsis">
      assertCookieExpired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertcookienotexpired" class="md-nav__link">
    <span class="md-ellipsis">
      assertCookieNotExpired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertcookiemissing" class="md-nav__link">
    <span class="md-ellipsis">
      assertCookieMissing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertcreated" class="md-nav__link">
    <span class="md-ellipsis">
      assertCreated
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertdontsee" class="md-nav__link">
    <span class="md-ellipsis">
      assertDontSee
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertdontseetext" class="md-nav__link">
    <span class="md-ellipsis">
      assertDontSeeText
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertdownload" class="md-nav__link">
    <span class="md-ellipsis">
      assertDownload
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertexactjson" class="md-nav__link">
    <span class="md-ellipsis">
      assertExactJson
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertexactjsonstructure" class="md-nav__link">
    <span class="md-ellipsis">
      assertExactJsonStructure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertforbidden" class="md-nav__link">
    <span class="md-ellipsis">
      assertForbidden
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertfound" class="md-nav__link">
    <span class="md-ellipsis">
      assertFound
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertgone" class="md-nav__link">
    <span class="md-ellipsis">
      assertGone
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertheader" class="md-nav__link">
    <span class="md-ellipsis">
      assertHeader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertheadermissing" class="md-nav__link">
    <span class="md-ellipsis">
      assertHeaderMissing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertinternalservererror" class="md-nav__link">
    <span class="md-ellipsis">
      assertInternalServerError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjson" class="md-nav__link">
    <span class="md-ellipsis">
      assertJson
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjsoncount" class="md-nav__link">
    <span class="md-ellipsis">
      assertJsonCount
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjsonfragment" class="md-nav__link">
    <span class="md-ellipsis">
      assertJsonFragment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjsonisarray" class="md-nav__link">
    <span class="md-ellipsis">
      assertJsonIsArray
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjsonisobject" class="md-nav__link">
    <span class="md-ellipsis">
      assertJsonIsObject
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjsonmissing" class="md-nav__link">
    <span class="md-ellipsis">
      assertJsonMissing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjsonmissingexact" class="md-nav__link">
    <span class="md-ellipsis">
      assertJsonMissingExact
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjsonmissingvalidationerrors" class="md-nav__link">
    <span class="md-ellipsis">
      assertJsonMissingValidationErrors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjsonpath" class="md-nav__link">
    <span class="md-ellipsis">
      assertJsonPath
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjsonmissingpath" class="md-nav__link">
    <span class="md-ellipsis">
      assertJsonMissingPath
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjsonstructure" class="md-nav__link">
    <span class="md-ellipsis">
      assertJsonStructure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjsonvalidationerrors" class="md-nav__link">
    <span class="md-ellipsis">
      assertJsonValidationErrors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjsonvalidationerrorfor" class="md-nav__link">
    <span class="md-ellipsis">
      assertJsonValidationErrorFor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertmethodnotallowed" class="md-nav__link">
    <span class="md-ellipsis">
      assertMethodNotAllowed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertmovedpermanently" class="md-nav__link">
    <span class="md-ellipsis">
      assertMovedPermanently
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertlocation" class="md-nav__link">
    <span class="md-ellipsis">
      assertLocation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertcontent" class="md-nav__link">
    <span class="md-ellipsis">
      assertContent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertnocontent" class="md-nav__link">
    <span class="md-ellipsis">
      assertNoContent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertstreamedcontent" class="md-nav__link">
    <span class="md-ellipsis">
      assertStreamedContent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertnotfound" class="md-nav__link">
    <span class="md-ellipsis">
      assertNotFound
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertok" class="md-nav__link">
    <span class="md-ellipsis">
      assertOk
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertpaymentrequired" class="md-nav__link">
    <span class="md-ellipsis">
      assertPaymentRequired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertplaincookie" class="md-nav__link">
    <span class="md-ellipsis">
      assertPlainCookie
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertredirect" class="md-nav__link">
    <span class="md-ellipsis">
      assertRedirect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertredirectcontains" class="md-nav__link">
    <span class="md-ellipsis">
      assertRedirectContains
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertredirecttoroute" class="md-nav__link">
    <span class="md-ellipsis">
      assertRedirectToRoute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertredirecttosignedroute" class="md-nav__link">
    <span class="md-ellipsis">
      assertRedirectToSignedRoute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertrequesttimeout" class="md-nav__link">
    <span class="md-ellipsis">
      assertRequestTimeout
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertsee" class="md-nav__link">
    <span class="md-ellipsis">
      assertSee
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertseeinorder" class="md-nav__link">
    <span class="md-ellipsis">
      assertSeeInOrder
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertseetext" class="md-nav__link">
    <span class="md-ellipsis">
      assertSeeText
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertseetextinorder" class="md-nav__link">
    <span class="md-ellipsis">
      assertSeeTextInOrder
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertservererror" class="md-nav__link">
    <span class="md-ellipsis">
      assertServerError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertserviceunavailable" class="md-nav__link">
    <span class="md-ellipsis">
      assertServiceUnavailable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertsessionhas" class="md-nav__link">
    <span class="md-ellipsis">
      assertSessionHas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertsessionhasinput" class="md-nav__link">
    <span class="md-ellipsis">
      assertSessionHasInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertsessionhasall" class="md-nav__link">
    <span class="md-ellipsis">
      assertSessionHasAll
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertsessionhaserrors" class="md-nav__link">
    <span class="md-ellipsis">
      assertSessionHasErrors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertsessionhaserrorsin" class="md-nav__link">
    <span class="md-ellipsis">
      assertSessionHasErrorsIn
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertsessionhasnoerrors" class="md-nav__link">
    <span class="md-ellipsis">
      assertSessionHasNoErrors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertsessiondoesnthaveerrors" class="md-nav__link">
    <span class="md-ellipsis">
      assertSessionDoesntHaveErrors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertsessionmissing" class="md-nav__link">
    <span class="md-ellipsis">
      assertSessionMissing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertstatus" class="md-nav__link">
    <span class="md-ellipsis">
      assertStatus
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertsuccessful" class="md-nav__link">
    <span class="md-ellipsis">
      assertSuccessful
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asserttoomanyrequests" class="md-nav__link">
    <span class="md-ellipsis">
      assertTooManyRequests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertunauthorized" class="md-nav__link">
    <span class="md-ellipsis">
      assertUnauthorized
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertunprocessable" class="md-nav__link">
    <span class="md-ellipsis">
      assertUnprocessable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertunsupportedmediatype" class="md-nav__link">
    <span class="md-ellipsis">
      assertUnsupportedMediaType
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertvalid" class="md-nav__link">
    <span class="md-ellipsis">
      assertValid
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertinvalid" class="md-nav__link">
    <span class="md-ellipsis">
      assertInvalid
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertviewhas" class="md-nav__link">
    <span class="md-ellipsis">
      assertViewHas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertviewhasall" class="md-nav__link">
    <span class="md-ellipsis">
      assertViewHasAll
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertviewis" class="md-nav__link">
    <span class="md-ellipsis">
      assertViewIs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertviewmissing" class="md-nav__link">
    <span class="md-ellipsis">
      assertViewMissing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      認証アサーション
    </span>
  </a>
  
    <nav class="md-nav" aria-label="認証アサーション">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#assertauthenticated" class="md-nav__link">
    <span class="md-ellipsis">
      assertAuthenticated
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertguest" class="md-nav__link">
    <span class="md-ellipsis">
      assertGuest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertauthenticatedas" class="md-nav__link">
    <span class="md-ellipsis">
      assertAuthenticatedAs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      バリデーションアサーション
    </span>
  </a>
  
    <nav class="md-nav" aria-label="バリデーションアサーション">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#assertvalid_1" class="md-nav__link">
    <span class="md-ellipsis">
      assertValid
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertinvalid_1" class="md-nav__link">
    <span class="md-ellipsis">
      assertInvalid
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="console-tests.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    コンソールテスト
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="dusk.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ブラウザテスト
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="database-testing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    データベース
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="mocking.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    モック
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    パッケージ
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            パッケージ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="starter-kits.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    スターターキット
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="billing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cashier (Stripe)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="cashier-paddle.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cashier (Paddle)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="dusk.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ブラウザテスト
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="envoy.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Envoy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="fortify.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fortify
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="folio.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Folio
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="homestead.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Homestead
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="horizon.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Horizon
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="mix.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mix
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="octane.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Octane
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="passport.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Passport
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="pennant.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pennant
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="pint.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pint
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="precognition.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Precognition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="prompts.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prompts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="pulse.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pulse
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="reverb.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reverb
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="sail.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sail
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="sanctum.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sanctum
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="scout.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scout
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="socialite.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Socialite
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="telescope.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Telescope
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="valet.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Valet
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      はじめに
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      リクエストの作成
    </span>
  </a>
  
    <nav class="md-nav" aria-label="リクエストの作成">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      リクエストヘッダのカスタマイズ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      クッキー
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      セッション / 認証
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      レスポンスのデバッグ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      例外処理
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#json-api" class="md-nav__link">
    <span class="md-ellipsis">
      JSON APIのテスト
    </span>
  </a>
  
    <nav class="md-nav" aria-label="JSON APIのテスト">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#json" class="md-nav__link">
    <span class="md-ellipsis">
      完全一致のJSONアサーション
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_1" class="md-nav__link">
    <span class="md-ellipsis">
      JSONパスのアサーション
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_2" class="md-nav__link">
    <span class="md-ellipsis">
      流暢なJSONテスト
    </span>
  </a>
  
    <nav class="md-nav" aria-label="流暢なJSONテスト">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#etc" class="md-nav__link">
    <span class="md-ellipsis">
      etc メソッドの理解
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      属性の存在 / 不在のアサーション
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_3" class="md-nav__link">
    <span class="md-ellipsis">
      JSONコレクションに対するアサーション
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_4" class="md-nav__link">
    <span class="md-ellipsis">
      JSONコレクションのアサーションのスコープ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_5" class="md-nav__link">
    <span class="md-ellipsis">
      JSONタイプのアサーション
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      ファイルアップロードのテスト
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ファイルアップロードのテスト">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      フェイクファイルのカスタマイズ
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      ビューのテスト
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ビューのテスト">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      エラーの共有
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#blade" class="md-nav__link">
    <span class="md-ellipsis">
      Bladeとコンポーネントのレンダリング
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      利用可能なアサーション
    </span>
  </a>
  
    <nav class="md-nav" aria-label="利用可能なアサーション">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      レスポンスのアサーション
    </span>
  </a>
  
    <nav class="md-nav" aria-label="レスポンスのアサーション">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#assertbadrequest" class="md-nav__link">
    <span class="md-ellipsis">
      assertBadRequest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertaccepted" class="md-nav__link">
    <span class="md-ellipsis">
      assertAccepted
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertconflict" class="md-nav__link">
    <span class="md-ellipsis">
      assertConflict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertcookie" class="md-nav__link">
    <span class="md-ellipsis">
      assertCookie
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertcookieexpired" class="md-nav__link">
    <span class="md-ellipsis">
      assertCookieExpired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertcookienotexpired" class="md-nav__link">
    <span class="md-ellipsis">
      assertCookieNotExpired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertcookiemissing" class="md-nav__link">
    <span class="md-ellipsis">
      assertCookieMissing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertcreated" class="md-nav__link">
    <span class="md-ellipsis">
      assertCreated
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertdontsee" class="md-nav__link">
    <span class="md-ellipsis">
      assertDontSee
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertdontseetext" class="md-nav__link">
    <span class="md-ellipsis">
      assertDontSeeText
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertdownload" class="md-nav__link">
    <span class="md-ellipsis">
      assertDownload
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertexactjson" class="md-nav__link">
    <span class="md-ellipsis">
      assertExactJson
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertexactjsonstructure" class="md-nav__link">
    <span class="md-ellipsis">
      assertExactJsonStructure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertforbidden" class="md-nav__link">
    <span class="md-ellipsis">
      assertForbidden
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertfound" class="md-nav__link">
    <span class="md-ellipsis">
      assertFound
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertgone" class="md-nav__link">
    <span class="md-ellipsis">
      assertGone
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertheader" class="md-nav__link">
    <span class="md-ellipsis">
      assertHeader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertheadermissing" class="md-nav__link">
    <span class="md-ellipsis">
      assertHeaderMissing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertinternalservererror" class="md-nav__link">
    <span class="md-ellipsis">
      assertInternalServerError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjson" class="md-nav__link">
    <span class="md-ellipsis">
      assertJson
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjsoncount" class="md-nav__link">
    <span class="md-ellipsis">
      assertJsonCount
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjsonfragment" class="md-nav__link">
    <span class="md-ellipsis">
      assertJsonFragment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjsonisarray" class="md-nav__link">
    <span class="md-ellipsis">
      assertJsonIsArray
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjsonisobject" class="md-nav__link">
    <span class="md-ellipsis">
      assertJsonIsObject
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjsonmissing" class="md-nav__link">
    <span class="md-ellipsis">
      assertJsonMissing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjsonmissingexact" class="md-nav__link">
    <span class="md-ellipsis">
      assertJsonMissingExact
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjsonmissingvalidationerrors" class="md-nav__link">
    <span class="md-ellipsis">
      assertJsonMissingValidationErrors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjsonpath" class="md-nav__link">
    <span class="md-ellipsis">
      assertJsonPath
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjsonmissingpath" class="md-nav__link">
    <span class="md-ellipsis">
      assertJsonMissingPath
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjsonstructure" class="md-nav__link">
    <span class="md-ellipsis">
      assertJsonStructure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjsonvalidationerrors" class="md-nav__link">
    <span class="md-ellipsis">
      assertJsonValidationErrors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertjsonvalidationerrorfor" class="md-nav__link">
    <span class="md-ellipsis">
      assertJsonValidationErrorFor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertmethodnotallowed" class="md-nav__link">
    <span class="md-ellipsis">
      assertMethodNotAllowed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertmovedpermanently" class="md-nav__link">
    <span class="md-ellipsis">
      assertMovedPermanently
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertlocation" class="md-nav__link">
    <span class="md-ellipsis">
      assertLocation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertcontent" class="md-nav__link">
    <span class="md-ellipsis">
      assertContent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertnocontent" class="md-nav__link">
    <span class="md-ellipsis">
      assertNoContent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertstreamedcontent" class="md-nav__link">
    <span class="md-ellipsis">
      assertStreamedContent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertnotfound" class="md-nav__link">
    <span class="md-ellipsis">
      assertNotFound
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertok" class="md-nav__link">
    <span class="md-ellipsis">
      assertOk
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertpaymentrequired" class="md-nav__link">
    <span class="md-ellipsis">
      assertPaymentRequired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertplaincookie" class="md-nav__link">
    <span class="md-ellipsis">
      assertPlainCookie
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertredirect" class="md-nav__link">
    <span class="md-ellipsis">
      assertRedirect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertredirectcontains" class="md-nav__link">
    <span class="md-ellipsis">
      assertRedirectContains
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertredirecttoroute" class="md-nav__link">
    <span class="md-ellipsis">
      assertRedirectToRoute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertredirecttosignedroute" class="md-nav__link">
    <span class="md-ellipsis">
      assertRedirectToSignedRoute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertrequesttimeout" class="md-nav__link">
    <span class="md-ellipsis">
      assertRequestTimeout
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertsee" class="md-nav__link">
    <span class="md-ellipsis">
      assertSee
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertseeinorder" class="md-nav__link">
    <span class="md-ellipsis">
      assertSeeInOrder
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertseetext" class="md-nav__link">
    <span class="md-ellipsis">
      assertSeeText
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertseetextinorder" class="md-nav__link">
    <span class="md-ellipsis">
      assertSeeTextInOrder
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertservererror" class="md-nav__link">
    <span class="md-ellipsis">
      assertServerError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertserviceunavailable" class="md-nav__link">
    <span class="md-ellipsis">
      assertServiceUnavailable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertsessionhas" class="md-nav__link">
    <span class="md-ellipsis">
      assertSessionHas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertsessionhasinput" class="md-nav__link">
    <span class="md-ellipsis">
      assertSessionHasInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertsessionhasall" class="md-nav__link">
    <span class="md-ellipsis">
      assertSessionHasAll
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertsessionhaserrors" class="md-nav__link">
    <span class="md-ellipsis">
      assertSessionHasErrors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertsessionhaserrorsin" class="md-nav__link">
    <span class="md-ellipsis">
      assertSessionHasErrorsIn
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertsessionhasnoerrors" class="md-nav__link">
    <span class="md-ellipsis">
      assertSessionHasNoErrors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertsessiondoesnthaveerrors" class="md-nav__link">
    <span class="md-ellipsis">
      assertSessionDoesntHaveErrors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertsessionmissing" class="md-nav__link">
    <span class="md-ellipsis">
      assertSessionMissing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertstatus" class="md-nav__link">
    <span class="md-ellipsis">
      assertStatus
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertsuccessful" class="md-nav__link">
    <span class="md-ellipsis">
      assertSuccessful
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asserttoomanyrequests" class="md-nav__link">
    <span class="md-ellipsis">
      assertTooManyRequests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertunauthorized" class="md-nav__link">
    <span class="md-ellipsis">
      assertUnauthorized
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertunprocessable" class="md-nav__link">
    <span class="md-ellipsis">
      assertUnprocessable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertunsupportedmediatype" class="md-nav__link">
    <span class="md-ellipsis">
      assertUnsupportedMediaType
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertvalid" class="md-nav__link">
    <span class="md-ellipsis">
      assertValid
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertinvalid" class="md-nav__link">
    <span class="md-ellipsis">
      assertInvalid
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertviewhas" class="md-nav__link">
    <span class="md-ellipsis">
      assertViewHas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertviewhasall" class="md-nav__link">
    <span class="md-ellipsis">
      assertViewHasAll
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertviewis" class="md-nav__link">
    <span class="md-ellipsis">
      assertViewIs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertviewmissing" class="md-nav__link">
    <span class="md-ellipsis">
      assertViewMissing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      認証アサーション
    </span>
  </a>
  
    <nav class="md-nav" aria-label="認証アサーション">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#assertauthenticated" class="md-nav__link">
    <span class="md-ellipsis">
      assertAuthenticated
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertguest" class="md-nav__link">
    <span class="md-ellipsis">
      assertGuest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertauthenticatedas" class="md-nav__link">
    <span class="md-ellipsis">
      assertAuthenticatedAs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      バリデーションアサーション
    </span>
  </a>
  
    <nav class="md-nav" aria-label="バリデーションアサーション">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#assertvalid_1" class="md-nav__link">
    <span class="md-ellipsis">
      assertValid
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertinvalid_1" class="md-nav__link">
    <span class="md-ellipsis">
      assertInvalid
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/koriym/l11ja/edit/ja/http-tests.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="http">HTTPテスト<a class="headerlink" href="#http" title="Permanent link">&para;</a></h1>
<ul>
<li><a href="#introduction">はじめに</a></li>
<li><a href="#making-requests">リクエストの作成</a><ul>
<li><a href="#customizing-request-headers">リクエストヘッダのカスタマイズ</a></li>
<li><a href="#cookies">クッキー</a></li>
<li><a href="#session-and-authentication">セッション / 認証</a></li>
<li><a href="#debugging-responses">レスポンスのデバッグ</a></li>
<li><a href="#exception-handling">例外処理</a></li>
</ul>
</li>
<li><a href="#testing-json-apis">JSON APIのテスト</a><ul>
<li><a href="#fluent-json-testing">流暢なJSONテスト</a></li>
</ul>
</li>
<li><a href="#testing-file-uploads">ファイルアップロードのテスト</a></li>
<li><a href="#testing-views">ビューのテスト</a><ul>
<li><a href="#rendering-blade-and-components">Bladeとコンポーネントのレンダリング</a></li>
</ul>
</li>
<li><a href="#available-assertions">利用可能なアサーション</a><ul>
<li><a href="#response-assertions">レスポンスのアサーション</a></li>
<li><a href="#authentication-assertions">認証のアサーション</a></li>
<li><a href="#validation-assertions">バリデーションのアサーション</a></li>
</ul>
</li>
</ul>
<p><a name="introduction"></a></p>
<h2 id="_1">はじめに<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>Laravelは、アプリケーションに対してHTTPリクエストを行い、レスポンスを調査するための非常に流暢なAPIを提供します。例えば、以下に定義された機能テストを見てみましょう。</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:1"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Pest</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;the application returns a successful response&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertStatus</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="p">});</span>
</code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="2:1"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">PHPUnit</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="k">namespace</span> <span class="nx">Tests\Feature</span><span class="p">;</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="k">use</span> <span class="nx">Tests\TestCase</span><span class="p">;</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="k">class</span> <span class="nc">ExampleTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="p">{</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>    <span class="sd">/**</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="sd">     * 基本的なテスト例。</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="sd">     */</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>    <span class="k">public</span> <span class="k">function</span> <span class="nf">test_the_application_returns_a_successful_response</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>    <span class="p">{</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>        <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>        <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertStatus</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>    <span class="p">}</span>
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a><span class="p">}</span>
</code></pre></div>
<p><code>get</code>メソッドはアプリケーションに対して<code>GET</code>リクエストを行い、<code>assertStatus</code>メソッドは返されたレスポンスが指定されたHTTPステータスコードを持つべきであることをアサートします。この単純なアサーションに加えて、Laravelにはレスポンスヘッダ、コンテンツ、JSON構造などを検査するためのさまざまなアサーションが含まれています。</p>
<p><a name="making-requests"></a></p>
<h2 id="_2">リクエストの作成<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p>アプリケーションにリクエストを行うには、テスト内で<code>get</code>、<code>post</code>、<code>put</code>、<code>patch</code>、または<code>delete</code>メソッドを呼び出すことができます。これらのメソッドは実際にはアプリケーションに対して「本物の」HTTPリクエストを発行しません。代わりに、ネットワークリクエスト全体が内部的にシミュレートされます。</p>
<p><code>Illuminate\Http\Response</code>インスタンスを返す代わりに、テストリクエストメソッドは<code>Illuminate\Testing\TestResponse</code>のインスタンスを返します。これは、アプリケーションのレスポンスを検査するための<a href="#available-assertions">さまざまな便利なアサーション</a>を提供します。</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:1"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Pest</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;basic request&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>    <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertStatus</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="p">});</span>
</code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="4:1"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">PHPUnit</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="k">namespace</span> <span class="nx">Tests\Feature</span><span class="p">;</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="k">use</span> <span class="nx">Tests\TestCase</span><span class="p">;</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="k">class</span> <span class="nc">ExampleTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="p">{</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>    <span class="sd">/**</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="sd">     * 基本的なテスト例。</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="sd">     */</span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>    <span class="k">public</span> <span class="k">function</span> <span class="nf">test_a_basic_request</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>    <span class="p">{</span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>        <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>        <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertStatus</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>    <span class="p">}</span>
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="p">}</span>
</code></pre></div>
<p>一般的に、各テストはアプリケーションに対して1つのリクエストのみを行うべきです。1つのテストメソッド内で複数のリクエストが実行されると、予期しない動作が発生する可能性があります。</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>便宜上、CSRFミドルウェアはテスト実行時に自動的に無効になります。</p>
</div>
<p><a name="customizing-request-headers"></a></p>
<h3 id="_3">リクエストヘッダのカスタマイズ<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p><code>withHeaders</code>メソッドを使用して、リクエストがアプリケーションに送信される前にリクエストのヘッダをカスタマイズできます。このメソッドを使用すると、リクエストに任意のカスタムヘッダを追加できます。</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:1"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">Pest</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;interacting with headers&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">withHeaders</span><span class="p">([</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>        <span class="s1">&#39;X-Header&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Value&#39;</span><span class="p">,</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>    <span class="p">])</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">&#39;/user&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Sally&#39;</span><span class="p">]);</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>    <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertStatus</span><span class="p">(</span><span class="mi">201</span><span class="p">);</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="p">});</span>
</code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="6:1"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">PHPUnit</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="k">namespace</span> <span class="nx">Tests\Feature</span><span class="p">;</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="k">use</span> <span class="nx">Tests\TestCase</span><span class="p">;</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="k">class</span> <span class="nc">ExampleTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="p">{</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>    <span class="sd">/**</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="sd">     * 基本的な機能テスト例。</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="sd">     */</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>    <span class="k">public</span> <span class="k">function</span> <span class="nf">test_interacting_with_headers</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>    <span class="p">{</span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>        <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">withHeaders</span><span class="p">([</span>
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>            <span class="s1">&#39;X-Header&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Value&#39;</span><span class="p">,</span>
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>        <span class="p">])</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">&#39;/user&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Sally&#39;</span><span class="p">]);</span>
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a>        <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertStatus</span><span class="p">(</span><span class="mi">201</span><span class="p">);</span>
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a>    <span class="p">}</span>
<a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a><span class="p">}</span>
</code></pre></div>
<p><a name="cookies"></a></p>
<h3 id="_4">クッキー<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p><code>withCookie</code>または<code>withCookies</code>メソッドを使用して、リクエストを行う前にクッキーの値を設定できます。<code>withCookie</code>メソッドはクッキー名と値を2つの引数として受け取り、<code>withCookies</code>メソッドは名前と値のペアの配列を受け取ります。</p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:1"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">Pest</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;interacting with cookies&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">withCookie</span><span class="p">(</span><span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">withCookies</span><span class="p">([</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>        <span class="s1">&#39;color&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>        <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Taylor&#39;</span><span class="p">,</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>    <span class="p">])</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>    <span class="c1">//</span>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="p">});</span>
</code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="8:1"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">PHPUnit</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="k">namespace</span> <span class="nx">Tests\Feature</span><span class="p">;</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="k">use</span> <span class="nx">Tests\TestCase</span><span class="p">;</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="k">class</span> <span class="nc">ExampleTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="p">{</span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>    <span class="k">public</span> <span class="k">function</span> <span class="nf">test_interacting_with_cookies</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>    <span class="p">{</span>
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>        <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">withCookie</span><span class="p">(</span><span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>        <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">withCookies</span><span class="p">([</span>
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a>            <span class="s1">&#39;color&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span>
<a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a>            <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Taylor&#39;</span><span class="p">,</span>
<a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a>        <span class="p">])</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
<a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a>
<a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a>        <span class="c1">//</span>
<a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a>    <span class="p">}</span>
<a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a><span class="p">}</span>
</code></pre></div>
<p><a name="session-and-authentication"></a></p>
<h3 id="_5">セッション / 認証<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<p>Laravelは、HTTPテスト中にセッションを操作するためのいくつかのヘルパーを提供します。まず、<code>withSession</code>メソッドを使用してセッションデータを指定された配列に設定できます。これは、アプリケーションにリクエストを発行する前にセッションにデータをロードするのに便利です。</p>
<div class="tabbed-set tabbed-alternate" data-tabs="9:1"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="__tabbed_9_1">Pest</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;interacting with the session&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">withSession</span><span class="p">([</span><span class="s1">&#39;banned&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>    <span class="c1">//</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="p">});</span>
</code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="10:1"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio" /><div class="tabbed-labels"><label for="__tabbed_10_1">PHPUnit</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="k">namespace</span> <span class="nx">Tests\Feature</span><span class="p">;</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="k">use</span> <span class="nx">Tests\TestCase</span><span class="p">;</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="k">class</span> <span class="nc">ExampleTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="p">{</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>    <span class="k">public</span> <span class="k">function</span> <span class="nf">test_interacting_with_the_session</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>    <span class="p">{</span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>        <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">withSession</span><span class="p">([</span><span class="s1">&#39;banned&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a>        <span class="c1">//</span>
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a>    <span class="p">}</span>
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="p">}</span>
</code></pre></div>
<p>Laravelのセッションは通常、現在認証されているユーザーの状態を維持するために使用されます。したがって、<code>actingAs</code>ヘルパーメソッドは、指定されたユーザーを現在のユーザーとして認証する簡単な方法を提供します。例えば、<a href="eloquent-factories.html">モデルファクトリ</a>を使用してユーザーを生成し、認証することができます。</p>
<div class="tabbed-set tabbed-alternate" data-tabs="11:1"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio" /><div class="tabbed-labels"><label for="__tabbed_11_1">Pest</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="k">use</span> <span class="nx">App\Models\User</span><span class="p">;</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;an action that requires authentication&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>    <span class="nv">$user</span> <span class="o">=</span> <span class="nx">User</span><span class="o">::</span><span class="na">factory</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">();</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">actingAs</span><span class="p">(</span><span class="nv">$user</span><span class="p">)</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>                     <span class="o">-&gt;</span><span class="na">withSession</span><span class="p">([</span><span class="s1">&#39;banned&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">])</span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>                     <span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>    <span class="c1">//</span>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="p">});</span>
</code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="12:1"><input checked="checked" id="__tabbed_12_1" name="__tabbed_12" type="radio" /><div class="tabbed-labels"><label for="__tabbed_12_1">PHPUnit</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="k">namespace</span> <span class="nx">Tests\Feature</span><span class="p">;</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="k">use</span> <span class="nx">App\Models\User</span><span class="p">;</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="k">use</span> <span class="nx">Tests\TestCase</span><span class="p">;</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="k">class</span> <span class="nc">ExampleTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="p">{</span>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>    <span class="k">public</span> <span class="k">function</span> <span class="nf">test_an_action_that_requires_authentication</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a>    <span class="p">{</span>
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>        <span class="nv">$user</span> <span class="o">=</span> <span class="nx">User</span><span class="o">::</span><span class="na">factory</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">();</span>
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a>        <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">actingAs</span><span class="p">(</span><span class="nv">$user</span><span class="p">)</span>
<a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a>                         <span class="o">-&gt;</span><span class="na">withSession</span><span class="p">([</span><span class="s1">&#39;banned&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">])</span>
<a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a>                         <span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
<a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a>
<a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a>        <span class="c1">//</span>
<a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a>    <span class="p">}</span>
<a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a><span class="p">}</span>
</code></pre></div>
<p><code>actingAs</code>メソッドの第2引数としてガード名を指定することで、指定されたユーザーを認証するために使用するガードを指定できます。<code>actingAs</code>メソッドに提供されたガードは、テストの間もデフォルトのガードとなります。</p>
<div class="highlight"><pre><span></span><code><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">actingAs</span><span class="p">(</span><span class="nv">$user</span><span class="p">,</span> <span class="s1">&#39;web&#39;</span><span class="p">)</span>
</code></pre></div>
<p><a name="debugging-responses"></a></p>
<h3 id="_6">レスポンスのデバッグ<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<p>アプリケーションに対してテストリクエストを行った後、<code>dump</code>、<code>dumpHeaders</code>、および<code>dumpSession</code>メソッドを使用してレスポンスの内容を調査およびデバッグできます。</p>
<div class="tabbed-set tabbed-alternate" data-tabs="13:1"><input checked="checked" id="__tabbed_13_1" name="__tabbed_13" type="radio" /><div class="tabbed-labels"><label for="__tabbed_13_1">Pest</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;basic test&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>    <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">dumpHeaders</span><span class="p">();</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>    <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">dumpSession</span><span class="p">();</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>    <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">dump</span><span class="p">();</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="p">});</span>
</code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="14:1"><input checked="checked" id="__tabbed_14_1" name="__tabbed_14" type="radio" /><div class="tabbed-labels"><label for="__tabbed_14_1">PHPUnit</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="k">namespace</span> <span class="nx">Tests\Feature</span><span class="p">;</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="k">use</span> <span class="nx">Tests\TestCase</span><span class="p">;</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="k">class</span> <span class="nc">ExampleTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="p">{</span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>    <span class="sd">/**</span>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="sd">     * 基本的なテスト例。</span>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="sd">     */</span>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>    <span class="k">public</span> <span class="k">function</span> <span class="nf">test_basic_test</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>    <span class="p">{</span>
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a>        <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a>
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a>        <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">dumpHeaders</span><span class="p">();</span>
<a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a>
<a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a>        <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">dumpSession</span><span class="p">();</span>
<a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a>
<a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a>        <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">dump</span><span class="p">();</span>
<a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a>    <span class="p">}</span>
<a id="__codelineno-13-22" name="__codelineno-13-22" href="#__codelineno-13-22"></a><span class="p">}</span>
</code></pre></div>
<p>あるいは、<code>dd</code>、<code>ddHeaders</code>、および<code>ddSession</code>メソッドを使用してレスポンスに関する情報をダンプし、実行を停止することもできます。</p>
<div class="tabbed-set tabbed-alternate" data-tabs="15:1"><input checked="checked" id="__tabbed_15_1" name="__tabbed_15" type="radio" /><div class="tabbed-labels"><label for="__tabbed_15_1">Pest</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;basic test&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>    <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">ddHeaders</span><span class="p">();</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>    <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">ddSession</span><span class="p">();</span>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>    <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">dd</span><span class="p">();</span>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="p">});</span>
</code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="16:1"><input checked="checked" id="__tabbed_16_1" name="__tabbed_16" type="radio" /><div class="tabbed-labels"><label for="__tabbed_16_1">PHPUnit</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="k">namespace</span> <span class="nx">Tests\Feature</span><span class="p">;</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="k">use</span> <span class="nx">Tests\TestCase</span><span class="p">;</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="k">class</span> <span class="nc">ExampleTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="p">{</span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>    <span class="sd">/**</span>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="sd">     * 基本的なテスト例。</span>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="sd">     */</span>
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a>    <span class="k">public</span> <span class="k">function</span> <span class="nf">test_basic_test</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
<a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a>    <span class="p">{</span>
<a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a>        <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
<a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a>
<a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a>        <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">ddHeaders</span><span class="p">();</span>
<a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a>
<a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a>        <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">ddSession</span><span class="p">();</span>
<a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a>
<a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a>        <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">dd</span><span class="p">();</span>
<a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a>    <span class="p">}</span>
<a id="__codelineno-15-22" name="__codelineno-15-22" href="#__codelineno-15-22"></a><span class="p">}</span>
</code></pre></div>
<p><a name="exception-handling"></a></p>
<h3 id="_7">例外処理<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<p>アプリケーションが特定の例外をスローすることをテストする必要がある場合があります。これを実現するために、<code>Exceptions</code>ファサードを介して例外ハンドラを「フェイク」することができます。例外ハンドラがフェイクされた後、リクエスト中にスローされた例外に対して<code>assertReported</code>および<code>assertNotReported</code>メソッドを使用してアサーションを行うことができます。</p>
<div class="tabbed-set tabbed-alternate" data-tabs="17:1"><input checked="checked" id="__tabbed_17_1" name="__tabbed_17" type="radio" /><div class="tabbed-labels"><label for="__tabbed_17_1">Pest</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="k">use</span> <span class="nx">App\Exceptions\InvalidOrderException</span><span class="p">;</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Exceptions</span><span class="p">;</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;exception is thrown&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>    <span class="nx">Exceptions</span><span class="o">::</span><span class="na">fake</span><span class="p">();</span>
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/order/1&#39;</span><span class="p">);</span>
<a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a>
<a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a>    <span class="c1">// 例外がスローされたことをアサート...</span>
<a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a>    <span class="nx">Exceptions</span><span class="o">::</span><span class="na">assertReported</span><span class="p">(</span><span class="nx">InvalidOrderException</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a>
<a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a>    <span class="c1">// 例外に対してアサート...</span>
<a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a>    <span class="nx">Exceptions</span><span class="o">::</span><span class="na">assertReported</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">InvalidOrderException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a>        <span class="k">return</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">()</span> <span class="o">===</span> <span class="s1">&#39;The order was invalid.&#39;</span><span class="p">;</span>
<a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a>    <span class="p">});</span>
<a id="__codelineno-16-18" name="__codelineno-16-18" href="#__codelineno-16-18"></a><span class="p">});</span>
</code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="18:1"><input checked="checked" id="__tabbed_18_1" name="__tabbed_18" type="radio" /><div class="tabbed-labels"><label for="__tabbed_18_1">PHPUnit</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="k">namespace</span> <span class="nx">Tests\Feature</span><span class="p">;</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="k">use</span> <span class="nx">App\Exceptions\InvalidOrderException</span><span class="p">;</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Exceptions</span><span class="p">;</span>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="k">use</span> <span class="nx">Tests\TestCase</span><span class="p">;</span>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="k">class</span> <span class="nc">ExampleTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="p">{</span>
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a>    <span class="sd">/**</span>
<a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a><span class="sd">     * 基本的なテスト例。</span>
<a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a><span class="sd">     */</span>
<a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a>    <span class="k">public</span> <span class="k">function</span> <span class="nf">test_exception_is_thrown</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
<a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a>    <span class="p">{</span>
<a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a>        <span class="nx">Exceptions</span><span class="o">::</span><span class="na">fake</span><span class="p">();</span>
<a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a>
<a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a>        <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
<a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a>
<a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a>        <span class="c1">// 例外がスローされたことをアサート...</span>
<a id="__codelineno-17-21" name="__codelineno-17-21" href="#__codelineno-17-21"></a>        <span class="nx">Exceptions</span><span class="o">::</span><span class="na">assertReported</span><span class="p">(</span><span class="nx">InvalidOrderException</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-17-22" name="__codelineno-17-22" href="#__codelineno-17-22"></a>
<a id="__codelineno-17-23" name="__codelineno-17-23" href="#__codelineno-17-23"></a>        <span class="c1">// 例外に対するアサーション...</span>
<a id="__codelineno-17-24" name="__codelineno-17-24" href="#__codelineno-17-24"></a>        <span class="nx">Exceptions</span><span class="o">::</span><span class="na">assertReported</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nx">InvalidOrderException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-17-25" name="__codelineno-17-25" href="#__codelineno-17-25"></a>            <span class="k">return</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">()</span> <span class="o">===</span> <span class="s1">&#39;The order was invalid.&#39;</span><span class="p">;</span>
<a id="__codelineno-17-26" name="__codelineno-17-26" href="#__codelineno-17-26"></a>        <span class="p">});</span>
<a id="__codelineno-17-27" name="__codelineno-17-27" href="#__codelineno-17-27"></a>    <span class="p">}</span>
<a id="__codelineno-17-28" name="__codelineno-17-28" href="#__codelineno-17-28"></a><span class="p">}</span>
</code></pre></div>
<p><code>assertNotReported</code> および <code>assertNothingReported</code> メソッドを使用して、特定の例外がリクエスト中にスローされなかったこと、または例外がスローされなかったことをアサートすることができます:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="nx">Exceptions</span><span class="o">::</span><span class="na">assertNotReported</span><span class="p">(</span><span class="nx">InvalidOrderException</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="nx">Exceptions</span><span class="o">::</span><span class="na">assertNothingReported</span><span class="p">();</span>
</code></pre></div>
<p>特定のリクエストに対して例外処理を完全に無効にするには、リクエストを行う前に <code>withoutExceptionHandling</code> メソッドを呼び出します:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">withoutExceptionHandling</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
</code></pre></div>
<p>さらに、アプリケーションがPHP言語やアプリケーションが使用しているライブラリによって非推奨となった機能を使用していないことを確認したい場合、リクエストを行う前に <code>withoutDeprecationHandling</code> メソッドを呼び出すことができます。非推奨の処理が無効になっている場合、非推奨の警告は例外に変換され、テストが失敗する原因となります:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">withoutDeprecationHandling</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
</code></pre></div>
<p><code>assertThrows</code> メソッドを使用して、指定されたクロージャ内のコードが指定されたタイプの例外をスローすることをアサートすることができます:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertThrows</span><span class="p">(</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>    <span class="nx">fn</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="k">new</span> <span class="nx">ProcessOrder</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">execute</span><span class="p">(),</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>    <span class="nx">OrderInvalid</span><span class="o">::</span><span class="na">class</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="p">);</span>
</code></pre></div>
<p>スローされた例外を検査してアサーションを行いたい場合、<code>assertThrows</code> メソッドの第二引数としてクロージャを提供することができます:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertThrows</span><span class="p">(</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>    <span class="nx">fn</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="k">new</span> <span class="nx">ProcessOrder</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">execute</span><span class="p">(),</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>    <span class="nx">fn</span> <span class="p">(</span><span class="nx">OrderInvalid</span> <span class="nv">$e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">orderId</span><span class="p">()</span> <span class="o">===</span> <span class="mi">123</span><span class="p">;</span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="p">);</span>
</code></pre></div>
<p><a name="testing-json-apis"></a></p>
<h2 id="json-api">JSON APIのテスト<a class="headerlink" href="#json-api" title="Permanent link">&para;</a></h2>
<p>Laravelは、JSON APIとそのレスポンスをテストするためのいくつかのヘルパーも提供しています。例えば、<code>json</code>、<code>getJson</code>、<code>postJson</code>、<code>putJson</code>、<code>patchJson</code>、<code>deleteJson</code>、および <code>optionsJson</code> メソッドを使用して、さまざまなHTTPメソッドでJSONリクエストを発行することができます。これらのメソッドにデータやヘッダーを簡単に渡すこともできます。始めるために、<code>/api/user</code> に <code>POST</code> リクエストを行い、期待されるJSONデータが返されたことをアサートするテストを書いてみましょう:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="19:1"><input checked="checked" id="__tabbed_19_1" name="__tabbed_19" type="radio" /><div class="tabbed-labels"><label for="__tabbed_19_1">Pest</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;making an api request&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">postJson</span><span class="p">(</span><span class="s1">&#39;/api/user&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Sally&#39;</span><span class="p">]);</span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a>    <span class="nv">$response</span>
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a>        <span class="o">-&gt;</span><span class="na">assertStatus</span><span class="p">(</span><span class="mi">201</span><span class="p">)</span>
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a>        <span class="o">-&gt;</span><span class="na">assertJson</span><span class="p">([</span>
<a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a>            <span class="s1">&#39;created&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
<a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a>         <span class="p">]);</span>
<a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a><span class="p">});</span>
</code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="20:1"><input checked="checked" id="__tabbed_20_1" name="__tabbed_20" type="radio" /><div class="tabbed-labels"><label for="__tabbed_20_1">PHPUnit</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="k">namespace</span> <span class="nx">Tests\Feature</span><span class="p">;</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="k">use</span> <span class="nx">Tests\TestCase</span><span class="p">;</span>
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="k">class</span> <span class="nc">ExampleTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="p">{</span>
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a>    <span class="sd">/**</span>
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="sd">     * A basic functional test example.</span>
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="sd">     */</span>
<a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a>    <span class="k">public</span> <span class="k">function</span> <span class="nf">test_making_an_api_request</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
<a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a>    <span class="p">{</span>
<a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a>        <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">postJson</span><span class="p">(</span><span class="s1">&#39;/api/user&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Sally&#39;</span><span class="p">]);</span>
<a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a>
<a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a>        <span class="nv">$response</span>
<a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a>            <span class="o">-&gt;</span><span class="na">assertStatus</span><span class="p">(</span><span class="mi">201</span><span class="p">)</span>
<a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a>            <span class="o">-&gt;</span><span class="na">assertJson</span><span class="p">([</span>
<a id="__codelineno-24-19" name="__codelineno-24-19" href="#__codelineno-24-19"></a>                <span class="s1">&#39;created&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
<a id="__codelineno-24-20" name="__codelineno-24-20" href="#__codelineno-24-20"></a>            <span class="p">]);</span>
<a id="__codelineno-24-21" name="__codelineno-24-21" href="#__codelineno-24-21"></a>    <span class="p">}</span>
<a id="__codelineno-24-22" name="__codelineno-24-22" href="#__codelineno-24-22"></a><span class="p">}</span>
</code></pre></div>
<p>さらに、JSONレスポンスデータはレスポンス上の配列変数としてアクセスできるため、JSONレスポンス内で返される個々の値を簡単に検査することができます:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="21:1"><input checked="checked" id="__tabbed_21_1" name="__tabbed_21" type="radio" /><div class="tabbed-labels"><label for="__tabbed_21_1">Pest</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="nx">expect</span><span class="p">(</span><span class="nv">$response</span><span class="p">[</span><span class="s1">&#39;created&#39;</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">toBeTrue</span><span class="p">();</span>
</code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="22:1"><input checked="checked" id="__tabbed_22_1" name="__tabbed_22" type="radio" /><div class="tabbed-labels"><label for="__tabbed_22_1">PHPUnit</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertTrue</span><span class="p">(</span><span class="nv">$response</span><span class="p">[</span><span class="s1">&#39;created&#39;</span><span class="p">]);</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>assertJson</code> メソッドは、アプリケーションによって返されたJSONレスポンス内に指定された配列が存在することを確認するために、レスポンスを配列に変換します。したがって、JSONレスポンスに他のプロパティが存在する場合でも、指定されたフラグメントが存在する限り、このテストは合格します。</p>
</div>
<p><a name="verifying-exact-match"></a></p>
<h4 id="json">完全一致のJSONアサーション<a class="headerlink" href="#json" title="Permanent link">&para;</a></h4>
<p>前述のように、<code>assertJson</code> メソッドを使用して、JSONレスポンス内にJSONのフラグメントが存在することをアサートすることができます。指定された配列がアプリケーションによって返されたJSONと<strong>完全に一致する</strong>ことを確認したい場合は、<code>assertExactJson</code> メソッドを使用する必要があります:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="23:1"><input checked="checked" id="__tabbed_23_1" name="__tabbed_23" type="radio" /><div class="tabbed-labels"><label for="__tabbed_23_1">Pest</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;asserting an exact json match&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a>    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">postJson</span><span class="p">(</span><span class="s1">&#39;/user&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Sally&#39;</span><span class="p">]);</span>
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a>
<a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a>    <span class="nv">$response</span>
<a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a>        <span class="o">-&gt;</span><span class="na">assertStatus</span><span class="p">(</span><span class="mi">201</span><span class="p">)</span>
<a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a>        <span class="o">-&gt;</span><span class="na">assertExactJson</span><span class="p">([</span>
<a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a>            <span class="s1">&#39;created&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
<a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a>        <span class="p">]);</span>
<a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a><span class="p">});</span>
</code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="24:1"><input checked="checked" id="__tabbed_24_1" name="__tabbed_24" type="radio" /><div class="tabbed-labels"><label for="__tabbed_24_1">PHPUnit</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="k">namespace</span> <span class="nx">Tests\Feature</span><span class="p">;</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="k">use</span> <span class="nx">Tests\TestCase</span><span class="p">;</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="k">class</span> <span class="nc">ExampleTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="p">{</span>
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a>    <span class="sd">/**</span>
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="sd">     * A basic functional test example.</span>
<a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="sd">     */</span>
<a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a>    <span class="k">public</span> <span class="k">function</span> <span class="nf">test_asserting_an_exact_json_match</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
<a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a>    <span class="p">{</span>
<a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a>        <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">postJson</span><span class="p">(</span><span class="s1">&#39;/user&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Sally&#39;</span><span class="p">]);</span>
<a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a>
<a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a>        <span class="nv">$response</span>
<a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a>            <span class="o">-&gt;</span><span class="na">assertStatus</span><span class="p">(</span><span class="mi">201</span><span class="p">)</span>
<a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a>            <span class="o">-&gt;</span><span class="na">assertExactJson</span><span class="p">([</span>
<a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a>                <span class="s1">&#39;created&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
<a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a>            <span class="p">]);</span>
<a id="__codelineno-28-21" name="__codelineno-28-21" href="#__codelineno-28-21"></a>    <span class="p">}</span>
<a id="__codelineno-28-22" name="__codelineno-28-22" href="#__codelineno-28-22"></a><span class="p">}</span>
</code></pre></div>
<p><a name="verifying-json-paths"></a></p>
<h4 id="json_1">JSONパスのアサーション<a class="headerlink" href="#json_1" title="Permanent link">&para;</a></h4>
<p>JSONレスポンスに指定されたパスに指定されたデータが含まれていることを確認したい場合は、<code>assertJsonPath</code> メソッドを使用する必要があります:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="25:1"><input checked="checked" id="__tabbed_25_1" name="__tabbed_25" type="radio" /><div class="tabbed-labels"><label for="__tabbed_25_1">Pest</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;asserting a json path value&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">postJson</span><span class="p">(</span><span class="s1">&#39;/user&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Sally&#39;</span><span class="p">]);</span>
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a>    <span class="nv">$response</span>
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a>        <span class="o">-&gt;</span><span class="na">assertStatus</span><span class="p">(</span><span class="mi">201</span><span class="p">)</span>
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a>        <span class="o">-&gt;</span><span class="na">assertJsonPath</span><span class="p">(</span><span class="s1">&#39;team.owner.name&#39;</span><span class="p">,</span> <span class="s1">&#39;Darian&#39;</span><span class="p">);</span>
<a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a><span class="p">});</span>
</code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="26:1"><input checked="checked" id="__tabbed_26_1" name="__tabbed_26" type="radio" /><div class="tabbed-labels"><label for="__tabbed_26_1">PHPUnit</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="k">namespace</span> <span class="nx">Tests\Feature</span><span class="p">;</span>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a>
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="k">use</span> <span class="nx">Tests\TestCase</span><span class="p">;</span>
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a>
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="k">class</span> <span class="nc">ExampleTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a><span class="p">{</span>
<a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a>    <span class="sd">/**</span>
<a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a><span class="sd">     * A basic functional test example.</span>
<a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a><span class="sd">     */</span>
<a id="__codelineno-30-12" name="__codelineno-30-12" href="#__codelineno-30-12"></a>    <span class="k">public</span> <span class="k">function</span> <span class="nf">test_asserting_a_json_paths_value</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
<a id="__codelineno-30-13" name="__codelineno-30-13" href="#__codelineno-30-13"></a>    <span class="p">{</span>
<a id="__codelineno-30-14" name="__codelineno-30-14" href="#__codelineno-30-14"></a>        <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">postJson</span><span class="p">(</span><span class="s1">&#39;/user&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Sally&#39;</span><span class="p">]);</span>
<a id="__codelineno-30-15" name="__codelineno-30-15" href="#__codelineno-30-15"></a>
<a id="__codelineno-30-16" name="__codelineno-30-16" href="#__codelineno-30-16"></a>        <span class="nv">$response</span>
<a id="__codelineno-30-17" name="__codelineno-30-17" href="#__codelineno-30-17"></a>            <span class="o">-&gt;</span><span class="na">assertStatus</span><span class="p">(</span><span class="mi">201</span><span class="p">)</span>
<a id="__codelineno-30-18" name="__codelineno-30-18" href="#__codelineno-30-18"></a>            <span class="o">-&gt;</span><span class="na">assertJsonPath</span><span class="p">(</span><span class="s1">&#39;team.owner.name&#39;</span><span class="p">,</span> <span class="s1">&#39;Darian&#39;</span><span class="p">);</span>
<a id="__codelineno-30-19" name="__codelineno-30-19" href="#__codelineno-30-19"></a>    <span class="p">}</span>
<a id="__codelineno-30-20" name="__codelineno-30-20" href="#__codelineno-30-20"></a><span class="p">}</span>
</code></pre></div>
<p><code>assertJsonPath</code> メソッドは、アサーションが通過するかどうかを動的に決定するためにクロージャも受け入れます:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertJsonPath</span><span class="p">(</span><span class="s1">&#39;team.owner.name&#39;</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">(</span><span class="nx">string</span> <span class="nv">$name</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$name</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">);</span>
</code></pre></div>
<p><a name="fluent-json-testing"></a></p>
<h3 id="json_2">流暢なJSONテスト<a class="headerlink" href="#json_2" title="Permanent link">&para;</a></h3>
<p>Laravelは、アプリケーションのJSONレスポンスを流暢にテストするための美しい方法も提供しています。始めるために、<code>assertJson</code> メソッドにクロージャを渡します。このクロージャは、アプリケーションによって返されたJSONに対してアサーションを行うために使用できる <code>Illuminate\Testing\Fluent\AssertableJson</code> のインスタンスで呼び出されます。<code>where</code> メソッドを使用してJSONの特定の属性に対してアサーションを行い、<code>missing</code> メソッドを使用して特定の属性がJSONから欠落していることをアサートすることができます:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="27:1"><input checked="checked" id="__tabbed_27_1" name="__tabbed_27" type="radio" /><div class="tabbed-labels"><label for="__tabbed_27_1">Pest</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="k">use</span> <span class="nx">Illuminate\Testing\Fluent\AssertableJson</span><span class="p">;</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;fluent json&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a>    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getJson</span><span class="p">(</span><span class="s1">&#39;/users/1&#39;</span><span class="p">);</span>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a>
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a>    <span class="nv">$response</span>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a>        <span class="o">-&gt;</span><span class="na">assertJson</span><span class="p">(</span><span class="nx">fn</span> <span class="p">(</span><span class="nx">AssertableJson</span> <span class="nv">$json</span><span class="p">)</span> <span class="o">=&gt;</span>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a>            <span class="nv">$json</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a>                 <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;Victoria Faith&#39;</span><span class="p">)</span>
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a>                 <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">(</span><span class="nx">string</span> <span class="nv">$email</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">str</span><span class="p">(</span><span class="nv">$email</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">is</span><span class="p">(</span><span class="s1">&#39;victoria@gmail.com&#39;</span><span class="p">))</span>
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a>                 <span class="o">-&gt;</span><span class="na">whereNot</span><span class="p">(</span><span class="s1">&#39;status&#39;</span><span class="p">,</span> <span class="s1">&#39;pending&#39;</span><span class="p">)</span>
<a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a>                 <span class="o">-&gt;</span><span class="na">missing</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">)</span>
<a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a>                 <span class="o">-&gt;</span><span class="na">etc</span><span class="p">()</span>
<a id="__codelineno-32-14" name="__codelineno-32-14" href="#__codelineno-32-14"></a>        <span class="p">);</span>
<a id="__codelineno-32-15" name="__codelineno-32-15" href="#__codelineno-32-15"></a><span class="p">});</span>
</code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="28:1"><input checked="checked" id="__tabbed_28_1" name="__tabbed_28" type="radio" /><div class="tabbed-labels"><label for="__tabbed_28_1">PHPUnit</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="k">use</span> <span class="nx">Illuminate\Testing\Fluent\AssertableJson</span><span class="p">;</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="sd">/**</span>
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="sd"> * A basic functional test example.</span>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="sd"> */</span>
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="k">public</span> <span class="k">function</span> <span class="nf">test_fluent_json</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="p">{</span>
<a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a>    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getJson</span><span class="p">(</span><span class="s1">&#39;/users/1&#39;</span><span class="p">);</span>
<a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a>
<a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a>    <span class="nv">$response</span>
<a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a>        <span class="o">-&gt;</span><span class="na">assertJson</span><span class="p">(</span><span class="nx">fn</span> <span class="p">(</span><span class="nx">AssertableJson</span> <span class="nv">$json</span><span class="p">)</span> <span class="o">=&gt;</span>
<a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a>            <span class="nv">$json</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a>                 <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;Victoria Faith&#39;</span><span class="p">)</span>
<a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a>                 <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">(</span><span class="nx">string</span> <span class="nv">$email</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">str</span><span class="p">(</span><span class="nv">$email</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">is</span><span class="p">(</span><span class="s1">&#39;victoria@gmail.com&#39;</span><span class="p">))</span>
<a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a>                 <span class="o">-&gt;</span><span class="na">whereNot</span><span class="p">(</span><span class="s1">&#39;status&#39;</span><span class="p">,</span> <span class="s1">&#39;pending&#39;</span><span class="p">)</span>
<a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a>                 <span class="o">-&gt;</span><span class="na">missing</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">)</span>
<a id="__codelineno-33-17" name="__codelineno-33-17" href="#__codelineno-33-17"></a>                 <span class="o">-&gt;</span><span class="na">etc</span><span class="p">()</span>
<a id="__codelineno-33-18" name="__codelineno-33-18" href="#__codelineno-33-18"></a>        <span class="p">);</span>
<a id="__codelineno-33-19" name="__codelineno-33-19" href="#__codelineno-33-19"></a><span class="p">}</span>
</code></pre></div>
<h4 id="etc"><code>etc</code> メソッドの理解<a class="headerlink" href="#etc" title="Permanent link">&para;</a></h4>
<p>上記の例では、アサーションチェーンの最後に <code>etc</code> メソッドを呼び出したことに気づいたかもしれません。このメソッドは、JSONオブジェクトに他の属性が存在する可能性があることをLaravelに通知します。<code>etc</code> メソッドが使用されない場合、アサーションを行わなかった他の属性がJSONオブジェクトに存在すると、テストは失敗します。</p>
<p>この動作の意図は、アサーションを明示的に行うか、<code>etc</code> メソッドを介して明示的に追加の属性を許可することで、意図せずにJSONレスポンスで機密情報を公開することを防ぐことです。</p>
<p>ただし、アサーションチェーンに <code>etc</code> メソッドを含めないことは、JSONオブジェクト内にネストされた配列に追加の属性が追加されないことを保証するものではないことに注意してください。<code>etc</code> メソッドは、<code>etc</code> メソッドが呼び出されたネストレベルにおいて、追加の属性が存在しないことを保証するだけです。</p>
<p><a name="asserting-json-attribute-presence-and-absence"></a></p>
<h4 id="_8">属性の存在 / 不在のアサーション<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h4>
<p>属性の存在または不在をアサートするには、<code>has</code> および <code>missing</code> メソッドを使用できます:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertJson</span><span class="p">(</span><span class="nx">fn</span> <span class="p">(</span><span class="nx">AssertableJson</span> <span class="nv">$json</span><span class="p">)</span> <span class="o">=&gt;</span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a>    <span class="nv">$json</span><span class="o">-&gt;</span><span class="na">has</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">)</span>
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a>         <span class="o">-&gt;</span><span class="na">missing</span><span class="p">(</span><span class="s1">&#39;message&#39;</span><span class="p">)</span>
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="p">);</span>
</code></pre></div>
<p>さらに、<code>hasAll</code> および <code>missingAll</code> メソッドを使用して、複数の属性の存在または不在を同時にアサートすることができます:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertJson</span><span class="p">(</span><span class="nx">fn</span> <span class="p">(</span><span class="nx">AssertableJson</span> <span class="nv">$json</span><span class="p">)</span> <span class="o">=&gt;</span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a>    <span class="nv">$json</span><span class="o">-&gt;</span><span class="na">hasAll</span><span class="p">([</span><span class="s1">&#39;status&#39;</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">])</span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>         <span class="o">-&gt;</span><span class="na">missingAll</span><span class="p">([</span><span class="s1">&#39;message&#39;</span><span class="p">,</span> <span class="s1">&#39;code&#39;</span><span class="p">])</span>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="p">);</span>
</code></pre></div>
<p>指定されたリストの属性の少なくとも1つが存在することを確認するには、<code>hasAny</code> メソッドを使用できます:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertJson</span><span class="p">(</span><span class="nx">fn</span> <span class="p">(</span><span class="nx">AssertableJson</span> <span class="nv">$json</span><span class="p">)</span> <span class="o">=&gt;</span>
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a>    <span class="nv">$json</span><span class="o">-&gt;</span><span class="na">has</span><span class="p">(</span><span class="s1">&#39;status&#39;</span><span class="p">)</span>
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a>         <span class="o">-&gt;</span><span class="na">hasAny</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="s1">&#39;message&#39;</span><span class="p">,</span> <span class="s1">&#39;code&#39;</span><span class="p">)</span>
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="p">);</span>
</code></pre></div>
<p><a name="asserting-against-json-collections"></a></p>
<h4 id="json_3">JSONコレクションに対するアサーション<a class="headerlink" href="#json_3" title="Permanent link">&para;</a></h4>
<p>多くの場合、ルートは複数のアイテム（例えば複数のユーザー）を含むJSONレスポンスを返します:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/users&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a>    <span class="k">return</span> <span class="nx">User</span><span class="o">::</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="p">});</span>
</code></pre></div>
<p>これらの状況では、流暢なJSONオブジェクトの <code>has</code> メソッドを使用して、レスポンスに含まれるユーザーに対してアサーションを行うことができます。例えば、JSONレスポンスに3人のユーザーが含まれていることをアサートしましょう。次に、コレクションの最初のユーザーに対して <code>first</code> メソッドを使用していくつかのアサーションを行います。<code>first</code> メソッドは、クロージャを受け取り、このクロージャはJSONコレクションの最初のオブジェクトに対してアサーションを行うために使用できる別のアサーション可能なJSON文字列を受け取ります:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span>
    <span class="o">-&gt;</span><span class="na">assertJson</span><span class="p">(</span><span class="nx">fn</span> <span class="p">(</span><span class="nx">AssertableJson</span> <span class="nv">$json</span><span class="p">)</span> <span class="o">=&gt;</span>
<span class="nv">$json</span><span class="o">-&gt;</span><span class="na">has</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
     <span class="o">-&gt;</span><span class="na">first</span><span class="p">(</span><span class="nx">fn</span> <span class="p">(</span><span class="nx">AssertableJson</span> <span class="nv">$json</span><span class="p">)</span> <span class="o">=&gt;</span>
        <span class="nv">$json</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
             <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;Victoria Faith&#39;</span><span class="p">)</span>
             <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">(</span><span class="nx">string</span> <span class="nv">$email</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">str</span><span class="p">(</span><span class="nv">$email</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">is</span><span class="p">(</span><span class="s1">&#39;victoria@gmail.com&#39;</span><span class="p">))</span>
             <span class="o">-&gt;</span><span class="na">missing</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">)</span>
             <span class="o">-&gt;</span><span class="na">etc</span><span class="p">()</span>
     <span class="p">)</span>
</code></pre></div>
<p>);</p>
<p><a name="scoping-json-collection-assertions"></a></p>
<h4 id="json_4">JSONコレクションのアサーションのスコープ<a class="headerlink" href="#json_4" title="Permanent link">&para;</a></h4>
<p>アプリケーションのルートが名前付きキーに割り当てられたJSONコレクションを返す場合があります。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/users&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a>    <span class="k">return</span> <span class="p">[</span>
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a>        <span class="s1">&#39;meta&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="o">...</span><span class="p">],</span>
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a>        <span class="s1">&#39;users&#39;</span> <span class="o">=&gt;</span> <span class="nx">User</span><span class="o">::</span><span class="na">all</span><span class="p">(),</span>
<a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a>    <span class="p">];</span>
<a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="p">});</span>
</code></pre></div>
<p>これらのルートをテストする場合、<code>has</code>メソッドを使用してコレクション内のアイテム数に対してアサーションを行うことができます。さらに、<code>has</code>メソッドを使用してアサーションのチェーンをスコープすることもできます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="nv">$response</span>
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a>    <span class="o">-&gt;</span><span class="na">assertJson</span><span class="p">(</span><span class="nx">fn</span> <span class="p">(</span><span class="nx">AssertableJson</span> <span class="nv">$json</span><span class="p">)</span> <span class="o">=&gt;</span>
<a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a>        <span class="nv">$json</span><span class="o">-&gt;</span><span class="na">has</span><span class="p">(</span><span class="s1">&#39;meta&#39;</span><span class="p">)</span>
<a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a>             <span class="o">-&gt;</span><span class="na">has</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a>             <span class="o">-&gt;</span><span class="na">has</span><span class="p">(</span><span class="s1">&#39;users.0&#39;</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">(</span><span class="nx">AssertableJson</span> <span class="nv">$json</span><span class="p">)</span> <span class="o">=&gt;</span>
<a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a>                <span class="nv">$json</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a>                     <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;Victoria Faith&#39;</span><span class="p">)</span>
<a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a>                     <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">(</span><span class="nx">string</span> <span class="nv">$email</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">str</span><span class="p">(</span><span class="nv">$email</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">is</span><span class="p">(</span><span class="s1">&#39;victoria@gmail.com&#39;</span><span class="p">))</span>
<a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a>                     <span class="o">-&gt;</span><span class="na">missing</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">)</span>
<a id="__codelineno-39-10" name="__codelineno-39-10" href="#__codelineno-39-10"></a>                     <span class="o">-&gt;</span><span class="na">etc</span><span class="p">()</span>
<a id="__codelineno-39-11" name="__codelineno-39-11" href="#__codelineno-39-11"></a>             <span class="p">)</span>
<a id="__codelineno-39-12" name="__codelineno-39-12" href="#__codelineno-39-12"></a>    <span class="p">);</span>
</code></pre></div>
<p>ただし、<code>users</code>コレクションに対して2つの別々の<code>has</code>メソッド呼び出しを行う代わりに、3番目のパラメータとしてクロージャを提供する単一の呼び出しを行うことができます。その場合、クロージャは自動的に呼び出され、コレクションの最初のアイテムにスコープされます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="nv">$response</span>
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a>    <span class="o">-&gt;</span><span class="na">assertJson</span><span class="p">(</span><span class="nx">fn</span> <span class="p">(</span><span class="nx">AssertableJson</span> <span class="nv">$json</span><span class="p">)</span> <span class="o">=&gt;</span>
<a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a>        <span class="nv">$json</span><span class="o">-&gt;</span><span class="na">has</span><span class="p">(</span><span class="s1">&#39;meta&#39;</span><span class="p">)</span>
<a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a>             <span class="o">-&gt;</span><span class="na">has</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">(</span><span class="nx">AssertableJson</span> <span class="nv">$json</span><span class="p">)</span> <span class="o">=&gt;</span>
<a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a>                <span class="nv">$json</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a>                     <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;Victoria Faith&#39;</span><span class="p">)</span>
<a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a>                     <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">(</span><span class="nx">string</span> <span class="nv">$email</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">str</span><span class="p">(</span><span class="nv">$email</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">is</span><span class="p">(</span><span class="s1">&#39;victoria@gmail.com&#39;</span><span class="p">))</span>
<a id="__codelineno-40-8" name="__codelineno-40-8" href="#__codelineno-40-8"></a>                     <span class="o">-&gt;</span><span class="na">missing</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">)</span>
<a id="__codelineno-40-9" name="__codelineno-40-9" href="#__codelineno-40-9"></a>                     <span class="o">-&gt;</span><span class="na">etc</span><span class="p">()</span>
<a id="__codelineno-40-10" name="__codelineno-40-10" href="#__codelineno-40-10"></a>             <span class="p">)</span>
<a id="__codelineno-40-11" name="__codelineno-40-11" href="#__codelineno-40-11"></a>    <span class="p">);</span>
</code></pre></div>
<p><a name="asserting-json-types"></a></p>
<h4 id="json_5">JSONタイプのアサーション<a class="headerlink" href="#json_5" title="Permanent link">&para;</a></h4>
<p>JSONレスポンスのプロパティが特定のタイプであることをアサートしたい場合があります。<code>Illuminate\Testing\Fluent\AssertableJson</code>クラスは、<code>whereType</code>と<code>whereAllType</code>メソッドを提供してそれを行います。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertJson</span><span class="p">(</span><span class="nx">fn</span> <span class="p">(</span><span class="nx">AssertableJson</span> <span class="nv">$json</span><span class="p">)</span> <span class="o">=&gt;</span>
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a>    <span class="nv">$json</span><span class="o">-&gt;</span><span class="na">whereType</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;integer&#39;</span><span class="p">)</span>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a>         <span class="o">-&gt;</span><span class="na">whereAllType</span><span class="p">([</span>
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a>            <span class="s1">&#39;users.0.name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a>            <span class="s1">&#39;meta&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;array&#39;</span>
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a>        <span class="p">])</span>
<a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="p">);</span>
</code></pre></div>
<p><code>|</code>文字を使用して複数のタイプを指定したり、<code>whereType</code>メソッドに2番目のパラメータとしてタイプの配列を渡すことができます。アサーションは、レスポンス値がリストされたタイプのいずれかである場合に成功します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertJson</span><span class="p">(</span><span class="nx">fn</span> <span class="p">(</span><span class="nx">AssertableJson</span> <span class="nv">$json</span><span class="p">)</span> <span class="o">=&gt;</span>
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a>    <span class="nv">$json</span><span class="o">-&gt;</span><span class="na">whereType</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;string|null&#39;</span><span class="p">)</span>
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a>         <span class="o">-&gt;</span><span class="na">whereType</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;integer&#39;</span><span class="p">])</span>
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="p">);</span>
</code></pre></div>
<p><code>whereType</code>と<code>whereAllType</code>メソッドは、以下のタイプを認識します: <code>string</code>, <code>integer</code>, <code>double</code>, <code>boolean</code>, <code>array</code>, <code>null</code>。</p>
<p><a name="testing-file-uploads"></a></p>
<h2 id="_9">ファイルアップロードのテスト<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h2>
<p><code>Illuminate\Http\UploadedFile</code>クラスは、ダミーファイルや画像を生成するために使用できる<code>fake</code>メソッドを提供します。これは、<code>Storage</code>ファサードの<code>fake</code>メソッドと組み合わせることで、ファイルアップロードのテストが大幅に簡素化されます。たとえば、これら2つの機能を組み合わせて、アバターアップロードフォームを簡単にテストできます。</p>
<div class="tabbed-set tabbed-alternate" data-tabs="29:1"><input checked="checked" id="__tabbed_29_1" name="__tabbed_29" type="radio" /><div class="tabbed-labels"><label for="__tabbed_29_1">Pest</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a>
<a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="k">use</span> <span class="nx">Illuminate\Http\UploadedFile</span><span class="p">;</span>
<a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Storage</span><span class="p">;</span>
<a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a>
<a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;avatars can be uploaded&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a>    <span class="nx">Storage</span><span class="o">::</span><span class="na">fake</span><span class="p">(</span><span class="s1">&#39;avatars&#39;</span><span class="p">);</span>
<a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a>
<a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a>    <span class="nv">$file</span> <span class="o">=</span> <span class="nx">UploadedFile</span><span class="o">::</span><span class="na">fake</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">image</span><span class="p">(</span><span class="s1">&#39;avatar.jpg&#39;</span><span class="p">);</span>
<a id="__codelineno-43-10" name="__codelineno-43-10" href="#__codelineno-43-10"></a>
<a id="__codelineno-43-11" name="__codelineno-43-11" href="#__codelineno-43-11"></a>    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">&#39;/avatar&#39;</span><span class="p">,</span> <span class="p">[</span>
<a id="__codelineno-43-12" name="__codelineno-43-12" href="#__codelineno-43-12"></a>        <span class="s1">&#39;avatar&#39;</span> <span class="o">=&gt;</span> <span class="nv">$file</span><span class="p">,</span>
<a id="__codelineno-43-13" name="__codelineno-43-13" href="#__codelineno-43-13"></a>    <span class="p">]);</span>
<a id="__codelineno-43-14" name="__codelineno-43-14" href="#__codelineno-43-14"></a>
<a id="__codelineno-43-15" name="__codelineno-43-15" href="#__codelineno-43-15"></a>    <span class="nx">Storage</span><span class="o">::</span><span class="na">disk</span><span class="p">(</span><span class="s1">&#39;avatars&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">assertExists</span><span class="p">(</span><span class="nv">$file</span><span class="o">-&gt;</span><span class="na">hashName</span><span class="p">());</span>
<a id="__codelineno-43-16" name="__codelineno-43-16" href="#__codelineno-43-16"></a><span class="p">});</span>
</code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="30:1"><input checked="checked" id="__tabbed_30_1" name="__tabbed_30" type="radio" /><div class="tabbed-labels"><label for="__tabbed_30_1">PHPUnit</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a>
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="k">namespace</span> <span class="nx">Tests\Feature</span><span class="p">;</span>
<a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a>
<a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a><span class="k">use</span> <span class="nx">Illuminate\Http\UploadedFile</span><span class="p">;</span>
<a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a><span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Storage</span><span class="p">;</span>
<a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a><span class="k">use</span> <span class="nx">Tests\TestCase</span><span class="p">;</span>
<a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a>
<a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a><span class="k">class</span> <span class="nc">ExampleTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a><span class="p">{</span>
<a id="__codelineno-44-11" name="__codelineno-44-11" href="#__codelineno-44-11"></a>    <span class="k">public</span> <span class="k">function</span> <span class="nf">test_avatars_can_be_uploaded</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
<a id="__codelineno-44-12" name="__codelineno-44-12" href="#__codelineno-44-12"></a>    <span class="p">{</span>
<a id="__codelineno-44-13" name="__codelineno-44-13" href="#__codelineno-44-13"></a>        <span class="nx">Storage</span><span class="o">::</span><span class="na">fake</span><span class="p">(</span><span class="s1">&#39;avatars&#39;</span><span class="p">);</span>
<a id="__codelineno-44-14" name="__codelineno-44-14" href="#__codelineno-44-14"></a>
<a id="__codelineno-44-15" name="__codelineno-44-15" href="#__codelineno-44-15"></a>        <span class="nv">$file</span> <span class="o">=</span> <span class="nx">UploadedFile</span><span class="o">::</span><span class="na">fake</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">image</span><span class="p">(</span><span class="s1">&#39;avatar.jpg&#39;</span><span class="p">);</span>
<a id="__codelineno-44-16" name="__codelineno-44-16" href="#__codelineno-44-16"></a>
<a id="__codelineno-44-17" name="__codelineno-44-17" href="#__codelineno-44-17"></a>        <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">&#39;/avatar&#39;</span><span class="p">,</span> <span class="p">[</span>
<a id="__codelineno-44-18" name="__codelineno-44-18" href="#__codelineno-44-18"></a>            <span class="s1">&#39;avatar&#39;</span> <span class="o">=&gt;</span> <span class="nv">$file</span><span class="p">,</span>
<a id="__codelineno-44-19" name="__codelineno-44-19" href="#__codelineno-44-19"></a>        <span class="p">]);</span>
<a id="__codelineno-44-20" name="__codelineno-44-20" href="#__codelineno-44-20"></a>
<a id="__codelineno-44-21" name="__codelineno-44-21" href="#__codelineno-44-21"></a>        <span class="nx">Storage</span><span class="o">::</span><span class="na">disk</span><span class="p">(</span><span class="s1">&#39;avatars&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">assertExists</span><span class="p">(</span><span class="nv">$file</span><span class="o">-&gt;</span><span class="na">hashName</span><span class="p">());</span>
<a id="__codelineno-44-22" name="__codelineno-44-22" href="#__codelineno-44-22"></a>    <span class="p">}</span>
<a id="__codelineno-44-23" name="__codelineno-44-23" href="#__codelineno-44-23"></a><span class="p">}</span>
</code></pre></div>
<p>指定されたファイルが存在しないことをアサートしたい場合は、<code>Storage</code>ファサードによって提供される<code>assertMissing</code>メソッドを使用できます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="nx">Storage</span><span class="o">::</span><span class="na">fake</span><span class="p">(</span><span class="s1">&#39;avatars&#39;</span><span class="p">);</span>
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a>
<a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="c1">// ...</span>
<a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a>
<a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a><span class="nx">Storage</span><span class="o">::</span><span class="na">disk</span><span class="p">(</span><span class="s1">&#39;avatars&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">assertMissing</span><span class="p">(</span><span class="s1">&#39;missing.jpg&#39;</span><span class="p">);</span>
</code></pre></div>
<p><a name="fake-file-customization"></a></p>
<h4 id="_10">フェイクファイルのカスタマイズ<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h4>
<p><code>UploadedFile</code>クラスが提供する<code>fake</code>メソッドを使用してファイルを作成する場合、画像の幅、高さ、およびサイズ（キロバイト単位）を指定して、アプリケーションのバリデーションルールをより良くテストすることができます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="nx">UploadedFile</span><span class="o">::</span><span class="na">fake</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">image</span><span class="p">(</span><span class="s1">&#39;avatar.jpg&#39;</span><span class="p">,</span> <span class="nv">$width</span><span class="p">,</span> <span class="nv">$height</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">size</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
</code></pre></div>
<p>画像以外のタイプのファイルを作成するには、<code>create</code>メソッドを使用できます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="nx">UploadedFile</span><span class="o">::</span><span class="na">fake</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="s1">&#39;document.pdf&#39;</span><span class="p">,</span> <span class="nv">$sizeInKilobytes</span><span class="p">);</span>
</code></pre></div>
<p>必要に応じて、メソッドに<code>$mimeType</code>引数を渡して、ファイルによって返されるべきMIMEタイプを明示的に定義できます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="nx">UploadedFile</span><span class="o">::</span><span class="na">fake</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span>
<a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a>    <span class="s1">&#39;document.pdf&#39;</span><span class="p">,</span> <span class="nv">$sizeInKilobytes</span><span class="p">,</span> <span class="s1">&#39;application/pdf&#39;</span>
<a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="p">);</span>
</code></pre></div>
<p><a name="testing-views"></a></p>
<h2 id="_11">ビューのテスト<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h2>
<p>Laravelでは、アプリケーションに模擬HTTPリクエストを行わずにビューをレンダリングすることもできます。これを行うには、テスト内で<code>view</code>メソッドを呼び出します。<code>view</code>メソッドは、ビュー名とオプションのデータ配列を受け取ります。メソッドは<code>Illuminate\Testing\TestView</code>のインスタンスを返し、ビューの内容に関するアサーションを便利に行うためのいくつかのメソッドを提供します。</p>
<div class="tabbed-set tabbed-alternate" data-tabs="31:1"><input checked="checked" id="__tabbed_31_1" name="__tabbed_31" type="radio" /><div class="tabbed-labels"><label for="__tabbed_31_1">Pest</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a>
<a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;a welcome view can be rendered&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a>    <span class="nv">$view</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">view</span><span class="p">(</span><span class="s1">&#39;welcome&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Taylor&#39;</span><span class="p">]);</span>
<a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a>
<a id="__codelineno-49-6" name="__codelineno-49-6" href="#__codelineno-49-6"></a>    <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">assertSee</span><span class="p">(</span><span class="s1">&#39;Taylor&#39;</span><span class="p">);</span>
<a id="__codelineno-49-7" name="__codelineno-49-7" href="#__codelineno-49-7"></a><span class="p">});</span>
</code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="32:1"><input checked="checked" id="__tabbed_32_1" name="__tabbed_32" type="radio" /><div class="tabbed-labels"><label for="__tabbed_32_1">PHPUnit</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="o">&lt;?</span><span class="nx">php</span>
<a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a>
<a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a><span class="k">namespace</span> <span class="nx">Tests\Feature</span><span class="p">;</span>
<a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a>
<a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a><span class="k">use</span> <span class="nx">Tests\TestCase</span><span class="p">;</span>
<a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a>
<a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a><span class="k">class</span> <span class="nc">ExampleTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<a id="__codelineno-50-8" name="__codelineno-50-8" href="#__codelineno-50-8"></a><span class="p">{</span>
<a id="__codelineno-50-9" name="__codelineno-50-9" href="#__codelineno-50-9"></a>    <span class="k">public</span> <span class="k">function</span> <span class="nf">test_a_welcome_view_can_be_rendered</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
<a id="__codelineno-50-10" name="__codelineno-50-10" href="#__codelineno-50-10"></a>    <span class="p">{</span>
<a id="__codelineno-50-11" name="__codelineno-50-11" href="#__codelineno-50-11"></a>        <span class="nv">$view</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">view</span><span class="p">(</span><span class="s1">&#39;welcome&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Taylor&#39;</span><span class="p">]);</span>
<a id="__codelineno-50-12" name="__codelineno-50-12" href="#__codelineno-50-12"></a>
<a id="__codelineno-50-13" name="__codelineno-50-13" href="#__codelineno-50-13"></a>        <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">assertSee</span><span class="p">(</span><span class="s1">&#39;Taylor&#39;</span><span class="p">);</span>
<a id="__codelineno-50-14" name="__codelineno-50-14" href="#__codelineno-50-14"></a>    <span class="p">}</span>
<a id="__codelineno-50-15" name="__codelineno-50-15" href="#__codelineno-50-15"></a><span class="p">}</span>
</code></pre></div>
<p><code>TestView</code>クラスは、以下のアサーションメソッドを提供します: <code>assertSee</code>, <code>assertSeeInOrder</code>, <code>assertSeeText</code>, <code>assertSeeTextInOrder</code>, <code>assertDontSee</code>, <code>assertDontSeeText</code>。</p>
<p>必要に応じて、<code>TestView</code>インスタンスを文字列にキャストして、レンダリングされたビューの生の内容を取得できます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="nv">$contents</span> <span class="o">=</span> <span class="p">(</span><span class="nx">string</span><span class="p">)</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">view</span><span class="p">(</span><span class="s1">&#39;welcome&#39;</span><span class="p">);</span>
</code></pre></div>
<p><a name="sharing-errors"></a></p>
<h4 id="_12">エラーの共有<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h4>
<p>一部のビューは、Laravelが提供する<a href="validation.html#quick-displaying-the-validation-errors">グローバルエラーバッグ</a>で共有されるエラーに依存している場合があります。エラーバッグにエラーメッセージを追加するには、<code>withViewErrors</code>メソッドを使用できます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="nv">$view</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">withViewErrors</span><span class="p">([</span>
<a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a>    <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;Please provide a valid name.&#39;</span><span class="p">]</span>
<a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a><span class="p">])</span><span class="o">-&gt;</span><span class="na">view</span><span class="p">(</span><span class="s1">&#39;form&#39;</span><span class="p">);</span>
<a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a>
<a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a><span class="nv">$view</span><span class="o">-&gt;</span><span class="na">assertSee</span><span class="p">(</span><span class="s1">&#39;Please provide a valid name.&#39;</span><span class="p">);</span>
</code></pre></div>
<p><a name="rendering-blade-and-components"></a></p>
<h3 id="blade">Bladeとコンポーネントのレンダリング<a class="headerlink" href="#blade" title="Permanent link">&para;</a></h3>
<p>必要に応じて、<code>blade</code>メソッドを使用して生の<a href="blade.html">Blade</a>文字列を評価してレンダリングできます。<code>view</code>メソッドと同様に、<code>blade</code>メソッドは<code>Illuminate\Testing\TestView</code>のインスタンスを返します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="nv">$view</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">blade</span><span class="p">(</span>
<a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a>    <span class="s1">&#39;&lt;x-component :name=&quot;$name&quot; /&gt;&#39;</span><span class="p">,</span>
<a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a>    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Taylor&#39;</span><span class="p">]</span>
<a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a><span class="p">);</span>
<a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a>
<a id="__codelineno-53-6" name="__codelineno-53-6" href="#__codelineno-53-6"></a><span class="nv">$view</span><span class="o">-&gt;</span><span class="na">assertSee</span><span class="p">(</span><span class="s1">&#39;Taylor&#39;</span><span class="p">);</span>
</code></pre></div>
<p><a href="blade.html#components">Bladeコンポーネント</a>を評価してレンダリングするには、<code>component</code>メソッドを使用できます。<code>component</code>メソッドは<code>Illuminate\Testing\TestComponent</code>のインスタンスを返します。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="nv">$view</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">component</span><span class="p">(</span><span class="nx">Profile</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Taylor&#39;</span><span class="p">]);</span>
<a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a>
<a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a><span class="nv">$view</span><span class="o">-&gt;</span><span class="na">assertSee</span><span class="p">(</span><span class="s1">&#39;Taylor&#39;</span><span class="p">);</span>
</code></pre></div>
<p><a name="available-assertions"></a></p>
<h2 id="_13">利用可能なアサーション<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h2>
<p><a name="response-assertions"></a></p>
<h3 id="_14">レスポンスのアサーション<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<p>Laravelの<code>Illuminate\Testing\TestResponse</code>クラスは、アプリケーションをテストする際に利用できるさまざまなカスタムアサーションメソッドを提供します。これらのアサーションは、<code>json</code>, <code>get</code>, <code>post</code>, <code>put</code>, <code>delete</code>テストメソッドによって返されるレスポンスでアクセスできます。</p>
<style>
    .collection-method-list > p {
        columns: 14.4em 2; -moz-columns: 14.4em 2; -webkit-columns: 14.4em 2;
    }

    .collection-method-list a {
        display: block;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
</style>

<div class="collection-method-list">
<p><a href="#assert-accepted">assertAccepted</a>
<a href="#assert-bad-request">assertBadRequest</a>
<a href="#assert-conflict">assertConflict</a>
<a href="#assert-cookie">assertCookie</a>
<a href="#assert-cookie-expired">assertCookieExpired</a>
<a href="#assert-cookie-not-expired">assertCookieNotExpired</a>
<a href="#assert-cookie-missing">assertCookieMissing</a>
<a href="#assert-created">assertCreated</a>
<a href="#assert-dont-see">assertDontSee</a>
<a href="#assert-dont-see-text">assertDontSeeText</a>
<a href="#assert-download">assertDownload</a>
<a href="#assert-exact-json">assertExactJson</a>
<a href="#assert-exact-json-structure">assertExactJsonStructure</a>
<a href="#assert-forbidden">assertForbidden</a>
<a href="#assert-found">assertFound</a>
<a href="#assert-gone">assertGone</a>
<a href="#assert-header">assertHeader</a>
<a href="#assert-header-missing">assertHeaderMissing</a>
<a href="#assert-internal-server-error">assertInternalServerError</a>
<a href="#assert-json">assertJson</a>
<a href="#assert-json-count">assertJsonCount</a>
<a href="#assert-json-fragment">assertJsonFragment</a>
<a href="#assert-json-is-array">assertJsonIsArray</a>
<a href="#assert-json-is-object">assertJsonIsObject</a>
<a href="#assert-json-missing">assertJsonMissing</a>
<a href="#assert-json-missing-exact">assertJsonMissingExact</a>
<a href="#assert-json-missing-validation-errors">assertJsonMissingValidationErrors</a>
<a href="#assert-json-path">assertJsonPath</a>
<a href="#assert-json-missing-path">assertJsonMissingPath</a>
<a href="#assert-json-structure">assertJsonStructure</a>
<a href="#assert-json-validation-errors">assertJsonValidationErrors</a>
<a href="#assert-json-validation-error-for">assertJsonValidationErrorFor</a>
<a href="#assert-location">assertLocation</a>
<a href="#assert-method-not-allowed">assertMethodNotAllowed</a>
<a href="#assert-moved-permanently">assertMovedPermanently</a>
<a href="#assert-content">assertContent</a>
<a href="#assert-no-content">assertNoContent</a>
<a href="#assert-streamed-content">assertStreamedContent</a>
<a href="#assert-not-found">assertNotFound</a>
<a href="#assert-ok">assertOk</a>
<a href="#assert-payment-required">assertPaymentRequired</a>
<a href="#assert-plain-cookie">assertPlainCookie</a>
<a href="#assert-redirect">assertRedirect</a>
<a href="#assert-redirect-contains">assertRedirectContains</a>
<a href="#assert-redirect-to-route">assertRedirectToRoute</a>
<a href="#assert-redirect-to-signed-route">assertRedirectToSignedRoute</a>
<a href="#assert-request-timeout">assertRequestTimeout</a>
<a href="#assert-see">assertSee</a>
<a href="#assert-see-in-order">assertSeeInOrder</a>
<a href="#assert-see-text">assertSeeText</a>
<a href="#assert-see-text-in-order">assertSeeTextInOrder</a>
<a href="#assert-server-error">assertServerError</a>
<a href="#assert-server-unavailable">assertServiceUnavailable</a>
<a href="#assert-session-has">assertSessionHas</a>
<a href="#assert-session-has-input">assertSessionHasInput</a>
<a href="#assert-session-has-all">assertSessionHasAll</a>
<a href="#assert-session-has-errors">assertSessionHasErrors</a>
<a href="#assert-session-has-errors-in">assertSessionHasErrorsIn</a>
<a href="#assert-session-has-no-errors">assertSessionHasNoErrors</a>
<a href="#assert-session-doesnt-have-errors">assertSessionDoesntHaveErrors</a>
<a href="#assert-session-missing">assertSessionMissing</a>
<a href="#assert-status">assertStatus</a>
<a href="#assert-successful">assertSuccessful</a>
<a href="#assert-too-many-requests">assertTooManyRequests</a>
<a href="#assert-unauthorized">assertUnauthorized</a>
<a href="#assert-unprocessable">assertUnprocessable</a>
<a href="#assert-unsupported-media-type">assertUnsupportedMediaType</a>
<a href="#assert-valid">assertValid</a>
<a href="#assert-invalid">assertInvalid</a>
<a href="#assert-view-has">assertViewHas</a>
<a href="#assert-view-has-all">assertViewHasAll</a>
<a href="#assert-view-is">assertViewIs</a>
<a href="#assert-view-missing">assertViewMissing</a></p>
</div>
<p><a name="assert-bad-request"></a></p>
<h4 id="assertbadrequest">assertBadRequest<a class="headerlink" href="#assertbadrequest" title="Permanent link">&para;</a></h4>
<p>レスポンスが不正なリクエスト（400）HTTPステータスコードを持っていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertBadRequest</span><span class="p">();</span>
</code></pre></div>
<p><a name="assert-accepted"></a></p>
<h4 id="assertaccepted">assertAccepted<a class="headerlink" href="#assertaccepted" title="Permanent link">&para;</a></h4>
<p>レスポンスが受け入れられた（202）HTTPステータスコードを持っていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertAccepted</span><span class="p">();</span>
</code></pre></div>
<p><a name="assert-conflict"></a></p>
<h4 id="assertconflict">assertConflict<a class="headerlink" href="#assertconflict" title="Permanent link">&para;</a></h4>
<p>レスポンスが競合（409）HTTPステータスコードを持っていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertConflict</span><span class="p">();</span>
</code></pre></div>
<p><a name="assert-cookie"></a></p>
<h4 id="assertcookie">assertCookie<a class="headerlink" href="#assertcookie" title="Permanent link">&para;</a></h4>
<p>レスポンスが指定されたクッキーを含んでいることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertCookie</span><span class="p">(</span><span class="nv">$cookieName</span><span class="p">,</span> <span class="nv">$value</span> <span class="o">=</span> <span class="k">null</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-cookie-expired"></a></p>
<h4 id="assertcookieexpired">assertCookieExpired<a class="headerlink" href="#assertcookieexpired" title="Permanent link">&para;</a></h4>
<p>レスポンスが指定されたクッキーを含み、それが期限切れであることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertCookieExpired</span><span class="p">(</span><span class="nv">$cookieName</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-cookie-not-expired"></a></p>
<h4 id="assertcookienotexpired">assertCookieNotExpired<a class="headerlink" href="#assertcookienotexpired" title="Permanent link">&para;</a></h4>
<p>レスポンスが指定されたクッキーを含み、それが期限切れでないことをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertCookieNotExpired</span><span class="p">(</span><span class="nv">$cookieName</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-cookie-missing"></a></p>
<h4 id="assertcookiemissing">assertCookieMissing<a class="headerlink" href="#assertcookiemissing" title="Permanent link">&para;</a></h4>
<p>レスポンスが指定されたクッキーを含んでいないことをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertCookieMissing</span><span class="p">(</span><span class="nv">$cookieName</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-created"></a></p>
<h4 id="assertcreated">assertCreated<a class="headerlink" href="#assertcreated" title="Permanent link">&para;</a></h4>
<p>レスポンスが201 HTTPステータスコードを持っていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertCreated</span><span class="p">();</span>
</code></pre></div>
<p><a name="assert-dont-see"></a></p>
<h4 id="assertdontsee">assertDontSee<a class="headerlink" href="#assertdontsee" title="Permanent link">&para;</a></h4>
<p>指定された文字列がアプリケーションから返されたレスポンスに含まれていないことをアサートします。このアサーションは、第二引数に <code>false</code> を渡さない限り、指定された文字列を自動的にエスケープします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertDontSee</span><span class="p">(</span><span class="nv">$value</span><span class="p">,</span> <span class="nv">$escaped</span> <span class="o">=</span> <span class="k">true</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-dont-see-text"></a></p>
<h4 id="assertdontseetext">assertDontSeeText<a class="headerlink" href="#assertdontseetext" title="Permanent link">&para;</a></h4>
<p>指定された文字列がレスポンステキストに含まれていないことをアサートします。このアサーションは、第二引数に <code>false</code> を渡さない限り、指定された文字列を自動的にエスケープします。このメソッドは、アサーションを行う前にレスポンス内容を <code>strip_tags</code> PHP関数に渡します:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertDontSeeText</span><span class="p">(</span><span class="nv">$value</span><span class="p">,</span> <span class="nv">$escaped</span> <span class="o">=</span> <span class="k">true</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-download"></a></p>
<h4 id="assertdownload">assertDownload<a class="headerlink" href="#assertdownload" title="Permanent link">&para;</a></h4>
<p>レスポンスが「ダウンロード」であることをアサートします。通常、これはレスポンスを返したルートが <code>Response::download</code> レスポンス、<code>BinaryFileResponse</code>、または <code>Storage::download</code> レスポンスを返したことを意味します:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertDownload</span><span class="p">();</span>
</code></pre></div>
<p>もし望むなら、ダウンロードされたファイルに指定されたファイル名が割り当てられていることをアサートすることもできます:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertDownload</span><span class="p">(</span><span class="s1">&#39;image.jpg&#39;</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-exact-json"></a></p>
<h4 id="assertexactjson">assertExactJson<a class="headerlink" href="#assertexactjson" title="Permanent link">&para;</a></h4>
<p>レスポンスが指定されたJSONデータと完全に一致することをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertExactJson</span><span class="p">(</span><span class="k">array</span> <span class="nv">$data</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-exact-json-structure"></a></p>
<h4 id="assertexactjsonstructure">assertExactJsonStructure<a class="headerlink" href="#assertexactjsonstructure" title="Permanent link">&para;</a></h4>
<p>レスポンスが指定されたJSON構造と完全に一致することをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertExactJsonStructure</span><span class="p">(</span><span class="k">array</span> <span class="nv">$data</span><span class="p">);</span>
</code></pre></div>
<p>このメソッドは、<a href="#assert-json-structure">assertJsonStructure</a> のより厳格なバリアントです。<code>assertJsonStructure</code> とは対照的に、このメソッドはレスポンスに期待されたJSON構造に明示的に含まれていないキーが含まれている場合に失敗します。</p>
<p><a name="assert-forbidden"></a></p>
<h4 id="assertforbidden">assertForbidden<a class="headerlink" href="#assertforbidden" title="Permanent link">&para;</a></h4>
<p>レスポンスが禁止された（403）HTTPステータスコードを持っていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertForbidden</span><span class="p">();</span>
</code></pre></div>
<p><a name="assert-found"></a></p>
<h4 id="assertfound">assertFound<a class="headerlink" href="#assertfound" title="Permanent link">&para;</a></h4>
<p>レスポンスが見つかった（302）HTTPステータスコードを持っていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertFound</span><span class="p">();</span>
</code></pre></div>
<p><a name="assert-gone"></a></p>
<h4 id="assertgone">assertGone<a class="headerlink" href="#assertgone" title="Permanent link">&para;</a></h4>
<p>レスポンスが過ぎ去った（410）HTTPステータスコードを持っていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertGone</span><span class="p">();</span>
</code></pre></div>
<p><a name="assert-header"></a></p>
<h4 id="assertheader">assertHeader<a class="headerlink" href="#assertheader" title="Permanent link">&para;</a></h4>
<p>レスポンスに指定されたヘッダーと値が存在することをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertHeader</span><span class="p">(</span><span class="nv">$headerName</span><span class="p">,</span> <span class="nv">$value</span> <span class="o">=</span> <span class="k">null</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-header-missing"></a></p>
<h4 id="assertheadermissing">assertHeaderMissing<a class="headerlink" href="#assertheadermissing" title="Permanent link">&para;</a></h4>
<p>レスポンスに指定されたヘッダーが存在しないことをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertHeaderMissing</span><span class="p">(</span><span class="nv">$headerName</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-internal-server-error"></a></p>
<h4 id="assertinternalservererror">assertInternalServerError<a class="headerlink" href="#assertinternalservererror" title="Permanent link">&para;</a></h4>
<p>レスポンスが「内部サーバーエラー」（500）HTTPステータスコードを持っていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertInternalServerError</span><span class="p">();</span>
</code></pre></div>
<p><a name="assert-json"></a></p>
<h4 id="assertjson">assertJson<a class="headerlink" href="#assertjson" title="Permanent link">&para;</a></h4>
<p>レスポンスが指定されたJSONデータを含んでいることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertJson</span><span class="p">(</span><span class="k">array</span> <span class="nv">$data</span><span class="p">,</span> <span class="nv">$strict</span> <span class="o">=</span> <span class="k">false</span><span class="p">);</span>
</code></pre></div>
<p><code>assertJson</code> メソッドは、レスポンスを配列に変換して、指定された配列がアプリケーションから返されたJSONレスポンス内に存在することを確認します。したがって、JSONレスポンスに他のプロパティがある場合でも、このテストは指定されたフラグメントが存在する限り合格します。</p>
<p><a name="assert-json-count"></a></p>
<h4 id="assertjsoncount">assertJsonCount<a class="headerlink" href="#assertjsoncount" title="Permanent link">&para;</a></h4>
<p>レスポンスのJSONが指定されたキーに期待されるアイテム数の配列を持っていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertJsonCount</span><span class="p">(</span><span class="nv">$count</span><span class="p">,</span> <span class="nv">$key</span> <span class="o">=</span> <span class="k">null</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-json-fragment"></a></p>
<h4 id="assertjsonfragment">assertJsonFragment<a class="headerlink" href="#assertjsonfragment" title="Permanent link">&para;</a></h4>
<p>レスポンスがレスポンス内のどこかに指定されたJSONデータを含んでいることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/users&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="s1">&#39;users&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="p">[</span>
                <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Taylor Otwell&#39;</span><span class="p">,</span>
            <span class="p">],</span>
        <span class="p">],</span>
    <span class="p">];</span>
<span class="p">});</span>

<span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertJsonFragment</span><span class="p">([</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Taylor Otwell&#39;</span><span class="p">]);</span>
</code></pre></div>
<p><a name="assert-json-is-array"></a></p>
<h4 id="assertjsonisarray">assertJsonIsArray<a class="headerlink" href="#assertjsonisarray" title="Permanent link">&para;</a></h4>
<p>レスポンスのJSONが配列であることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertJsonIsArray</span><span class="p">();</span>
</code></pre></div>
<p><a name="assert-json-is-object"></a></p>
<h4 id="assertjsonisobject">assertJsonIsObject<a class="headerlink" href="#assertjsonisobject" title="Permanent link">&para;</a></h4>
<p>レスポンスのJSONがオブジェクトであることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertJsonIsObject</span><span class="p">();</span>
</code></pre></div>
<p><a name="assert-json-missing"></a></p>
<h4 id="assertjsonmissing">assertJsonMissing<a class="headerlink" href="#assertjsonmissing" title="Permanent link">&para;</a></h4>
<p>レスポンスが指定されたJSONデータを含んでいないことをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertJsonMissing</span><span class="p">(</span><span class="k">array</span> <span class="nv">$data</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-json-missing-exact"></a></p>
<h4 id="assertjsonmissingexact">assertJsonMissingExact<a class="headerlink" href="#assertjsonmissingexact" title="Permanent link">&para;</a></h4>
<p>レスポンスが指定された正確なJSONデータを含んでいないことをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertJsonMissingExact</span><span class="p">(</span><span class="k">array</span> <span class="nv">$data</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-json-missing-validation-errors"></a></p>
<h4 id="assertjsonmissingvalidationerrors">assertJsonMissingValidationErrors<a class="headerlink" href="#assertjsonmissingvalidationerrors" title="Permanent link">&para;</a></h4>
<p>レスポンスが指定されたキーに対するJSONバリデーションエラーを持っていないことをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertJsonMissingValidationErrors</span><span class="p">(</span><span class="nv">$keys</span><span class="p">);</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>より一般的な <a href="#assert-valid">assertValid</a> メソッドは、レスポンスがJSONとして返されたバリデーションエラーを持たず、セッションストレージにエラーがフラッシュされていないことをアサートするために使用できます。</p>
</div>
<p><a name="assert-json-path"></a></p>
<h4 id="assertjsonpath">assertJsonPath<a class="headerlink" href="#assertjsonpath" title="Permanent link">&para;</a></h4>
<p>レスポンスが指定されたパスに指定されたデータを含んでいることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertJsonPath</span><span class="p">(</span><span class="nv">$path</span><span class="p">,</span> <span class="nv">$expectedValue</span><span class="p">);</span>
</code></pre></div>
<p>例えば、アプリケーションから次のJSONレスポンスが返された場合:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="p">{</span>
<a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a><span class="w">    </span><span class="nt">&quot;user&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a><span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Steve Schoger&quot;</span>
<a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a><span class="p">}</span>
</code></pre></div>
<p><code>user</code> オブジェクトの <code>name</code> プロパティが指定された値と一致することを次のようにアサートできます:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertJsonPath</span><span class="p">(</span><span class="s1">&#39;user.name&#39;</span><span class="p">,</span> <span class="s1">&#39;Steve Schoger&#39;</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-json-missing-path"></a></p>
<h4 id="assertjsonmissingpath">assertJsonMissingPath<a class="headerlink" href="#assertjsonmissingpath" title="Permanent link">&para;</a></h4>
<p>指定されたパスがレスポンスに含まれていないことをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertJsonMissingPath</span><span class="p">(</span><span class="nv">$path</span><span class="p">);</span>
</code></pre></div>
<p>例えば、アプリケーションから以下のJSONレスポンスが返された場合:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="p">{</span>
<a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a><span class="w">    </span><span class="nt">&quot;user&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a><span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Steve Schoger&quot;</span>
<a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a><span class="p">}</span>
</code></pre></div>
<p><code>user</code>オブジェクトの<code>email</code>プロパティが含まれていないことをアサートできます:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertJsonMissingPath</span><span class="p">(</span><span class="s1">&#39;user.email&#39;</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-json-structure"></a></p>
<h4 id="assertjsonstructure">assertJsonStructure<a class="headerlink" href="#assertjsonstructure" title="Permanent link">&para;</a></h4>
<p>レスポンスが指定されたJSON構造を持っていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertJsonStructure</span><span class="p">(</span><span class="k">array</span> <span class="nv">$structure</span><span class="p">);</span>
</code></pre></div>
<p>例えば、アプリケーションから返されるJSONレスポンスに以下のデータが含まれている場合:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="p">{</span>
<a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a><span class="w">    </span><span class="nt">&quot;user&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a><span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Steve Schoger&quot;</span>
<a id="__codelineno-57-4" name="__codelineno-57-4" href="#__codelineno-57-4"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-57-5" name="__codelineno-57-5" href="#__codelineno-57-5"></a><span class="p">}</span>
</code></pre></div>
<p>JSON構造が期待通りであることを以下のようにアサートできます:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertJsonStructure</span><span class="p">([</span>
    <span class="s1">&#39;user&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">&#39;name&#39;</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">]);</span>
</code></pre></div>
<p>アプリケーションから返されるJSONレスポンスにオブジェクトの配列が含まれている場合もあります:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="p">{</span>
<a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a><span class="w">    </span><span class="nt">&quot;user&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a><span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Steve Schoger&quot;</span><span class="p">,</span>
<a id="__codelineno-58-5" name="__codelineno-58-5" href="#__codelineno-58-5"></a><span class="w">            </span><span class="nt">&quot;age&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">55</span><span class="p">,</span>
<a id="__codelineno-58-6" name="__codelineno-58-6" href="#__codelineno-58-6"></a><span class="w">            </span><span class="nt">&quot;location&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Earth&quot;</span>
<a id="__codelineno-58-7" name="__codelineno-58-7" href="#__codelineno-58-7"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-58-8" name="__codelineno-58-8" href="#__codelineno-58-8"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-58-9" name="__codelineno-58-9" href="#__codelineno-58-9"></a><span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Mary Schoger&quot;</span><span class="p">,</span>
<a id="__codelineno-58-10" name="__codelineno-58-10" href="#__codelineno-58-10"></a><span class="w">            </span><span class="nt">&quot;age&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span>
<a id="__codelineno-58-11" name="__codelineno-58-11" href="#__codelineno-58-11"></a><span class="w">            </span><span class="nt">&quot;location&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Earth&quot;</span>
<a id="__codelineno-58-12" name="__codelineno-58-12" href="#__codelineno-58-12"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-58-13" name="__codelineno-58-13" href="#__codelineno-58-13"></a><span class="w">    </span><span class="p">]</span>
<a id="__codelineno-58-14" name="__codelineno-58-14" href="#__codelineno-58-14"></a><span class="p">}</span>
</code></pre></div>
<p>この場合、配列内のすべてのオブジェクトの構造に対してアサートするために<code>*</code>文字を使用できます:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertJsonStructure</span><span class="p">([</span>
    <span class="s1">&#39;user&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">&#39;*&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
             <span class="s1">&#39;name&#39;</span><span class="p">,</span>
             <span class="s1">&#39;age&#39;</span><span class="p">,</span>
             <span class="s1">&#39;location&#39;</span>
        <span class="p">]</span>
    <span class="p">]</span>
<span class="p">]);</span>
</code></pre></div>
<p><a name="assert-json-validation-errors"></a></p>
<h4 id="assertjsonvalidationerrors">assertJsonValidationErrors<a class="headerlink" href="#assertjsonvalidationerrors" title="Permanent link">&para;</a></h4>
<p>レスポンスが指定されたキーに対するJSONバリデーションエラーを持っていることをアサートします。このメソッドは、バリデーションエラーがセッションにフラッシュされるのではなく、JSON構造として返されるレスポンスに対して使用する必要があります:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertJsonValidationErrors</span><span class="p">(</span><span class="k">array</span> <span class="nv">$data</span><span class="p">,</span> <span class="nv">$responseKey</span> <span class="o">=</span> <span class="s1">&#39;errors&#39;</span><span class="p">);</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>より汎用的な<a href="#assert-invalid">assertInvalid</a>メソッドを使用して、レスポンスがJSONとして返されるバリデーションエラー<strong>または</strong>セッションストレージにフラッシュされたエラーをアサートできます。</p>
</div>
<p><a name="assert-json-validation-error-for"></a></p>
<h4 id="assertjsonvalidationerrorfor">assertJsonValidationErrorFor<a class="headerlink" href="#assertjsonvalidationerrorfor" title="Permanent link">&para;</a></h4>
<p>レスポンスが指定されたキーに対するJSONバリデーションエラーを持っていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertJsonValidationErrorFor</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$key</span><span class="p">,</span> <span class="nv">$responseKey</span> <span class="o">=</span> <span class="s1">&#39;errors&#39;</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-method-not-allowed"></a></p>
<h4 id="assertmethodnotallowed">assertMethodNotAllowed<a class="headerlink" href="#assertmethodnotallowed" title="Permanent link">&para;</a></h4>
<p>レスポンスがメソッドが許可されていない（405）HTTPステータスコードを持っていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertMethodNotAllowed</span><span class="p">();</span>
</code></pre></div>
<p><a name="assert-moved-permanently"></a></p>
<h4 id="assertmovedpermanently">assertMovedPermanently<a class="headerlink" href="#assertmovedpermanently" title="Permanent link">&para;</a></h4>
<p>レスポンスが恒久的に移動した（301）HTTPステータスコードを持っていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertMovedPermanently</span><span class="p">();</span>
</code></pre></div>
<p><a name="assert-location"></a></p>
<h4 id="assertlocation">assertLocation<a class="headerlink" href="#assertlocation" title="Permanent link">&para;</a></h4>
<p>レスポンスが<code>Location</code>ヘッダーに指定されたURI値を持っていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertLocation</span><span class="p">(</span><span class="nv">$uri</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-content"></a></p>
<h4 id="assertcontent">assertContent<a class="headerlink" href="#assertcontent" title="Permanent link">&para;</a></h4>
<p>指定された文字列がレスポンス内容と一致することをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertContent</span><span class="p">(</span><span class="nv">$value</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-no-content"></a></p>
<h4 id="assertnocontent">assertNoContent<a class="headerlink" href="#assertnocontent" title="Permanent link">&para;</a></h4>
<p>レスポンスが指定されたHTTPステータスコードを持ち、内容がないことをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertNoContent</span><span class="p">(</span><span class="nv">$status</span> <span class="o">=</span> <span class="mi">204</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-streamed-content"></a></p>
<h4 id="assertstreamedcontent">assertStreamedContent<a class="headerlink" href="#assertstreamedcontent" title="Permanent link">&para;</a></h4>
<p>指定された文字列がストリーミングされたレスポンス内容と一致することをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertStreamedContent</span><span class="p">(</span><span class="nv">$value</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-not-found"></a></p>
<h4 id="assertnotfound">assertNotFound<a class="headerlink" href="#assertnotfound" title="Permanent link">&para;</a></h4>
<p>レスポンスが見つからない（404）HTTPステータスコードを持っていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertNotFound</span><span class="p">();</span>
</code></pre></div>
<p><a name="assert-ok"></a></p>
<h4 id="assertok">assertOk<a class="headerlink" href="#assertok" title="Permanent link">&para;</a></h4>
<p>レスポンスが200 HTTPステータスコードを持っていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertOk</span><span class="p">();</span>
</code></pre></div>
<p><a name="assert-payment-required"></a></p>
<h4 id="assertpaymentrequired">assertPaymentRequired<a class="headerlink" href="#assertpaymentrequired" title="Permanent link">&para;</a></h4>
<p>レスポンスが支払いが必要（402）HTTPステータスコードを持っていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertPaymentRequired</span><span class="p">();</span>
</code></pre></div>
<p><a name="assert-plain-cookie"></a></p>
<h4 id="assertplaincookie">assertPlainCookie<a class="headerlink" href="#assertplaincookie" title="Permanent link">&para;</a></h4>
<p>レスポンスが指定された暗号化されていないクッキーを含んでいることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertPlainCookie</span><span class="p">(</span><span class="nv">$cookieName</span><span class="p">,</span> <span class="nv">$value</span> <span class="o">=</span> <span class="k">null</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-redirect"></a></p>
<h4 id="assertredirect">assertRedirect<a class="headerlink" href="#assertredirect" title="Permanent link">&para;</a></h4>
<p>レスポンスが指定されたURIにリダイレクトしていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertRedirect</span><span class="p">(</span><span class="nv">$uri</span> <span class="o">=</span> <span class="k">null</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-redirect-contains"></a></p>
<h4 id="assertredirectcontains">assertRedirectContains<a class="headerlink" href="#assertredirectcontains" title="Permanent link">&para;</a></h4>
<p>レスポンスが指定された文字列を含むURIにリダイレクトしているかどうかをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertRedirectContains</span><span class="p">(</span><span class="nv">$string</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-redirect-to-route"></a></p>
<h4 id="assertredirecttoroute">assertRedirectToRoute<a class="headerlink" href="#assertredirecttoroute" title="Permanent link">&para;</a></h4>
<p>レスポンスが指定された<a href="routing.html#named-routes">名前付きルート</a>にリダイレクトしていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertRedirectToRoute</span><span class="p">(</span><span class="nv">$name</span><span class="p">,</span> <span class="nv">$parameters</span> <span class="o">=</span> <span class="p">[]);</span>
</code></pre></div>
<p><a name="assert-redirect-to-signed-route"></a></p>
<h4 id="assertredirecttosignedroute">assertRedirectToSignedRoute<a class="headerlink" href="#assertredirecttosignedroute" title="Permanent link">&para;</a></h4>
<p>レスポンスが指定された<a href="urls.html#signed-urls">署名付きルート</a>にリダイレクトしていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertRedirectToSignedRoute</span><span class="p">(</span><span class="nv">$name</span> <span class="o">=</span> <span class="k">null</span><span class="p">,</span> <span class="nv">$parameters</span> <span class="o">=</span> <span class="p">[]);</span>
</code></pre></div>
<p><a name="assert-request-timeout"></a></p>
<h4 id="assertrequesttimeout">assertRequestTimeout<a class="headerlink" href="#assertrequesttimeout" title="Permanent link">&para;</a></h4>
<p>レスポンスがリクエストタイムアウト（408）HTTPステータスコードを持っていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertRequestTimeout</span><span class="p">();</span>
</code></pre></div>
<p><a name="assert-see"></a></p>
<h4 id="assertsee">assertSee<a class="headerlink" href="#assertsee" title="Permanent link">&para;</a></h4>
<p>指定された文字列がレスポンス内に含まれていることをアサートします。このアサーションは、第二引数に<code>false</code>を渡さない限り、自動的に指定された文字列をエスケープします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertSee</span><span class="p">(</span><span class="nv">$value</span><span class="p">,</span> <span class="nv">$escaped</span> <span class="o">=</span> <span class="k">true</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-see-in-order"></a></p>
<h4 id="assertseeinorder">assertSeeInOrder<a class="headerlink" href="#assertseeinorder" title="Permanent link">&para;</a></h4>
<p>指定された文字列がレスポンス内に順番に含まれていることをアサートします。このアサーションは、第二引数に<code>false</code>を渡さない限り、自動的に指定された文字列をエスケープします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertSeeInOrder</span><span class="p">(</span><span class="k">array</span> <span class="nv">$values</span><span class="p">,</span> <span class="nv">$escaped</span> <span class="o">=</span> <span class="k">true</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-see-text"></a></p>
<h4 id="assertseetext">assertSeeText<a class="headerlink" href="#assertseetext" title="Permanent link">&para;</a></h4>
<p>指定された文字列がレスポンステキスト内に含まれていることをアサートします。このアサーションは、第二引数に<code>false</code>を渡さない限り、自動的に指定された文字列をエスケープします。レスポンス内容は、アサーションが行われる前に<code>strip_tags</code> PHP関数に渡されます:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertSeeText</span><span class="p">(</span><span class="nv">$value</span><span class="p">,</span> <span class="nv">$escaped</span> <span class="o">=</span> <span class="k">true</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-see-text-in-order"></a></p>
<h4 id="assertseetextinorder">assertSeeTextInOrder<a class="headerlink" href="#assertseetextinorder" title="Permanent link">&para;</a></h4>
<p>指定された文字列がレスポンステキスト内に順番に含まれていることをアサートします。このアサーションは、第二引数に<code>false</code>を渡さない限り、自動的に指定された文字列をエスケープします。レスポンス内容は、アサーションが行われる前に<code>strip_tags</code> PHP関数に渡されます:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertSeeTextInOrder</span><span class="p">(</span><span class="k">array</span> <span class="nv">$values</span><span class="p">,</span> <span class="nv">$escaped</span> <span class="o">=</span> <span class="k">true</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-server-error"></a></p>
<h4 id="assertservererror">assertServerError<a class="headerlink" href="#assertservererror" title="Permanent link">&para;</a></h4>
<p>レスポンスがサーバーエラー（&gt;= 500, &lt; 600）HTTPステータスコードを持っていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertServerError</span><span class="p">();</span>
</code></pre></div>
<p><a name="assert-server-unavailable"></a></p>
<h4 id="assertserviceunavailable">assertServiceUnavailable<a class="headerlink" href="#assertserviceunavailable" title="Permanent link">&para;</a></h4>
<p>レスポンスが「サービス利用不可」（503）HTTPステータスコードを持っていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertServiceUnavailable</span><span class="p">();</span>
</code></pre></div>
<p><a name="assert-session-has"></a></p>
<h4 id="assertsessionhas">assertSessionHas<a class="headerlink" href="#assertsessionhas" title="Permanent link">&para;</a></h4>
<p>セッションに指定されたデータが含まれていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertSessionHas</span><span class="p">(</span><span class="nv">$key</span><span class="p">,</span> <span class="nv">$value</span> <span class="o">=</span> <span class="k">null</span><span class="p">);</span>
</code></pre></div>
<p>必要に応じて、<code>assertSessionHas</code>メソッドの第二引数にクロージャを提供できます。クロージャが<code>true</code>を返す場合、アサーションはパスします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertSessionHas</span><span class="p">(</span><span class="nv">$key</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nx">User</span> <span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$value</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">===</span> <span class="s1">&#39;Taylor Otwell&#39;</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>
<p><a name="assert-session-has-input"></a></p>
<h4 id="assertsessionhasinput">assertSessionHasInput<a class="headerlink" href="#assertsessionhasinput" title="Permanent link">&para;</a></h4>
<p>セッションに<a href="responses.html#redirecting-with-flashed-session-data">フラッシュされた入力配列</a>に指定された値が含まれていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertSessionHasInput</span><span class="p">(</span><span class="nv">$key</span><span class="p">,</span> <span class="nv">$value</span> <span class="o">=</span> <span class="k">null</span><span class="p">);</span>
</code></pre></div>
<p>必要に応じて、<code>assertSessionHasInput</code>メソッドの第二引数にクロージャを提供できます。クロージャが<code>true</code>を返す場合、アサーションはパスします:</p>
<div class="highlight"><pre><span></span><code><span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Crypt</span><span class="p">;</span>

<span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertSessionHasInput</span><span class="p">(</span><span class="nv">$key</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nx">string</span> <span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">Crypt</span><span class="o">::</span><span class="na">decryptString</span><span class="p">(</span><span class="nv">$value</span><span class="p">)</span> <span class="o">===</span> <span class="s1">&#39;secret&#39;</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>
<p><a name="assert-session-has-all"></a></p>
<h4 id="assertsessionhasall">assertSessionHasAll<a class="headerlink" href="#assertsessionhasall" title="Permanent link">&para;</a></h4>
<p>セッションに指定されたキー/値ペアの配列が含まれていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertSessionHasAll</span><span class="p">(</span><span class="k">array</span> <span class="nv">$data</span><span class="p">);</span>
</code></pre></div>
<p>例えば、アプリケーションのセッションに<code>name</code>と<code>status</code>のキーが含まれている場合、以下のように両方が存在し、指定された値を持っていることをアサートできます:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertSessionHasAll</span><span class="p">([</span>
    <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Taylor Otwell&#39;</span><span class="p">,</span>
    <span class="s1">&#39;status&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;active&#39;</span><span class="p">,</span>
<span class="p">]);</span>
</code></pre></div>
<p><a name="assert-session-has-errors"></a></p>
<h4 id="assertsessionhaserrors">assertSessionHasErrors<a class="headerlink" href="#assertsessionhaserrors" title="Permanent link">&para;</a></h4>
<p>セッションに指定された<code>$keys</code>に対するエラーが含まれていることをアサートします。<code>$keys</code>が連想配列の場合、セッションに各フィールド（キー）に対する特定のエラーメッセージ（値）が含まれていることをアサートします。このメソッドは、バリデーションエラーがJSON構造として返されるのではなく、セッションにフラッシュされるルートをテストする場合に使用する必要があります:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertSessionHasErrors</span><span class="p">(</span>
    <span class="k">array</span> <span class="nv">$keys</span> <span class="o">=</span> <span class="p">[],</span> <span class="nv">$format</span> <span class="o">=</span> <span class="k">null</span><span class="p">,</span> <span class="nv">$errorBag</span> <span class="o">=</span> <span class="s1">&#39;default&#39;</span>
<span class="p">);</span>
</code></pre></div>
<p>例えば、<code>name</code>と<code>email</code>フィールドにバリデーションエラーメッセージがセッションにフラッシュされたことをアサートするには、以下のように<code>assertSessionHasErrors</code>メソッドを呼び出します:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertSessionHasErrors</span><span class="p">([</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">]);</span>
</code></pre></div>
<p>または、特定のフィールドが特定のバリデーションエラーメッセージを持っていることをアサートできます:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertSessionHasErrors</span><span class="p">([</span>
    <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;The given name was invalid.&#39;</span>
<span class="p">]);</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>より汎用的な<a href="#assert-invalid">assertInvalid</a>メソッドを使用して、レスポンスがJSONとして返されるバリデーションエラー<strong>または</strong>セッションストレージにフラッシュされたエラーをアサートできます。</p>
</div>
<p><a name="assert-session-has-errors-in"></a></p>
<h4 id="assertsessionhaserrorsin">assertSessionHasErrorsIn<a class="headerlink" href="#assertsessionhaserrorsin" title="Permanent link">&para;</a></h4>
<p>セッションに指定された<code>$keys</code>に対するエラーが特定の<a href="validation.html#named-error-bags">エラーバッグ</a>内に含まれていることをアサートします。<code>$keys</code>が連想配列の場合、セッションに各フィールド（キー）に対する特定のエラーメッセージ（値）がエラーバッグ内に含まれていることをアサートします:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertSessionHasErrorsIn</span><span class="p">(</span><span class="nv">$errorBag</span><span class="p">,</span> <span class="nv">$keys</span> <span class="o">=</span> <span class="p">[],</span> <span class="nv">$format</span> <span class="o">=</span> <span class="k">null</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-session-has-no-errors"></a></p>
<h4 id="assertsessionhasnoerrors">assertSessionHasNoErrors<a class="headerlink" href="#assertsessionhasnoerrors" title="Permanent link">&para;</a></h4>
<p>セッションにバリデーションエラーがないことをアサートする:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertSessionHasNoErrors</span><span class="p">();</span>
</code></pre></div>
<p><a name="assert-session-doesnt-have-errors"></a></p>
<h4 id="assertsessiondoesnthaveerrors">assertSessionDoesntHaveErrors<a class="headerlink" href="#assertsessiondoesnthaveerrors" title="Permanent link">&para;</a></h4>
<p>セッションに指定されたキーのバリデーションエラーがないことをアサートする:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertSessionDoesntHaveErrors</span><span class="p">(</span><span class="nv">$keys</span> <span class="o">=</span> <span class="p">[],</span> <span class="nv">$format</span> <span class="o">=</span> <span class="k">null</span><span class="p">,</span> <span class="nv">$errorBag</span> <span class="o">=</span> <span class="s1">&#39;default&#39;</span><span class="p">);</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>より汎用的な<a href="#assert-valid">assertValid</a>メソッドは、レスポンスにJSONとして返されたバリデーションエラーがないこと、およびセッションストレージにエラーがフラッシュされていないことをアサートするために使用できます。</p>
</div>
<p><a name="assert-session-missing"></a></p>
<h4 id="assertsessionmissing">assertSessionMissing<a class="headerlink" href="#assertsessionmissing" title="Permanent link">&para;</a></h4>
<p>セッションに指定されたキーが含まれていないことをアサートする:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertSessionMissing</span><span class="p">(</span><span class="nv">$key</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-status"></a></p>
<h4 id="assertstatus">assertStatus<a class="headerlink" href="#assertstatus" title="Permanent link">&para;</a></h4>
<p>レスポンスが指定されたHTTPステータスコードを持つことをアサートする:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertStatus</span><span class="p">(</span><span class="nv">$code</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-successful"></a></p>
<h4 id="assertsuccessful">assertSuccessful<a class="headerlink" href="#assertsuccessful" title="Permanent link">&para;</a></h4>
<p>レスポンスが成功（&gt;= 200 かつ &lt; 300）のHTTPステータスコードを持つことをアサートする:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertSuccessful</span><span class="p">();</span>
</code></pre></div>
<p><a name="assert-too-many-requests"></a></p>
<h4 id="asserttoomanyrequests">assertTooManyRequests<a class="headerlink" href="#asserttoomanyrequests" title="Permanent link">&para;</a></h4>
<p>レスポンスがリクエスト過多（429）のHTTPステータスコードを持つことをアサートする:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertTooManyRequests</span><span class="p">();</span>
</code></pre></div>
<p><a name="assert-unauthorized"></a></p>
<h4 id="assertunauthorized">assertUnauthorized<a class="headerlink" href="#assertunauthorized" title="Permanent link">&para;</a></h4>
<p>レスポンスが認証されていない（401）のHTTPステータスコードを持つことをアサートする:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertUnauthorized</span><span class="p">();</span>
</code></pre></div>
<p><a name="assert-unprocessable"></a></p>
<h4 id="assertunprocessable">assertUnprocessable<a class="headerlink" href="#assertunprocessable" title="Permanent link">&para;</a></h4>
<p>レスポンスが処理不能なエンティティ（422）のHTTPステータスコードを持つことをアサートする:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertUnprocessable</span><span class="p">();</span>
</code></pre></div>
<p><a name="assert-unsupported-media-type"></a></p>
<h4 id="assertunsupportedmediatype">assertUnsupportedMediaType<a class="headerlink" href="#assertunsupportedmediatype" title="Permanent link">&para;</a></h4>
<p>レスポンスがサポートされていないメディアタイプ（415）のHTTPステータスコードを持つことをアサートする:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertUnsupportedMediaType</span><span class="p">();</span>
</code></pre></div>
<p><a name="assert-valid"></a></p>
<h4 id="assertvalid">assertValid<a class="headerlink" href="#assertvalid" title="Permanent link">&para;</a></h4>
<p>レスポンスに指定されたキーのバリデーションエラーがないことをアサートする。このメソッドは、バリデーションエラーがJSON構造として返されるレスポンスや、バリデーションエラーがセッションにフラッシュされたレスポンスに対してアサートするために使用できます:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// バリデーションエラーが存在しないことをアサートする...</span>
<span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertValid</span><span class="p">();</span>

<span class="c1">// 指定されたキーにバリデーションエラーがないことをアサートする...</span>
<span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertValid</span><span class="p">([</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">]);</span>
</code></pre></div>
<p><a name="assert-invalid"></a></p>
<h4 id="assertinvalid">assertInvalid<a class="headerlink" href="#assertinvalid" title="Permanent link">&para;</a></h4>
<p>レスポンスに指定されたキーのバリデーションエラーがあることをアサートする。このメソッドは、バリデーションエラーがJSON構造として返されるレスポンスや、バリデーションエラーがセッションにフラッシュされたレスポンスに対してアサートするために使用できます:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertInvalid</span><span class="p">([</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">]);</span>
</code></pre></div>
<p>また、特定のキーが特定のバリデーションエラーメッセージを持つことをアサートすることもできます。その際、メッセージ全体またはメッセージの一部を提供できます:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertInvalid</span><span class="p">([</span>
    <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;The name field is required.&#39;</span><span class="p">,</span>
    <span class="s1">&#39;email&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;valid email address&#39;</span><span class="p">,</span>
<span class="p">]);</span>
</code></pre></div>
<p><a name="assert-view-has"></a></p>
<h4 id="assertviewhas">assertViewHas<a class="headerlink" href="#assertviewhas" title="Permanent link">&para;</a></h4>
<p>レスポンスビューに指定されたデータが含まれていることをアサートする:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertViewHas</span><span class="p">(</span><span class="nv">$key</span><span class="p">,</span> <span class="nv">$value</span> <span class="o">=</span> <span class="k">null</span><span class="p">);</span>
</code></pre></div>
<p><code>assertViewHas</code>メソッドの第2引数としてクロージャを渡すと、特定のビューデータを検査してアサーションを行うことができます:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertViewHas</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nx">User</span> <span class="nv">$user</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$user</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">===</span> <span class="s1">&#39;Taylor&#39;</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>
<p>さらに、ビューデータはレスポンスの配列変数としてアクセスでき、便利に検査できます:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="33:1"><input checked="checked" id="__tabbed_33_1" name="__tabbed_33" type="radio" /><div class="tabbed-labels"><label for="__tabbed_33_1">Pest</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="nx">expect</span><span class="p">(</span><span class="nv">$response</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">toBe</span><span class="p">(</span><span class="s1">&#39;Taylor&#39;</span><span class="p">);</span>
</code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="34:1"><input checked="checked" id="__tabbed_34_1" name="__tabbed_34" type="radio" /><div class="tabbed-labels"><label for="__tabbed_34_1">PHPUnit</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertEquals</span><span class="p">(</span><span class="s1">&#39;Taylor&#39;</span><span class="p">,</span> <span class="nv">$response</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]);</span>
</code></pre></div>
<p><a name="assert-view-has-all"></a></p>
<h4 id="assertviewhasall">assertViewHasAll<a class="headerlink" href="#assertviewhasall" title="Permanent link">&para;</a></h4>
<p>レスポンスビューに指定されたリストのデータがあることをアサートする:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertViewHasAll</span><span class="p">(</span><span class="k">array</span> <span class="nv">$data</span><span class="p">);</span>
</code></pre></div>
<p>このメソッドは、ビューが指定されたキーに一致するデータを単に含んでいることをアサートするために使用できます:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertViewHasAll</span><span class="p">([</span>
    <span class="s1">&#39;name&#39;</span><span class="p">,</span>
    <span class="s1">&#39;email&#39;</span><span class="p">,</span>
<span class="p">]);</span>
</code></pre></div>
<p>または、ビューデータが存在し、特定の値を持つことをアサートすることもできます:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertViewHasAll</span><span class="p">([</span>
    <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Taylor Otwell&#39;</span><span class="p">,</span>
    <span class="s1">&#39;email&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;taylor@example.com,&#39;</span><span class="p">,</span>
<span class="p">]);</span>
</code></pre></div>
<p><a name="assert-view-is"></a></p>
<h4 id="assertviewis">assertViewIs<a class="headerlink" href="#assertviewis" title="Permanent link">&para;</a></h4>
<p>指定されたビューがルートによって返されたことをアサートする:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertViewIs</span><span class="p">(</span><span class="nv">$value</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-view-missing"></a></p>
<h4 id="assertviewmissing">assertViewMissing<a class="headerlink" href="#assertviewmissing" title="Permanent link">&para;</a></h4>
<p>アプリケーションのレスポンスで返されたビューに指定されたデータキーが利用できないことをアサートする:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertViewMissing</span><span class="p">(</span><span class="nv">$key</span><span class="p">);</span>
</code></pre></div>
<p><a name="authentication-assertions"></a></p>
<h3 id="_15">認証アサーション<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h3>
<p>Laravelは、アプリケーションの機能テスト内で利用できるさまざまな認証関連のアサーションも提供しています。これらのメソッドは、<code>get</code>や<code>post</code>などのメソッドによって返される<code>Illuminate\Testing\TestResponse</code>インスタンスではなく、テストクラス自体に対して呼び出されることに注意してください。</p>
<p><a name="assert-authenticated"></a></p>
<h4 id="assertauthenticated">assertAuthenticated<a class="headerlink" href="#assertauthenticated" title="Permanent link">&para;</a></h4>
<p>ユーザーが認証されていることをアサートする:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertAuthenticated</span><span class="p">(</span><span class="nv">$guard</span> <span class="o">=</span> <span class="k">null</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-guest"></a></p>
<h4 id="assertguest">assertGuest<a class="headerlink" href="#assertguest" title="Permanent link">&para;</a></h4>
<p>ユーザーが認証されていないことをアサートする:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertGuest</span><span class="p">(</span><span class="nv">$guard</span> <span class="o">=</span> <span class="k">null</span><span class="p">);</span>
</code></pre></div>
<p><a name="assert-authenticated-as"></a></p>
<h4 id="assertauthenticatedas">assertAuthenticatedAs<a class="headerlink" href="#assertauthenticatedas" title="Permanent link">&para;</a></h4>
<p>特定のユーザーが認証されていることをアサートする:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertAuthenticatedAs</span><span class="p">(</span><span class="nv">$user</span><span class="p">,</span> <span class="nv">$guard</span> <span class="o">=</span> <span class="k">null</span><span class="p">);</span>
</code></pre></div>
<p><a name="validation-assertions"></a></p>
<h2 id="_16">バリデーションアサーション<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h2>
<p>Laravelは、リクエストで提供されたデータが有効か無効かを確認するために使用できる2つの主要なバリデーション関連のアサーションを提供しています。</p>
<p><a name="validation-assert-valid"></a></p>
<h4 id="assertvalid_1">assertValid<a class="headerlink" href="#assertvalid_1" title="Permanent link">&para;</a></h4>
<p>レスポンスに指定されたキーのバリデーションエラーがないことをアサートする。このメソッドは、バリデーションエラーがJSON構造として返されるレスポンスや、バリデーションエラーがセッションにフラッシュされたレスポンスに対してアサートするために使用できます:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// バリデーションエラーが存在しないことをアサートする...</span>
<span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertValid</span><span class="p">();</span>

<span class="c1">// 指定されたキーにバリデーションエラーがないことをアサートする...</span>
<span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertValid</span><span class="p">([</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">]);</span>
</code></pre></div>
<p><a name="validation-assert-invalid"></a></p>
<h4 id="assertinvalid_1">assertInvalid<a class="headerlink" href="#assertinvalid_1" title="Permanent link">&para;</a></h4>
<p>レスポンスに指定されたキーのバリデーションエラーがあることをアサートする。このメソッドは、バリデーションエラーがJSON構造として返されるレスポンスや、バリデーションエラーがセッションにフラッシュされたレスポンスに対してアサートするために使用できます:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertInvalid</span><span class="p">([</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">]);</span>
</code></pre></div>
<p>また、特定のキーが特定のバリデーションエラーメッセージを持つことをアサートすることもできます。その際、メッセージ全体またはメッセージの一部を提供できます:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">assertInvalid</span><span class="p">([</span>
    <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;The name field is required.&#39;</span><span class="p">,</span>
    <span class="s1">&#39;email&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;valid email address&#39;</span><span class="p">,</span>
<span class="p">]);</span>
</code></pre></div>









  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
<nav class="md-footer-nav">
    
    
</nav>

    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": ["back-to-top", "navigation.expand", "navigation.tabs", "navigation.footer", "navigation.sections", "navigation.expand", "content.code.copy", "hide_repository_button", "content.code.annotate", "content.tabs.link", "toc.none", "content.action.edit"], "search": "assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  </body>
</html>